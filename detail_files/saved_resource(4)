(()=>{var t={93:(t,e,n)=>{!function(e){if("object"==typeof window[e]){t.exports=function(){"use strict";function t(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function e(t){return"function"==typeof t}function r(t){H=t}function o(t){J=t}function i(){return function(){return process.nextTick(p)}}function s(){return void 0!==B?function(){B(p)}:u()}function c(){var t=0,e=new $(p),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function a(){var t=new MessageChannel;return t.port1.onmessage=p,function(){return t.port2.postMessage(0)}}function u(){var t=setTimeout;return function(){return t(p,1)}}function p(){for(var t=0;t<q;t+=2)(0,Q[t])(Q[t+1]),Q[t]=void 0,Q[t+1]=void 0;q=0}function l(){try{var t=Function("return this")().require("vertx");return B=t.runOnLoop||t.runOnContext,s()}catch(t){return u()}}function f(t,e){var n=this,r=new this.constructor(d);void 0===r[Z]&&D(r);var o=n._state;if(o){var i=arguments[o-1];J((function(){return C(o,r,i,n._result)}))}else P(n,r,t,e);return r}function h(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(d);return j(n,t),n}function d(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function g(t){try{return t.then}catch(t){return rt.error=t,rt}}function _(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function b(t,e,n){J((function(t){var r=!1,o=_(n,e,(function(n){r||(r=!0,e!==n?j(t,n):A(t,n))}),(function(e){r||(r=!0,T(t,e))}),"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,T(t,o))}),t)}function w(t,e){e._state===et?A(t,e._result):e._state===nt?T(t,e._result):P(e,void 0,(function(e){return j(t,e)}),(function(e){return T(t,e)}))}function I(t,n,r){n.constructor===t.constructor&&r===f&&n.constructor.resolve===h?w(t,n):r===rt?(T(t,rt.error),rt.error=null):void 0===r?A(t,n):e(r)?b(t,n,r):A(t,n)}function j(e,n){e===n?T(e,v()):t(n)?I(e,n,g(n)):A(e,n)}function m(t){t._onerror&&t._onerror(t._result),O(t)}function A(t,e){t._state===tt&&(t._result=e,t._state=et,0!==t._subscribers.length&&J(O,t))}function T(t,e){t._state===tt&&(t._state=nt,t._result=e,J(m,t))}function P(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+et]=n,o[i+nt]=r,0===i&&t._state&&J(O,t)}function O(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?C(n,r,o,i):o(i);t._subscribers.length=0}}function S(t,e){try{return t(e)}catch(t){return rt.error=t,rt}}function C(t,n,r,o){var i=e(r),s=void 0,c=void 0,a=void 0,u=void 0;if(i){if((s=S(r,o))===rt?(u=!0,c=s.error,s.error=null):a=!0,n===s)return void T(n,y())}else s=o,a=!0;n._state!==tt||(i&&a?j(n,s):u?T(n,c):t===et?A(n,s):t===nt&&T(n,s))}function E(t,e){try{e((function(e){j(t,e)}),(function(e){T(t,e)}))}catch(e){T(t,e)}}function N(){return ot++}function D(t){t[Z]=ot++,t._state=void 0,t._result=void 0,t._subscribers=[]}function x(){return new Error("Array Methods must be provided an Array")}function U(t){return new it(this,t).promise}function k(t){var e=this;return new e(V(t)?function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function L(t){var e=new this(d);return T(e,t),e}function M(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Y(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function F(){var t=void 0;if(void 0!==n.g)t=n.g;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=st}var R=void 0;R=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var V=R,q=0,B=void 0,H=void 0,J=function(t,e){Q[q]=t,Q[q+1]=e,2===(q+=2)&&(H?H(p):X())},K="undefined"!=typeof window?window:void 0,W=K||{},$=W.MutationObserver||W.WebKitMutationObserver,z="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),G="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Q=new Array(1e3),X=void 0;X=z?i():$?c():G?a():void 0===K?l():u();var Z=Math.random().toString(36).substring(2),tt=void 0,et=1,nt=2,rt={error:null},ot=0,it=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(d),this.promise[Z]||D(this.promise),V(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?A(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&A(this.promise,this._result))):T(this.promise,x())}return t.prototype._enumerate=function(t){for(var e=0;this._state===tt&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===h){var o=g(t);if(o===f&&t._state!==tt)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===st){var i=new n(d);I(i,t,o),this._willSettleAt(i,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===tt&&(this._remaining--,t===nt?T(r,n):this._result[e]=n),0===this._remaining&&A(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;P(t,void 0,(function(t){return n._settledAt(et,e,t)}),(function(t){return n._settledAt(nt,e,t)}))},t}(),st=function(){function t(e){this[Z]=N(),this._result=this._state=void 0,this._subscribers=[],d!==e&&("function"!=typeof e&&M(),this instanceof t?E(this,e):Y())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var e=this,n=e.constructor;return e.then((function(e){return n.resolve(t()).then((function(){return e}))}),(function(e){return n.resolve(t()).then((function(){throw e}))}))},t}();return st.prototype.then=f,st.all=U,st.race=k,st.resolve=h,st.reject=L,st._setScheduler=r,st._setAsap=o,st._asap=J,st.polyfill=F,st.Promise=st,st.polyfill(),st}();var r=window[e],o=function(t){this.init(t)};o.prototype={constant:{POPUP_NPS_ENDPOINT:"/function/popup-nps/",POPUP_AD_ENDPOINT:"/function/popup-ad/"},property:{core:null,conflictInstanceState:{ad:!1,nps:!1},popupNpsInstance:null,popupAdInstance:null},init:function(t){this.setCore(t)},setCore:function(t){return this.property.core=t,this},setPopupNpsInstance:function(t){return this.getCore().validateObjectType(t,"object")?(this.property.popupNpsInstance=t,this):this},setPopupAdInstance:function(t){return this.getCore().validateObjectType(t,"object")?(this.property.popupAdInstance=t,this):this},setConflictInstanceState:function(t,e){return this.getCore().validateObjectType(t,"string")||this.getCore().validateObjectType(e,"boolean")?(this.property.conflictInstanceState[t]=e,this):this},getCore:function(){return this.property.core},getIsConflicted:function(){return!!this.getCore().validateObjectType(this.property.is_conflicted,"boolean")&&this.property.is_conflicted},getConflictInstanceState:function(t){return!!this.getCore().validateObjectType(this.property.conflictInstanceState[t],"boolean")&&this.property.conflictInstanceState[t]},getPopupNpsInstance:function(){return this.getCore().validateObjectType(this.property.popupNpsInstance,"object")?this.property.popupNpsInstance:null},getPopupAdInstance:function(){return this.getCore().validateObjectType(this.property.popupAdInstance,"object")?this.property.popupAdInstance:null},load:function(){var t=this.getCore(),e=0;e=r.getDevice()==r.constant.DEVICE_TYPE_PC||r.getDevice()==r.constant.DEVICE_TYPE_TABLET?1:e,e=r.getDevice()==r.constant.DEVICE_TYPE_SMARTPHONE?2:e;var n={ad:r.getLocalStorage("juicer_popup"),nps:r.getLocalStorage("juicer_nps")};n.ad=""!=n.ad?r.convertStringToObject(n.ad):{},n.ad=""!=n.ad&r.validateObjectType(n.ad[r.getSiteId()],"object")?n.ad[r.getSiteId()]:{},n.adIsShow=Object.keys(n.ad).length>0?"1":"0",n.adLastShowDate=Object.keys(n.ad).length>0&&r.validateObjectType(n.ad.last_show_date,"string")?n.ad.last_show_date:"0",n.nps=""!=n.nps?r.convertStringToObject(n.nps):{},n.nps=""!=n.nps&r.validateObjectType(n.nps[r.getSiteId()],"object")?n.nps[r.getSiteId()]:{},n.npsIsShow=Object.keys(n.nps).length>0?"1":"0",n.npsLastAnswerDate=Object.keys(n.nps).length>0&&r.validateObjectType(n.nps.last_answer_date,"string")?n.nps.last_answer_date:"0",n.npsIsAnswer=Object.keys(n.nps).length>0&&(r.validateObjectType(n.nps.is_answer,"string")||r.validateObjectType(n.nps.is_answer,"number"))?n.nps.is_answer+"":"0",t.validateObjectType(t.getConfig().siteInfo.functionPopupNps,"boolean")&&t.getConfig().siteInfo.functionPopupNps&&(this.setConflictInstanceState("nps",!0),t.loadAsync(t.getDomain()+this.constant.POPUP_NPS_ENDPOINT+"?color="+t.getColor()+"&ip="+t.getIp()+"&deviceType="+e+"&url="+encodeURIComponent(r.getUrl())+"&isShow="+n.npsIsShow+"&isAnswer="+n.npsIsAnswer+"&lastAnswerDate="+n.npsLastAnswerDate,!0)),t.validateObjectType(t.getConfig().siteInfo.functionPopupAd,"boolean")&&t.getConfig().siteInfo.functionPopupAd&&(this.setConflictInstanceState("ad",!0),t.loadAsync(t.getDomain()+this.constant.POPUP_AD_ENDPOINT+"?color="+t.getColor()+"&id="+t.getUserId()+"&jid="+t.getJuicerId()+"&ip="+t.getIp()+"&deviceType="+e+"&url="+encodeURIComponent(r.getUrl())+"&isShow="+n.adIsShow+"&lastShowDate="+n.adLastShowDate,!0))},isAvailable:function(t){var e=this,n=this.getCore(),r=[];if(this.getConflictInstanceState("nps")){var o=new Promise((function(t,n){var r=function(n){n++;var o=e.getPopupNpsInstance();n>5?t(!1):(null!=o&&t(o.isAvailable()),null==o&&setTimeout((function(){r(n)}),200))};r(0)}));r.push(o)}if(this.getConflictInstanceState("ad")){var i=new Promise((function(t,n){var r=function(n){n++;var o=e.getPopupAdInstance();n>5?t(!1):(null!=o&&t(o.isAvailable()),null==o&&setTimeout((function(){r(n)}),200))};r(0)}));r.push(i)}Promise.all(r).then((function(e){n.validateObjectType(t,"function")&&t({nps:e[0],ad:e[1]})}))}};r.executeAsync((function(){var t=new o(r);r.popup=r.validateObjectType(r.popup,"object")?r.popup:t,t.load()}))}}("__kit__WTmSvBBdtO8=")}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();n(93)})();