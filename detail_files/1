/*! For license information please see _bundle.js.LICENSE.txt */
!function(){var t={79:function(t,e,n){var r=n(3702),o=n(80),i=n(4739),a=n(8655),u=n(1175);function s(t){var e=-1,n=null==t?0:t.length;this.clear();for(;++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r;s.prototype["delete"]=o;s.prototype.get=i;s.prototype.has=a;s.prototype.set=u;t.exports=s},80:function(t,e,n){var r=n(6025),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);if(n<0)return!1;n==e.length-1?e.pop():o.call(e,n,1);--this.size;return!0}},121:function(t){t.exports=function(){var t,e=[],n=document,r=n.documentElement.doScroll,o="DOMContentLoaded",i=(r?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);i||n.addEventListener(o,t=function(){n.removeEventListener(o,t);i=1;for(;t=e.shift();)t()});return function(t){i?setTimeout(t,0):e.push(t)}}()},124:function(t,e,n){var r=n(9325);t.exports=function(){return r.Date.now()}},181:function(t){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},289:function(t,e,n){var r=n(2651);t.exports=function(t){return r(this,t).get(t)}},294:function(t){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},346:function(t){t.exports=function(t){return null!=t&&"object"==typeof t}},361:function(t){var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},392:function(t){t.exports=function(t,e){return null==t?void 0:t[e]}},659:function(t,e,n){var r=n(1873),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var o=a.call(t);r&&(e?t[u]=n:delete t[u]);return o}},680:function(t,e,n){var r=n(3222),o=/[\\^$.*+?()[\]{}|]/g,i=RegExp(o.source);t.exports=function(t){return(t=r(t))&&i.test(t)?t.replace(o,"\\$&"):t}},695:function(t,e,n){var r=n(8096),o=n(2428),i=n(6449),a=n(3656),u=n(361),s=n(7167),l=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),c=!n&&o(t),f=!n&&!c&&a(t),p=!n&&!c&&!f&&s(t),d=n||c||f||p,h=d?r(t.length,String):[],y=h.length;for(var g in t)!e&&!l.call(t,g)||d&&("length"==g||f&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||u(g,y))||h.push(g);return h}},938:function(t){t.exports=function(t){var e=this.__data__,n=e["delete"](t);this.size=e.size;return n}},945:function(t,e,n){var r=n(79),o=n(8223),i=n(3661);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199){a.push([t,e]);this.size=++n.size;return this}n=this.__data__=new i(a)}n.set(t,e);this.size=n.size;return this}},999:function(t,e,n){var r=n(9302),o=n(6800);t.exports=function(t){return r(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;a=t.length>3&&"function"==typeof a?(i--,a):void 0;if(u&&o(n[0],n[1],u)){a=i<3?void 0:a;i=1}e=Object(e);for(;++r<i;){var s=n[r];s&&t(e,s,r,a)}return e})}},1033:function(t){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},1042:function(t,e,n){var r=n(6110)(Object,"create");t.exports=r},1160:function(t,e,n){"use strict";var r=n(2063),o=n(3992),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,u=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function f(t){return(t||"").toString().replace(i,"")}var p=[["#","hash"],["?","query"],function(t,e){return y(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function h(t){var e,r=("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).location||{},o={},i=typeof(t=t||r);if("blob:"===t.protocol)o=new v(unescape(t.pathname),{});else if("string"===i){o=new v(t,{});for(e in d)delete o[e]}else if("object"===i){for(e in t)e in d||(o[e]=t[e]);void 0===o.slashes&&(o.slashes=u.test(t.href))}return o}function y(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function g(t,e){t=(t=f(t)).replace(a,"");e=e||{};var n,r=l.exec(t),o=r[1]?r[1].toLowerCase():"",i=!!r[2],u=!!r[3],s=0;if(i)if(u){n=r[2]+r[3]+r[4];s=r[2].length+r[3].length}else{n=r[2]+r[4];s=r[2].length}else if(u){n=r[3]+r[4];s=r[3].length}else n=r[4];"file:"===o?s>=2&&(n=n.slice(2)):y(o)?n=r[4]:o?i&&(n=n.slice(2)):s>=2&&y(e.protocol)&&(n=r[4]);return{protocol:o,slashes:i||y(o),slashesCount:s,rest:n}}function v(t,e,n){t=(t=f(t)).replace(a,"");if(!(this instanceof v))return new v(t,e,n);var i,u,s,l,d,m,b=p.slice(),w=typeof e,S=this,k=0;if("object"!==w&&"string"!==w){n=e;e=null}n&&"function"!=typeof n&&(n=o.parse);i=!(u=g(t||"",e=h(e))).protocol&&!u.slashes;S.slashes=u.slashes||i&&e.slashes;S.protocol=u.protocol||e.protocol||"";t=u.rest;("file:"===u.protocol&&(2!==u.slashesCount||c.test(t))||!u.slashes&&(u.protocol||u.slashesCount<2||!y(S.protocol)))&&(b[3]=[/(.*)/,"pathname"]);for(;k<b.length;k++)if("function"!=typeof(l=b[k])){s=l[0];m=l[1];if(s!=s)S[m]=t;else if("string"==typeof s){if(~(d="@"===s?t.lastIndexOf(s):t.indexOf(s)))if("number"==typeof l[2]){S[m]=t.slice(0,d);t=t.slice(d+l[2])}else{S[m]=t.slice(d);t=t.slice(0,d)}}else if(d=s.exec(t)){S[m]=d[1];t=t.slice(0,d.index)}S[m]=S[m]||i&&l[3]&&e[m]||"";l[4]&&(S[m]=S[m].toLowerCase())}else t=l(t,S);n&&(S.query=n(S.query));i&&e.slashes&&"/"!==S.pathname.charAt(0)&&(""!==S.pathname||""!==e.pathname)&&(S.pathname=function(t,e){if(""===t)return e;for(var n=(e||"/").split("/").slice(0,-1).concat(t.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)if("."===n[r])n.splice(r,1);else if(".."===n[r]){n.splice(r,1);a++}else if(a){0===r&&(i=!0);n.splice(r,1);a--}i&&n.unshift("");"."!==o&&".."!==o||n.push("");return n.join("/")}(S.pathname,e.pathname));"/"!==S.pathname.charAt(0)&&y(S.protocol)&&(S.pathname="/"+S.pathname);if(!r(S.port,S.protocol)){S.host=S.hostname;S.port=""}S.username=S.password="";if(S.auth){if(~(d=S.auth.indexOf(":"))){S.username=S.auth.slice(0,d);S.username=encodeURIComponent(decodeURIComponent(S.username));S.password=S.auth.slice(d+1);S.password=encodeURIComponent(decodeURIComponent(S.password))}else S.username=encodeURIComponent(decodeURIComponent(S.auth));S.auth=S.password?S.username+":"+S.password:S.username}S.origin="file:"!==S.protocol&&y(S.protocol)&&S.host?S.protocol+"//"+S.host:"null";S.href=S.toString()}v.prototype={set:function(t,e,n){var i=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(n||o.parse)(e));i[t]=e;break;case"port":i[t]=e;if(r(e,i.protocol))e&&(i.host=i.hostname+":"+e);else{i.host=i.hostname;i[t]=""}break;case"hostname":i[t]=e;i.port&&(e+=":"+i.port);i.host=e;break;case"host":i[t]=e;if(s.test(e)){e=e.split(":");i.port=e.pop();i.hostname=e.join(":")}else{i.hostname=e;i.port=""}break;case"protocol":i.protocol=e.toLowerCase();i.slashes=!n;break;case"pathname":case"hash":if(e){var a="pathname"===t?"/":"#";i[t]=e.charAt(0)!==a?a+e:e}else i[t]=e;break;case"username":case"password":i[t]=encodeURIComponent(e);break;case"auth":var u=e.indexOf(":");if(~u){i.username=e.slice(0,u);i.username=encodeURIComponent(decodeURIComponent(i.username));i.password=e.slice(u+1);i.password=encodeURIComponent(decodeURIComponent(i.password))}else i.username=encodeURIComponent(decodeURIComponent(e))}for(var l=0;l<p.length;l++){var c=p[l];c[4]&&(i[c[1]]=i[c[1]].toLowerCase())}i.auth=i.password?i.username+":"+i.password:i.username;i.origin="file:"!==i.protocol&&y(i.protocol)&&i.host?i.protocol+"//"+i.host:"null";i.href=i.toString();return i},toString:function(t){t&&"function"==typeof t||(t=o.stringify);var e,n=this,r=n.host,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var a=i+(n.protocol&&n.slashes||y(n.protocol)?"//":"");if(n.username){a+=n.username;n.password&&(a+=":"+n.password);a+="@"}else if(n.password){a+=":"+n.password;a+="@"}else"file:"!==n.protocol&&y(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@");(":"===r[r.length-1]||s.test(n.hostname)&&!n.port)&&(r+=":");a+=r+n.pathname;(e="object"==typeof n.query?t(n.query):n.query)&&(a+="?"!==e.charAt(0)?"?"+e:e);n.hash&&(a+=n.hash);return a}};v.extractProtocol=g;v.location=h;v.trimLeft=f;v.qs=o;t.exports=v},1175:function(t,e,n){var r=n(6025);t.exports=function(t,e){var n=this.__data__,o=r(n,t);if(o<0){++this.size;n.push([t,e])}else n[o][1]=e;return this}},1331:function(t,e,n){var r=n(2552),o=n(8879),i=n(346),a=Function.prototype,u=Object.prototype,s=a.toString,l=u.hasOwnProperty,c=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==c}},1420:function(t,e,n){var r=n(79);t.exports=function(){this.__data__=new r;this.size=0}},1549:function(t,e,n){var r=n(2032),o=n(3862),i=n(6721),a=n(2749),u=n(5749);function s(t){var e=-1,n=null==t?0:t.length;this.clear();for(;++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r;s.prototype["delete"]=o;s.prototype.get=i;s.prototype.has=a;s.prototype.set=u;t.exports=s},1791:function(t,e,n){var r=n(6547),o=n(3360);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var u=-1,s=e.length;++u<s;){var l=e[u],c=i?i(n[l],t[l],l,n,t):void 0;void 0===c&&(c=t[l]);a?o(n,l,c):r(n,l,c)}return n}},1800:function(t){var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},1811:function(t){var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var o=e(),i=16-(o-r);r=o;if(i>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},1873:function(t,e,n){var r=n(9325).Symbol;t.exports=r},1882:function(t,e,n){var r=n(2552),o=n(3805);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1961:function(t,e,n){var r=n(9653);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},2032:function(t,e,n){var r=n(1042);t.exports=function(){this.__data__=r?r(null):{};this.size=0}},2063:function(t){"use strict";t.exports=function(t,e){e=e.split(":")[0];if(!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},2151:function(t){var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=e},2376:function(t,e,n){"use strict";0;n(8721).XmlEntities;n(9839).Html4Entities;var r=n(4490);r.Html5Entities;e.sK=r.Html5Entities},2428:function(t,e,n){var r=n(7534),o=n(346),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},2552:function(t,e,n){var r=n(1873),o=n(659),i=n(9350),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},2651:function(t,e,n){var r=n(4218);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},2749:function(t,e,n){var r=n(1042),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},2824:function(t,e,n){var r=n(7805),o=n(3290),i=n(1961),a=n(3007),u=n(5529),s=n(2428),l=n(6449),c=n(3693),f=n(3656),p=n(1882),d=n(3805),h=n(1331),y=n(7167),g=n(4974),v=n(9884);t.exports=function(t,e,n,m,b,w,S){var k=g(t,n),T=g(e,n),C=S.get(T);if(C)r(t,n,C);else{var O=w?w(k,T,n+"",t,e,S):void 0,E=void 0===O;if(E){var P=l(T),_=!P&&f(T),A=!P&&!_&&y(T);O=T;if(P||_||A)if(l(k))O=k;else if(c(k))O=a(k);else if(_){E=!1;O=o(T,!0)}else if(A){E=!1;O=i(T,!0)}else O=[];else if(h(T)||s(T)){O=k;s(k)?O=v(k):d(k)&&!p(k)||(O=u(T))}else E=!1}if(E){S.set(T,O);b(O,T,m,w,S);S["delete"](T)}r(t,n,O)}}},2865:function(t,e,n){var r=n(9570),o=n(1811)(r);t.exports=o},2903:function(t,e,n){var r=n(3805),o=n(5527),i=n(181),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&n.push(u);return n}},2949:function(t,e,n){var r=n(2651);t.exports=function(t,e){var n=r(this,t),o=n.size;n.set(t,e);this.size+=n.size==o?0:1;return this}},3007:function(t){t.exports=function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}},3040:function(t,e,n){var r=n(1549),o=n(79),i=n(8223);t.exports=function(){this.size=0;this.__data__={hash:new r,map:new(i||o),string:new r}}},3221:function(t){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===n(i[s],s,i))break}return e}}},3222:function(t,e,n){var r=n(7556);t.exports=function(t){return null==t?"":r(t)}},3243:function(t,e,n){var r=n(6110),o=function(){try{var t=r(Object,"defineProperty");t({},"",{});return t}catch(t){}}();t.exports=o},3290:function(t,e,n){t=n.nmd(t);var r=n(9325),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);t.copy(r);return r}},3360:function(t,e,n){var r=n(3243);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},3488:function(t){t.exports=function(t){return t}},3503:function(t,e,n){!function(){var e=n(3939),r=n(2151).utf8,o=n(7206),i=n(2151).bin,a=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?i.stringToBytes(t):r.stringToBytes(t):o(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var u=e.bytesToWords(t),s=8*t.length,l=1732584193,c=-271733879,f=-1732584194,p=271733878,d=0;d<u.length;d++)u[d]=16711935&(u[d]<<8|u[d]>>>24)|4278255360&(u[d]<<24|u[d]>>>8);u[s>>>5]|=128<<s%32;u[14+(s+64>>>9<<4)]=s;var h=a._ff,y=a._gg,g=a._hh,v=a._ii;for(d=0;d<u.length;d+=16){var m=l,b=c,w=f,S=p;l=h(l,c,f,p,u[d+0],7,-680876936);p=h(p,l,c,f,u[d+1],12,-389564586);f=h(f,p,l,c,u[d+2],17,606105819);c=h(c,f,p,l,u[d+3],22,-1044525330);l=h(l,c,f,p,u[d+4],7,-176418897);p=h(p,l,c,f,u[d+5],12,1200080426);f=h(f,p,l,c,u[d+6],17,-1473231341);c=h(c,f,p,l,u[d+7],22,-45705983);l=h(l,c,f,p,u[d+8],7,1770035416);p=h(p,l,c,f,u[d+9],12,-1958414417);f=h(f,p,l,c,u[d+10],17,-42063);c=h(c,f,p,l,u[d+11],22,-1990404162);l=h(l,c,f,p,u[d+12],7,1804603682);p=h(p,l,c,f,u[d+13],12,-40341101);f=h(f,p,l,c,u[d+14],17,-1502002290);l=y(l,c=h(c,f,p,l,u[d+15],22,1236535329),f,p,u[d+1],5,-165796510);p=y(p,l,c,f,u[d+6],9,-1069501632);f=y(f,p,l,c,u[d+11],14,643717713);c=y(c,f,p,l,u[d+0],20,-373897302);l=y(l,c,f,p,u[d+5],5,-701558691);p=y(p,l,c,f,u[d+10],9,38016083);f=y(f,p,l,c,u[d+15],14,-660478335);c=y(c,f,p,l,u[d+4],20,-405537848);l=y(l,c,f,p,u[d+9],5,568446438);p=y(p,l,c,f,u[d+14],9,-1019803690);f=y(f,p,l,c,u[d+3],14,-187363961);c=y(c,f,p,l,u[d+8],20,1163531501);l=y(l,c,f,p,u[d+13],5,-1444681467);p=y(p,l,c,f,u[d+2],9,-51403784);f=y(f,p,l,c,u[d+7],14,1735328473);l=g(l,c=y(c,f,p,l,u[d+12],20,-1926607734),f,p,u[d+5],4,-378558);p=g(p,l,c,f,u[d+8],11,-2022574463);f=g(f,p,l,c,u[d+11],16,1839030562);c=g(c,f,p,l,u[d+14],23,-35309556);l=g(l,c,f,p,u[d+1],4,-1530992060);p=g(p,l,c,f,u[d+4],11,1272893353);f=g(f,p,l,c,u[d+7],16,-155497632);c=g(c,f,p,l,u[d+10],23,-1094730640);l=g(l,c,f,p,u[d+13],4,681279174);p=g(p,l,c,f,u[d+0],11,-358537222);f=g(f,p,l,c,u[d+3],16,-722521979);c=g(c,f,p,l,u[d+6],23,76029189);l=g(l,c,f,p,u[d+9],4,-640364487);p=g(p,l,c,f,u[d+12],11,-421815835);f=g(f,p,l,c,u[d+15],16,530742520);l=v(l,c=g(c,f,p,l,u[d+2],23,-995338651),f,p,u[d+0],6,-198630844);p=v(p,l,c,f,u[d+7],10,1126891415);f=v(f,p,l,c,u[d+14],15,-1416354905);c=v(c,f,p,l,u[d+5],21,-57434055);l=v(l,c,f,p,u[d+12],6,1700485571);p=v(p,l,c,f,u[d+3],10,-1894986606);f=v(f,p,l,c,u[d+10],15,-1051523);c=v(c,f,p,l,u[d+1],21,-2054922799);l=v(l,c,f,p,u[d+8],6,1873313359);p=v(p,l,c,f,u[d+15],10,-30611744);f=v(f,p,l,c,u[d+6],15,-1560198380);c=v(c,f,p,l,u[d+13],21,1309151649);l=v(l,c,f,p,u[d+4],6,-145523070);p=v(p,l,c,f,u[d+11],10,-1120210379);f=v(f,p,l,c,u[d+2],15,718787259);c=v(c,f,p,l,u[d+9],21,-343485551);l=l+m>>>0;c=c+b>>>0;f=f+w>>>0;p=p+S>>>0}return e.endian([l,c,f,p])};a._ff=function(t,e,n,r,o,i,a){var u=t+(e&n|~e&r)+(o>>>0)+a;return(u<<i|u>>>32-i)+e};a._gg=function(t,e,n,r,o,i,a){var u=t+(e&r|n&~r)+(o>>>0)+a;return(u<<i|u>>>32-i)+e};a._hh=function(t,e,n,r,o,i,a){var u=t+(e^n^r)+(o>>>0)+a;return(u<<i|u>>>32-i)+e};a._ii=function(t,e,n,r,o,i,a){var u=t+(n^(e|~r))+(o>>>0)+a;return(u<<i|u>>>32-i)+e};a._blocksize=16;a._digestsize=16;t.exports=function(t,n){if(null==t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(a(t,n));return n&&n.asBytes?r:n&&n.asString?i.bytesToString(r):e.bytesToHex(r)}}()},3605:function(t){t.exports=function(t){return this.__data__.get(t)}},3656:function(t,e,n){t=n.nmd(t);var r=n(9325),o=n(9935),i=e&&!e.nodeType&&e,a=i&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;t.exports=s},3661:function(t,e,n){var r=n(3040),o=n(7670),i=n(289),a=n(4509),u=n(2949);function s(t){var e=-1,n=null==t?0:t.length;this.clear();for(;++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r;s.prototype["delete"]=o;s.prototype.get=i;s.prototype.has=a;s.prototype.set=u;t.exports=s},3693:function(t,e,n){var r=n(4894),o=n(346);t.exports=function(t){return o(t)&&r(t)}},3702:function(t){t.exports=function(){this.__data__=[];this.size=0}},3805:function(t){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},3862:function(t){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];this.size-=e?1:0;return e}},3939:function(t){e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++){e.push((t[n]>>>4).toString(16));e.push((15&t[n]).toString(16))}return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var o=t[r]<<16|t[r+1]<<8|t[r+2],i=0;i<4;i++)8*r+6*i<=8*t.length?n.push(e.charAt(o>>>6*(3-i)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,o=0;r<t.length;o=++r%4)0!=o&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*o+8)-1)<<2*o|e.indexOf(t.charAt(r))>>>6-2*o);return n}},t.exports=n;var e,n},3992:function(t,e){"use strict";var n=Object.prototype.hasOwnProperty;function r(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function o(t){try{return encodeURIComponent(t)}catch(t){return null}}e.stringify=function(t,e){var r,i,a=[];"string"!=typeof(e=e||"")&&(e="?");for(i in t)if(n.call(t,i)){(r=t[i])||null!=r&&!isNaN(r)||(r="");i=o(i);r=o(r);if(null===i||null===r)continue;a.push(i+"="+r)}return a.length?e+a.join("&"):""};e.parse=function(t){for(var e,n=/([^=?#&]+)=?([^&]*)/g,o={};e=n.exec(t);){var i=r(e[1]),a=r(e[2]);null===i||null===a||i in o||(o[i]=a)}return o}},4128:function(t,e,n){var r=n(1800),o=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(o,""):t}},4218:function(t){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},4335:function(t){t.exports=function(t,e){return function(n){return t(e(n))}}},4394:function(t,e,n){var r=n(2552),o=n(346);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},4490:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4826),o=[["Aacute",[193]],["aacute",[225]],["Abreve",[258]],["abreve",[259]],["ac",[8766]],["acd",[8767]],["acE",[8766,819]],["Acirc",[194]],["acirc",[226]],["acute",[180]],["Acy",[1040]],["acy",[1072]],["AElig",[198]],["aelig",[230]],["af",[8289]],["Afr",[120068]],["afr",[120094]],["Agrave",[192]],["agrave",[224]],["alefsym",[8501]],["aleph",[8501]],["Alpha",[913]],["alpha",[945]],["Amacr",[256]],["amacr",[257]],["amalg",[10815]],["amp",[38]],["AMP",[38]],["andand",[10837]],["And",[10835]],["and",[8743]],["andd",[10844]],["andslope",[10840]],["andv",[10842]],["ang",[8736]],["ange",[10660]],["angle",[8736]],["angmsdaa",[10664]],["angmsdab",[10665]],["angmsdac",[10666]],["angmsdad",[10667]],["angmsdae",[10668]],["angmsdaf",[10669]],["angmsdag",[10670]],["angmsdah",[10671]],["angmsd",[8737]],["angrt",[8735]],["angrtvb",[8894]],["angrtvbd",[10653]],["angsph",[8738]],["angst",[197]],["angzarr",[9084]],["Aogon",[260]],["aogon",[261]],["Aopf",[120120]],["aopf",[120146]],["apacir",[10863]],["ap",[8776]],["apE",[10864]],["ape",[8778]],["apid",[8779]],["apos",[39]],["ApplyFunction",[8289]],["approx",[8776]],["approxeq",[8778]],["Aring",[197]],["aring",[229]],["Ascr",[119964]],["ascr",[119990]],["Assign",[8788]],["ast",[42]],["asymp",[8776]],["asympeq",[8781]],["Atilde",[195]],["atilde",[227]],["Auml",[196]],["auml",[228]],["awconint",[8755]],["awint",[10769]],["backcong",[8780]],["backepsilon",[1014]],["backprime",[8245]],["backsim",[8765]],["backsimeq",[8909]],["Backslash",[8726]],["Barv",[10983]],["barvee",[8893]],["barwed",[8965]],["Barwed",[8966]],["barwedge",[8965]],["bbrk",[9141]],["bbrktbrk",[9142]],["bcong",[8780]],["Bcy",[1041]],["bcy",[1073]],["bdquo",[8222]],["becaus",[8757]],["because",[8757]],["Because",[8757]],["bemptyv",[10672]],["bepsi",[1014]],["bernou",[8492]],["Bernoullis",[8492]],["Beta",[914]],["beta",[946]],["beth",[8502]],["between",[8812]],["Bfr",[120069]],["bfr",[120095]],["bigcap",[8898]],["bigcirc",[9711]],["bigcup",[8899]],["bigodot",[10752]],["bigoplus",[10753]],["bigotimes",[10754]],["bigsqcup",[10758]],["bigstar",[9733]],["bigtriangledown",[9661]],["bigtriangleup",[9651]],["biguplus",[10756]],["bigvee",[8897]],["bigwedge",[8896]],["bkarow",[10509]],["blacklozenge",[10731]],["blacksquare",[9642]],["blacktriangle",[9652]],["blacktriangledown",[9662]],["blacktriangleleft",[9666]],["blacktriangleright",[9656]],["blank",[9251]],["blk12",[9618]],["blk14",[9617]],["blk34",[9619]],["block",[9608]],["bne",[61,8421]],["bnequiv",[8801,8421]],["bNot",[10989]],["bnot",[8976]],["Bopf",[120121]],["bopf",[120147]],["bot",[8869]],["bottom",[8869]],["bowtie",[8904]],["boxbox",[10697]],["boxdl",[9488]],["boxdL",[9557]],["boxDl",[9558]],["boxDL",[9559]],["boxdr",[9484]],["boxdR",[9554]],["boxDr",[9555]],["boxDR",[9556]],["boxh",[9472]],["boxH",[9552]],["boxhd",[9516]],["boxHd",[9572]],["boxhD",[9573]],["boxHD",[9574]],["boxhu",[9524]],["boxHu",[9575]],["boxhU",[9576]],["boxHU",[9577]],["boxminus",[8863]],["boxplus",[8862]],["boxtimes",[8864]],["boxul",[9496]],["boxuL",[9563]],["boxUl",[9564]],["boxUL",[9565]],["boxur",[9492]],["boxuR",[9560]],["boxUr",[9561]],["boxUR",[9562]],["boxv",[9474]],["boxV",[9553]],["boxvh",[9532]],["boxvH",[9578]],["boxVh",[9579]],["boxVH",[9580]],["boxvl",[9508]],["boxvL",[9569]],["boxVl",[9570]],["boxVL",[9571]],["boxvr",[9500]],["boxvR",[9566]],["boxVr",[9567]],["boxVR",[9568]],["bprime",[8245]],["breve",[728]],["Breve",[728]],["brvbar",[166]],["bscr",[119991]],["Bscr",[8492]],["bsemi",[8271]],["bsim",[8765]],["bsime",[8909]],["bsolb",[10693]],["bsol",[92]],["bsolhsub",[10184]],["bull",[8226]],["bullet",[8226]],["bump",[8782]],["bumpE",[10926]],["bumpe",[8783]],["Bumpeq",[8782]],["bumpeq",[8783]],["Cacute",[262]],["cacute",[263]],["capand",[10820]],["capbrcup",[10825]],["capcap",[10827]],["cap",[8745]],["Cap",[8914]],["capcup",[10823]],["capdot",[10816]],["CapitalDifferentialD",[8517]],["caps",[8745,65024]],["caret",[8257]],["caron",[711]],["Cayleys",[8493]],["ccaps",[10829]],["Ccaron",[268]],["ccaron",[269]],["Ccedil",[199]],["ccedil",[231]],["Ccirc",[264]],["ccirc",[265]],["Cconint",[8752]],["ccups",[10828]],["ccupssm",[10832]],["Cdot",[266]],["cdot",[267]],["cedil",[184]],["Cedilla",[184]],["cemptyv",[10674]],["cent",[162]],["centerdot",[183]],["CenterDot",[183]],["cfr",[120096]],["Cfr",[8493]],["CHcy",[1063]],["chcy",[1095]],["check",[10003]],["checkmark",[10003]],["Chi",[935]],["chi",[967]],["circ",[710]],["circeq",[8791]],["circlearrowleft",[8634]],["circlearrowright",[8635]],["circledast",[8859]],["circledcirc",[8858]],["circleddash",[8861]],["CircleDot",[8857]],["circledR",[174]],["circledS",[9416]],["CircleMinus",[8854]],["CirclePlus",[8853]],["CircleTimes",[8855]],["cir",[9675]],["cirE",[10691]],["cire",[8791]],["cirfnint",[10768]],["cirmid",[10991]],["cirscir",[10690]],["ClockwiseContourIntegral",[8754]],["clubs",[9827]],["clubsuit",[9827]],["colon",[58]],["Colon",[8759]],["Colone",[10868]],["colone",[8788]],["coloneq",[8788]],["comma",[44]],["commat",[64]],["comp",[8705]],["compfn",[8728]],["complement",[8705]],["complexes",[8450]],["cong",[8773]],["congdot",[10861]],["Congruent",[8801]],["conint",[8750]],["Conint",[8751]],["ContourIntegral",[8750]],["copf",[120148]],["Copf",[8450]],["coprod",[8720]],["Coproduct",[8720]],["copy",[169]],["COPY",[169]],["copysr",[8471]],["CounterClockwiseContourIntegral",[8755]],["crarr",[8629]],["cross",[10007]],["Cross",[10799]],["Cscr",[119966]],["cscr",[119992]],["csub",[10959]],["csube",[10961]],["csup",[10960]],["csupe",[10962]],["ctdot",[8943]],["cudarrl",[10552]],["cudarrr",[10549]],["cuepr",[8926]],["cuesc",[8927]],["cularr",[8630]],["cularrp",[10557]],["cupbrcap",[10824]],["cupcap",[10822]],["CupCap",[8781]],["cup",[8746]],["Cup",[8915]],["cupcup",[10826]],["cupdot",[8845]],["cupor",[10821]],["cups",[8746,65024]],["curarr",[8631]],["curarrm",[10556]],["curlyeqprec",[8926]],["curlyeqsucc",[8927]],["curlyvee",[8910]],["curlywedge",[8911]],["curren",[164]],["curvearrowleft",[8630]],["curvearrowright",[8631]],["cuvee",[8910]],["cuwed",[8911]],["cwconint",[8754]],["cwint",[8753]],["cylcty",[9005]],["dagger",[8224]],["Dagger",[8225]],["daleth",[8504]],["darr",[8595]],["Darr",[8609]],["dArr",[8659]],["dash",[8208]],["Dashv",[10980]],["dashv",[8867]],["dbkarow",[10511]],["dblac",[733]],["Dcaron",[270]],["dcaron",[271]],["Dcy",[1044]],["dcy",[1076]],["ddagger",[8225]],["ddarr",[8650]],["DD",[8517]],["dd",[8518]],["DDotrahd",[10513]],["ddotseq",[10871]],["deg",[176]],["Del",[8711]],["Delta",[916]],["delta",[948]],["demptyv",[10673]],["dfisht",[10623]],["Dfr",[120071]],["dfr",[120097]],["dHar",[10597]],["dharl",[8643]],["dharr",[8642]],["DiacriticalAcute",[180]],["DiacriticalDot",[729]],["DiacriticalDoubleAcute",[733]],["DiacriticalGrave",[96]],["DiacriticalTilde",[732]],["diam",[8900]],["diamond",[8900]],["Diamond",[8900]],["diamondsuit",[9830]],["diams",[9830]],["die",[168]],["DifferentialD",[8518]],["digamma",[989]],["disin",[8946]],["div",[247]],["divide",[247]],["divideontimes",[8903]],["divonx",[8903]],["DJcy",[1026]],["djcy",[1106]],["dlcorn",[8990]],["dlcrop",[8973]],["dollar",[36]],["Dopf",[120123]],["dopf",[120149]],["Dot",[168]],["dot",[729]],["DotDot",[8412]],["doteq",[8784]],["doteqdot",[8785]],["DotEqual",[8784]],["dotminus",[8760]],["dotplus",[8724]],["dotsquare",[8865]],["doublebarwedge",[8966]],["DoubleContourIntegral",[8751]],["DoubleDot",[168]],["DoubleDownArrow",[8659]],["DoubleLeftArrow",[8656]],["DoubleLeftRightArrow",[8660]],["DoubleLeftTee",[10980]],["DoubleLongLeftArrow",[10232]],["DoubleLongLeftRightArrow",[10234]],["DoubleLongRightArrow",[10233]],["DoubleRightArrow",[8658]],["DoubleRightTee",[8872]],["DoubleUpArrow",[8657]],["DoubleUpDownArrow",[8661]],["DoubleVerticalBar",[8741]],["DownArrowBar",[10515]],["downarrow",[8595]],["DownArrow",[8595]],["Downarrow",[8659]],["DownArrowUpArrow",[8693]],["DownBreve",[785]],["downdownarrows",[8650]],["downharpoonleft",[8643]],["downharpoonright",[8642]],["DownLeftRightVector",[10576]],["DownLeftTeeVector",[10590]],["DownLeftVectorBar",[10582]],["DownLeftVector",[8637]],["DownRightTeeVector",[10591]],["DownRightVectorBar",[10583]],["DownRightVector",[8641]],["DownTeeArrow",[8615]],["DownTee",[8868]],["drbkarow",[10512]],["drcorn",[8991]],["drcrop",[8972]],["Dscr",[119967]],["dscr",[119993]],["DScy",[1029]],["dscy",[1109]],["dsol",[10742]],["Dstrok",[272]],["dstrok",[273]],["dtdot",[8945]],["dtri",[9663]],["dtrif",[9662]],["duarr",[8693]],["duhar",[10607]],["dwangle",[10662]],["DZcy",[1039]],["dzcy",[1119]],["dzigrarr",[10239]],["Eacute",[201]],["eacute",[233]],["easter",[10862]],["Ecaron",[282]],["ecaron",[283]],["Ecirc",[202]],["ecirc",[234]],["ecir",[8790]],["ecolon",[8789]],["Ecy",[1069]],["ecy",[1101]],["eDDot",[10871]],["Edot",[278]],["edot",[279]],["eDot",[8785]],["ee",[8519]],["efDot",[8786]],["Efr",[120072]],["efr",[120098]],["eg",[10906]],["Egrave",[200]],["egrave",[232]],["egs",[10902]],["egsdot",[10904]],["el",[10905]],["Element",[8712]],["elinters",[9191]],["ell",[8467]],["els",[10901]],["elsdot",[10903]],["Emacr",[274]],["emacr",[275]],["empty",[8709]],["emptyset",[8709]],["EmptySmallSquare",[9723]],["emptyv",[8709]],["EmptyVerySmallSquare",[9643]],["emsp13",[8196]],["emsp14",[8197]],["emsp",[8195]],["ENG",[330]],["eng",[331]],["ensp",[8194]],["Eogon",[280]],["eogon",[281]],["Eopf",[120124]],["eopf",[120150]],["epar",[8917]],["eparsl",[10723]],["eplus",[10865]],["epsi",[949]],["Epsilon",[917]],["epsilon",[949]],["epsiv",[1013]],["eqcirc",[8790]],["eqcolon",[8789]],["eqsim",[8770]],["eqslantgtr",[10902]],["eqslantless",[10901]],["Equal",[10869]],["equals",[61]],["EqualTilde",[8770]],["equest",[8799]],["Equilibrium",[8652]],["equiv",[8801]],["equivDD",[10872]],["eqvparsl",[10725]],["erarr",[10609]],["erDot",[8787]],["escr",[8495]],["Escr",[8496]],["esdot",[8784]],["Esim",[10867]],["esim",[8770]],["Eta",[919]],["eta",[951]],["ETH",[208]],["eth",[240]],["Euml",[203]],["euml",[235]],["euro",[8364]],["excl",[33]],["exist",[8707]],["Exists",[8707]],["expectation",[8496]],["exponentiale",[8519]],["ExponentialE",[8519]],["fallingdotseq",[8786]],["Fcy",[1060]],["fcy",[1092]],["female",[9792]],["ffilig",[64259]],["fflig",[64256]],["ffllig",[64260]],["Ffr",[120073]],["ffr",[120099]],["filig",[64257]],["FilledSmallSquare",[9724]],["FilledVerySmallSquare",[9642]],["fjlig",[102,106]],["flat",[9837]],["fllig",[64258]],["fltns",[9649]],["fnof",[402]],["Fopf",[120125]],["fopf",[120151]],["forall",[8704]],["ForAll",[8704]],["fork",[8916]],["forkv",[10969]],["Fouriertrf",[8497]],["fpartint",[10765]],["frac12",[189]],["frac13",[8531]],["frac14",[188]],["frac15",[8533]],["frac16",[8537]],["frac18",[8539]],["frac23",[8532]],["frac25",[8534]],["frac34",[190]],["frac35",[8535]],["frac38",[8540]],["frac45",[8536]],["frac56",[8538]],["frac58",[8541]],["frac78",[8542]],["frasl",[8260]],["frown",[8994]],["fscr",[119995]],["Fscr",[8497]],["gacute",[501]],["Gamma",[915]],["gamma",[947]],["Gammad",[988]],["gammad",[989]],["gap",[10886]],["Gbreve",[286]],["gbreve",[287]],["Gcedil",[290]],["Gcirc",[284]],["gcirc",[285]],["Gcy",[1043]],["gcy",[1075]],["Gdot",[288]],["gdot",[289]],["ge",[8805]],["gE",[8807]],["gEl",[10892]],["gel",[8923]],["geq",[8805]],["geqq",[8807]],["geqslant",[10878]],["gescc",[10921]],["ges",[10878]],["gesdot",[10880]],["gesdoto",[10882]],["gesdotol",[10884]],["gesl",[8923,65024]],["gesles",[10900]],["Gfr",[120074]],["gfr",[120100]],["gg",[8811]],["Gg",[8921]],["ggg",[8921]],["gimel",[8503]],["GJcy",[1027]],["gjcy",[1107]],["gla",[10917]],["gl",[8823]],["glE",[10898]],["glj",[10916]],["gnap",[10890]],["gnapprox",[10890]],["gne",[10888]],["gnE",[8809]],["gneq",[10888]],["gneqq",[8809]],["gnsim",[8935]],["Gopf",[120126]],["gopf",[120152]],["grave",[96]],["GreaterEqual",[8805]],["GreaterEqualLess",[8923]],["GreaterFullEqual",[8807]],["GreaterGreater",[10914]],["GreaterLess",[8823]],["GreaterSlantEqual",[10878]],["GreaterTilde",[8819]],["Gscr",[119970]],["gscr",[8458]],["gsim",[8819]],["gsime",[10894]],["gsiml",[10896]],["gtcc",[10919]],["gtcir",[10874]],["gt",[62]],["GT",[62]],["Gt",[8811]],["gtdot",[8919]],["gtlPar",[10645]],["gtquest",[10876]],["gtrapprox",[10886]],["gtrarr",[10616]],["gtrdot",[8919]],["gtreqless",[8923]],["gtreqqless",[10892]],["gtrless",[8823]],["gtrsim",[8819]],["gvertneqq",[8809,65024]],["gvnE",[8809,65024]],["Hacek",[711]],["hairsp",[8202]],["half",[189]],["hamilt",[8459]],["HARDcy",[1066]],["hardcy",[1098]],["harrcir",[10568]],["harr",[8596]],["hArr",[8660]],["harrw",[8621]],["Hat",[94]],["hbar",[8463]],["Hcirc",[292]],["hcirc",[293]],["hearts",[9829]],["heartsuit",[9829]],["hellip",[8230]],["hercon",[8889]],["hfr",[120101]],["Hfr",[8460]],["HilbertSpace",[8459]],["hksearow",[10533]],["hkswarow",[10534]],["hoarr",[8703]],["homtht",[8763]],["hookleftarrow",[8617]],["hookrightarrow",[8618]],["hopf",[120153]],["Hopf",[8461]],["horbar",[8213]],["HorizontalLine",[9472]],["hscr",[119997]],["Hscr",[8459]],["hslash",[8463]],["Hstrok",[294]],["hstrok",[295]],["HumpDownHump",[8782]],["HumpEqual",[8783]],["hybull",[8259]],["hyphen",[8208]],["Iacute",[205]],["iacute",[237]],["ic",[8291]],["Icirc",[206]],["icirc",[238]],["Icy",[1048]],["icy",[1080]],["Idot",[304]],["IEcy",[1045]],["iecy",[1077]],["iexcl",[161]],["iff",[8660]],["ifr",[120102]],["Ifr",[8465]],["Igrave",[204]],["igrave",[236]],["ii",[8520]],["iiiint",[10764]],["iiint",[8749]],["iinfin",[10716]],["iiota",[8489]],["IJlig",[306]],["ijlig",[307]],["Imacr",[298]],["imacr",[299]],["image",[8465]],["ImaginaryI",[8520]],["imagline",[8464]],["imagpart",[8465]],["imath",[305]],["Im",[8465]],["imof",[8887]],["imped",[437]],["Implies",[8658]],["incare",[8453]],["in",[8712]],["infin",[8734]],["infintie",[10717]],["inodot",[305]],["intcal",[8890]],["int",[8747]],["Int",[8748]],["integers",[8484]],["Integral",[8747]],["intercal",[8890]],["Intersection",[8898]],["intlarhk",[10775]],["intprod",[10812]],["InvisibleComma",[8291]],["InvisibleTimes",[8290]],["IOcy",[1025]],["iocy",[1105]],["Iogon",[302]],["iogon",[303]],["Iopf",[120128]],["iopf",[120154]],["Iota",[921]],["iota",[953]],["iprod",[10812]],["iquest",[191]],["iscr",[119998]],["Iscr",[8464]],["isin",[8712]],["isindot",[8949]],["isinE",[8953]],["isins",[8948]],["isinsv",[8947]],["isinv",[8712]],["it",[8290]],["Itilde",[296]],["itilde",[297]],["Iukcy",[1030]],["iukcy",[1110]],["Iuml",[207]],["iuml",[239]],["Jcirc",[308]],["jcirc",[309]],["Jcy",[1049]],["jcy",[1081]],["Jfr",[120077]],["jfr",[120103]],["jmath",[567]],["Jopf",[120129]],["jopf",[120155]],["Jscr",[119973]],["jscr",[119999]],["Jsercy",[1032]],["jsercy",[1112]],["Jukcy",[1028]],["jukcy",[1108]],["Kappa",[922]],["kappa",[954]],["kappav",[1008]],["Kcedil",[310]],["kcedil",[311]],["Kcy",[1050]],["kcy",[1082]],["Kfr",[120078]],["kfr",[120104]],["kgreen",[312]],["KHcy",[1061]],["khcy",[1093]],["KJcy",[1036]],["kjcy",[1116]],["Kopf",[120130]],["kopf",[120156]],["Kscr",[119974]],["kscr",[12e4]],["lAarr",[8666]],["Lacute",[313]],["lacute",[314]],["laemptyv",[10676]],["lagran",[8466]],["Lambda",[923]],["lambda",[955]],["lang",[10216]],["Lang",[10218]],["langd",[10641]],["langle",[10216]],["lap",[10885]],["Laplacetrf",[8466]],["laquo",[171]],["larrb",[8676]],["larrbfs",[10527]],["larr",[8592]],["Larr",[8606]],["lArr",[8656]],["larrfs",[10525]],["larrhk",[8617]],["larrlp",[8619]],["larrpl",[10553]],["larrsim",[10611]],["larrtl",[8610]],["latail",[10521]],["lAtail",[10523]],["lat",[10923]],["late",[10925]],["lates",[10925,65024]],["lbarr",[10508]],["lBarr",[10510]],["lbbrk",[10098]],["lbrace",[123]],["lbrack",[91]],["lbrke",[10635]],["lbrksld",[10639]],["lbrkslu",[10637]],["Lcaron",[317]],["lcaron",[318]],["Lcedil",[315]],["lcedil",[316]],["lceil",[8968]],["lcub",[123]],["Lcy",[1051]],["lcy",[1083]],["ldca",[10550]],["ldquo",[8220]],["ldquor",[8222]],["ldrdhar",[10599]],["ldrushar",[10571]],["ldsh",[8626]],["le",[8804]],["lE",[8806]],["LeftAngleBracket",[10216]],["LeftArrowBar",[8676]],["leftarrow",[8592]],["LeftArrow",[8592]],["Leftarrow",[8656]],["LeftArrowRightArrow",[8646]],["leftarrowtail",[8610]],["LeftCeiling",[8968]],["LeftDoubleBracket",[10214]],["LeftDownTeeVector",[10593]],["LeftDownVectorBar",[10585]],["LeftDownVector",[8643]],["LeftFloor",[8970]],["leftharpoondown",[8637]],["leftharpoonup",[8636]],["leftleftarrows",[8647]],["leftrightarrow",[8596]],["LeftRightArrow",[8596]],["Leftrightarrow",[8660]],["leftrightarrows",[8646]],["leftrightharpoons",[8651]],["leftrightsquigarrow",[8621]],["LeftRightVector",[10574]],["LeftTeeArrow",[8612]],["LeftTee",[8867]],["LeftTeeVector",[10586]],["leftthreetimes",[8907]],["LeftTriangleBar",[10703]],["LeftTriangle",[8882]],["LeftTriangleEqual",[8884]],["LeftUpDownVector",[10577]],["LeftUpTeeVector",[10592]],["LeftUpVectorBar",[10584]],["LeftUpVector",[8639]],["LeftVectorBar",[10578]],["LeftVector",[8636]],["lEg",[10891]],["leg",[8922]],["leq",[8804]],["leqq",[8806]],["leqslant",[10877]],["lescc",[10920]],["les",[10877]],["lesdot",[10879]],["lesdoto",[10881]],["lesdotor",[10883]],["lesg",[8922,65024]],["lesges",[10899]],["lessapprox",[10885]],["lessdot",[8918]],["lesseqgtr",[8922]],["lesseqqgtr",[10891]],["LessEqualGreater",[8922]],["LessFullEqual",[8806]],["LessGreater",[8822]],["lessgtr",[8822]],["LessLess",[10913]],["lesssim",[8818]],["LessSlantEqual",[10877]],["LessTilde",[8818]],["lfisht",[10620]],["lfloor",[8970]],["Lfr",[120079]],["lfr",[120105]],["lg",[8822]],["lgE",[10897]],["lHar",[10594]],["lhard",[8637]],["lharu",[8636]],["lharul",[10602]],["lhblk",[9604]],["LJcy",[1033]],["ljcy",[1113]],["llarr",[8647]],["ll",[8810]],["Ll",[8920]],["llcorner",[8990]],["Lleftarrow",[8666]],["llhard",[10603]],["lltri",[9722]],["Lmidot",[319]],["lmidot",[320]],["lmoustache",[9136]],["lmoust",[9136]],["lnap",[10889]],["lnapprox",[10889]],["lne",[10887]],["lnE",[8808]],["lneq",[10887]],["lneqq",[8808]],["lnsim",[8934]],["loang",[10220]],["loarr",[8701]],["lobrk",[10214]],["longleftarrow",[10229]],["LongLeftArrow",[10229]],["Longleftarrow",[10232]],["longleftrightarrow",[10231]],["LongLeftRightArrow",[10231]],["Longleftrightarrow",[10234]],["longmapsto",[10236]],["longrightarrow",[10230]],["LongRightArrow",[10230]],["Longrightarrow",[10233]],["looparrowleft",[8619]],["looparrowright",[8620]],["lopar",[10629]],["Lopf",[120131]],["lopf",[120157]],["loplus",[10797]],["lotimes",[10804]],["lowast",[8727]],["lowbar",[95]],["LowerLeftArrow",[8601]],["LowerRightArrow",[8600]],["loz",[9674]],["lozenge",[9674]],["lozf",[10731]],["lpar",[40]],["lparlt",[10643]],["lrarr",[8646]],["lrcorner",[8991]],["lrhar",[8651]],["lrhard",[10605]],["lrm",[8206]],["lrtri",[8895]],["lsaquo",[8249]],["lscr",[120001]],["Lscr",[8466]],["lsh",[8624]],["Lsh",[8624]],["lsim",[8818]],["lsime",[10893]],["lsimg",[10895]],["lsqb",[91]],["lsquo",[8216]],["lsquor",[8218]],["Lstrok",[321]],["lstrok",[322]],["ltcc",[10918]],["ltcir",[10873]],["lt",[60]],["LT",[60]],["Lt",[8810]],["ltdot",[8918]],["lthree",[8907]],["ltimes",[8905]],["ltlarr",[10614]],["ltquest",[10875]],["ltri",[9667]],["ltrie",[8884]],["ltrif",[9666]],["ltrPar",[10646]],["lurdshar",[10570]],["luruhar",[10598]],["lvertneqq",[8808,65024]],["lvnE",[8808,65024]],["macr",[175]],["male",[9794]],["malt",[10016]],["maltese",[10016]],["Map",[10501]],["map",[8614]],["mapsto",[8614]],["mapstodown",[8615]],["mapstoleft",[8612]],["mapstoup",[8613]],["marker",[9646]],["mcomma",[10793]],["Mcy",[1052]],["mcy",[1084]],["mdash",[8212]],["mDDot",[8762]],["measuredangle",[8737]],["MediumSpace",[8287]],["Mellintrf",[8499]],["Mfr",[120080]],["mfr",[120106]],["mho",[8487]],["micro",[181]],["midast",[42]],["midcir",[10992]],["mid",[8739]],["middot",[183]],["minusb",[8863]],["minus",[8722]],["minusd",[8760]],["minusdu",[10794]],["MinusPlus",[8723]],["mlcp",[10971]],["mldr",[8230]],["mnplus",[8723]],["models",[8871]],["Mopf",[120132]],["mopf",[120158]],["mp",[8723]],["mscr",[120002]],["Mscr",[8499]],["mstpos",[8766]],["Mu",[924]],["mu",[956]],["multimap",[8888]],["mumap",[8888]],["nabla",[8711]],["Nacute",[323]],["nacute",[324]],["nang",[8736,8402]],["nap",[8777]],["napE",[10864,824]],["napid",[8779,824]],["napos",[329]],["napprox",[8777]],["natural",[9838]],["naturals",[8469]],["natur",[9838]],["nbsp",[160]],["nbump",[8782,824]],["nbumpe",[8783,824]],["ncap",[10819]],["Ncaron",[327]],["ncaron",[328]],["Ncedil",[325]],["ncedil",[326]],["ncong",[8775]],["ncongdot",[10861,824]],["ncup",[10818]],["Ncy",[1053]],["ncy",[1085]],["ndash",[8211]],["nearhk",[10532]],["nearr",[8599]],["neArr",[8663]],["nearrow",[8599]],["ne",[8800]],["nedot",[8784,824]],["NegativeMediumSpace",[8203]],["NegativeThickSpace",[8203]],["NegativeThinSpace",[8203]],["NegativeVeryThinSpace",[8203]],["nequiv",[8802]],["nesear",[10536]],["nesim",[8770,824]],["NestedGreaterGreater",[8811]],["NestedLessLess",[8810]],["nexist",[8708]],["nexists",[8708]],["Nfr",[120081]],["nfr",[120107]],["ngE",[8807,824]],["nge",[8817]],["ngeq",[8817]],["ngeqq",[8807,824]],["ngeqslant",[10878,824]],["nges",[10878,824]],["nGg",[8921,824]],["ngsim",[8821]],["nGt",[8811,8402]],["ngt",[8815]],["ngtr",[8815]],["nGtv",[8811,824]],["nharr",[8622]],["nhArr",[8654]],["nhpar",[10994]],["ni",[8715]],["nis",[8956]],["nisd",[8954]],["niv",[8715]],["NJcy",[1034]],["njcy",[1114]],["nlarr",[8602]],["nlArr",[8653]],["nldr",[8229]],["nlE",[8806,824]],["nle",[8816]],["nleftarrow",[8602]],["nLeftarrow",[8653]],["nleftrightarrow",[8622]],["nLeftrightarrow",[8654]],["nleq",[8816]],["nleqq",[8806,824]],["nleqslant",[10877,824]],["nles",[10877,824]],["nless",[8814]],["nLl",[8920,824]],["nlsim",[8820]],["nLt",[8810,8402]],["nlt",[8814]],["nltri",[8938]],["nltrie",[8940]],["nLtv",[8810,824]],["nmid",[8740]],["NoBreak",[8288]],["NonBreakingSpace",[160]],["nopf",[120159]],["Nopf",[8469]],["Not",[10988]],["not",[172]],["NotCongruent",[8802]],["NotCupCap",[8813]],["NotDoubleVerticalBar",[8742]],["NotElement",[8713]],["NotEqual",[8800]],["NotEqualTilde",[8770,824]],["NotExists",[8708]],["NotGreater",[8815]],["NotGreaterEqual",[8817]],["NotGreaterFullEqual",[8807,824]],["NotGreaterGreater",[8811,824]],["NotGreaterLess",[8825]],["NotGreaterSlantEqual",[10878,824]],["NotGreaterTilde",[8821]],["NotHumpDownHump",[8782,824]],["NotHumpEqual",[8783,824]],["notin",[8713]],["notindot",[8949,824]],["notinE",[8953,824]],["notinva",[8713]],["notinvb",[8951]],["notinvc",[8950]],["NotLeftTriangleBar",[10703,824]],["NotLeftTriangle",[8938]],["NotLeftTriangleEqual",[8940]],["NotLess",[8814]],["NotLessEqual",[8816]],["NotLessGreater",[8824]],["NotLessLess",[8810,824]],["NotLessSlantEqual",[10877,824]],["NotLessTilde",[8820]],["NotNestedGreaterGreater",[10914,824]],["NotNestedLessLess",[10913,824]],["notni",[8716]],["notniva",[8716]],["notnivb",[8958]],["notnivc",[8957]],["NotPrecedes",[8832]],["NotPrecedesEqual",[10927,824]],["NotPrecedesSlantEqual",[8928]],["NotReverseElement",[8716]],["NotRightTriangleBar",[10704,824]],["NotRightTriangle",[8939]],["NotRightTriangleEqual",[8941]],["NotSquareSubset",[8847,824]],["NotSquareSubsetEqual",[8930]],["NotSquareSuperset",[8848,824]],["NotSquareSupersetEqual",[8931]],["NotSubset",[8834,8402]],["NotSubsetEqual",[8840]],["NotSucceeds",[8833]],["NotSucceedsEqual",[10928,824]],["NotSucceedsSlantEqual",[8929]],["NotSucceedsTilde",[8831,824]],["NotSuperset",[8835,8402]],["NotSupersetEqual",[8841]],["NotTilde",[8769]],["NotTildeEqual",[8772]],["NotTildeFullEqual",[8775]],["NotTildeTilde",[8777]],["NotVerticalBar",[8740]],["nparallel",[8742]],["npar",[8742]],["nparsl",[11005,8421]],["npart",[8706,824]],["npolint",[10772]],["npr",[8832]],["nprcue",[8928]],["nprec",[8832]],["npreceq",[10927,824]],["npre",[10927,824]],["nrarrc",[10547,824]],["nrarr",[8603]],["nrArr",[8655]],["nrarrw",[8605,824]],["nrightarrow",[8603]],["nRightarrow",[8655]],["nrtri",[8939]],["nrtrie",[8941]],["nsc",[8833]],["nsccue",[8929]],["nsce",[10928,824]],["Nscr",[119977]],["nscr",[120003]],["nshortmid",[8740]],["nshortparallel",[8742]],["nsim",[8769]],["nsime",[8772]],["nsimeq",[8772]],["nsmid",[8740]],["nspar",[8742]],["nsqsube",[8930]],["nsqsupe",[8931]],["nsub",[8836]],["nsubE",[10949,824]],["nsube",[8840]],["nsubset",[8834,8402]],["nsubseteq",[8840]],["nsubseteqq",[10949,824]],["nsucc",[8833]],["nsucceq",[10928,824]],["nsup",[8837]],["nsupE",[10950,824]],["nsupe",[8841]],["nsupset",[8835,8402]],["nsupseteq",[8841]],["nsupseteqq",[10950,824]],["ntgl",[8825]],["Ntilde",[209]],["ntilde",[241]],["ntlg",[8824]],["ntriangleleft",[8938]],["ntrianglelefteq",[8940]],["ntriangleright",[8939]],["ntrianglerighteq",[8941]],["Nu",[925]],["nu",[957]],["num",[35]],["numero",[8470]],["numsp",[8199]],["nvap",[8781,8402]],["nvdash",[8876]],["nvDash",[8877]],["nVdash",[8878]],["nVDash",[8879]],["nvge",[8805,8402]],["nvgt",[62,8402]],["nvHarr",[10500]],["nvinfin",[10718]],["nvlArr",[10498]],["nvle",[8804,8402]],["nvlt",[60,8402]],["nvltrie",[8884,8402]],["nvrArr",[10499]],["nvrtrie",[8885,8402]],["nvsim",[8764,8402]],["nwarhk",[10531]],["nwarr",[8598]],["nwArr",[8662]],["nwarrow",[8598]],["nwnear",[10535]],["Oacute",[211]],["oacute",[243]],["oast",[8859]],["Ocirc",[212]],["ocirc",[244]],["ocir",[8858]],["Ocy",[1054]],["ocy",[1086]],["odash",[8861]],["Odblac",[336]],["odblac",[337]],["odiv",[10808]],["odot",[8857]],["odsold",[10684]],["OElig",[338]],["oelig",[339]],["ofcir",[10687]],["Ofr",[120082]],["ofr",[120108]],["ogon",[731]],["Ograve",[210]],["ograve",[242]],["ogt",[10689]],["ohbar",[10677]],["ohm",[937]],["oint",[8750]],["olarr",[8634]],["olcir",[10686]],["olcross",[10683]],["oline",[8254]],["olt",[10688]],["Omacr",[332]],["omacr",[333]],["Omega",[937]],["omega",[969]],["Omicron",[927]],["omicron",[959]],["omid",[10678]],["ominus",[8854]],["Oopf",[120134]],["oopf",[120160]],["opar",[10679]],["OpenCurlyDoubleQuote",[8220]],["OpenCurlyQuote",[8216]],["operp",[10681]],["oplus",[8853]],["orarr",[8635]],["Or",[10836]],["or",[8744]],["ord",[10845]],["order",[8500]],["orderof",[8500]],["ordf",[170]],["ordm",[186]],["origof",[8886]],["oror",[10838]],["orslope",[10839]],["orv",[10843]],["oS",[9416]],["Oscr",[119978]],["oscr",[8500]],["Oslash",[216]],["oslash",[248]],["osol",[8856]],["Otilde",[213]],["otilde",[245]],["otimesas",[10806]],["Otimes",[10807]],["otimes",[8855]],["Ouml",[214]],["ouml",[246]],["ovbar",[9021]],["OverBar",[8254]],["OverBrace",[9182]],["OverBracket",[9140]],["OverParenthesis",[9180]],["para",[182]],["parallel",[8741]],["par",[8741]],["parsim",[10995]],["parsl",[11005]],["part",[8706]],["PartialD",[8706]],["Pcy",[1055]],["pcy",[1087]],["percnt",[37]],["period",[46]],["permil",[8240]],["perp",[8869]],["pertenk",[8241]],["Pfr",[120083]],["pfr",[120109]],["Phi",[934]],["phi",[966]],["phiv",[981]],["phmmat",[8499]],["phone",[9742]],["Pi",[928]],["pi",[960]],["pitchfork",[8916]],["piv",[982]],["planck",[8463]],["planckh",[8462]],["plankv",[8463]],["plusacir",[10787]],["plusb",[8862]],["pluscir",[10786]],["plus",[43]],["plusdo",[8724]],["plusdu",[10789]],["pluse",[10866]],["PlusMinus",[177]],["plusmn",[177]],["plussim",[10790]],["plustwo",[10791]],["pm",[177]],["Poincareplane",[8460]],["pointint",[10773]],["popf",[120161]],["Popf",[8473]],["pound",[163]],["prap",[10935]],["Pr",[10939]],["pr",[8826]],["prcue",[8828]],["precapprox",[10935]],["prec",[8826]],["preccurlyeq",[8828]],["Precedes",[8826]],["PrecedesEqual",[10927]],["PrecedesSlantEqual",[8828]],["PrecedesTilde",[8830]],["preceq",[10927]],["precnapprox",[10937]],["precneqq",[10933]],["precnsim",[8936]],["pre",[10927]],["prE",[10931]],["precsim",[8830]],["prime",[8242]],["Prime",[8243]],["primes",[8473]],["prnap",[10937]],["prnE",[10933]],["prnsim",[8936]],["prod",[8719]],["Product",[8719]],["profalar",[9006]],["profline",[8978]],["profsurf",[8979]],["prop",[8733]],["Proportional",[8733]],["Proportion",[8759]],["propto",[8733]],["prsim",[8830]],["prurel",[8880]],["Pscr",[119979]],["pscr",[120005]],["Psi",[936]],["psi",[968]],["puncsp",[8200]],["Qfr",[120084]],["qfr",[120110]],["qint",[10764]],["qopf",[120162]],["Qopf",[8474]],["qprime",[8279]],["Qscr",[119980]],["qscr",[120006]],["quaternions",[8461]],["quatint",[10774]],["quest",[63]],["questeq",[8799]],["quot",[34]],["QUOT",[34]],["rAarr",[8667]],["race",[8765,817]],["Racute",[340]],["racute",[341]],["radic",[8730]],["raemptyv",[10675]],["rang",[10217]],["Rang",[10219]],["rangd",[10642]],["range",[10661]],["rangle",[10217]],["raquo",[187]],["rarrap",[10613]],["rarrb",[8677]],["rarrbfs",[10528]],["rarrc",[10547]],["rarr",[8594]],["Rarr",[8608]],["rArr",[8658]],["rarrfs",[10526]],["rarrhk",[8618]],["rarrlp",[8620]],["rarrpl",[10565]],["rarrsim",[10612]],["Rarrtl",[10518]],["rarrtl",[8611]],["rarrw",[8605]],["ratail",[10522]],["rAtail",[10524]],["ratio",[8758]],["rationals",[8474]],["rbarr",[10509]],["rBarr",[10511]],["RBarr",[10512]],["rbbrk",[10099]],["rbrace",[125]],["rbrack",[93]],["rbrke",[10636]],["rbrksld",[10638]],["rbrkslu",[10640]],["Rcaron",[344]],["rcaron",[345]],["Rcedil",[342]],["rcedil",[343]],["rceil",[8969]],["rcub",[125]],["Rcy",[1056]],["rcy",[1088]],["rdca",[10551]],["rdldhar",[10601]],["rdquo",[8221]],["rdquor",[8221]],["CloseCurlyDoubleQuote",[8221]],["rdsh",[8627]],["real",[8476]],["realine",[8475]],["realpart",[8476]],["reals",[8477]],["Re",[8476]],["rect",[9645]],["reg",[174]],["REG",[174]],["ReverseElement",[8715]],["ReverseEquilibrium",[8651]],["ReverseUpEquilibrium",[10607]],["rfisht",[10621]],["rfloor",[8971]],["rfr",[120111]],["Rfr",[8476]],["rHar",[10596]],["rhard",[8641]],["rharu",[8640]],["rharul",[10604]],["Rho",[929]],["rho",[961]],["rhov",[1009]],["RightAngleBracket",[10217]],["RightArrowBar",[8677]],["rightarrow",[8594]],["RightArrow",[8594]],["Rightarrow",[8658]],["RightArrowLeftArrow",[8644]],["rightarrowtail",[8611]],["RightCeiling",[8969]],["RightDoubleBracket",[10215]],["RightDownTeeVector",[10589]],["RightDownVectorBar",[10581]],["RightDownVector",[8642]],["RightFloor",[8971]],["rightharpoondown",[8641]],["rightharpoonup",[8640]],["rightleftarrows",[8644]],["rightleftharpoons",[8652]],["rightrightarrows",[8649]],["rightsquigarrow",[8605]],["RightTeeArrow",[8614]],["RightTee",[8866]],["RightTeeVector",[10587]],["rightthreetimes",[8908]],["RightTriangleBar",[10704]],["RightTriangle",[8883]],["RightTriangleEqual",[8885]],["RightUpDownVector",[10575]],["RightUpTeeVector",[10588]],["RightUpVectorBar",[10580]],["RightUpVector",[8638]],["RightVectorBar",[10579]],["RightVector",[8640]],["ring",[730]],["risingdotseq",[8787]],["rlarr",[8644]],["rlhar",[8652]],["rlm",[8207]],["rmoustache",[9137]],["rmoust",[9137]],["rnmid",[10990]],["roang",[10221]],["roarr",[8702]],["robrk",[10215]],["ropar",[10630]],["ropf",[120163]],["Ropf",[8477]],["roplus",[10798]],["rotimes",[10805]],["RoundImplies",[10608]],["rpar",[41]],["rpargt",[10644]],["rppolint",[10770]],["rrarr",[8649]],["Rrightarrow",[8667]],["rsaquo",[8250]],["rscr",[120007]],["Rscr",[8475]],["rsh",[8625]],["Rsh",[8625]],["rsqb",[93]],["rsquo",[8217]],["rsquor",[8217]],["CloseCurlyQuote",[8217]],["rthree",[8908]],["rtimes",[8906]],["rtri",[9657]],["rtrie",[8885]],["rtrif",[9656]],["rtriltri",[10702]],["RuleDelayed",[10740]],["ruluhar",[10600]],["rx",[8478]],["Sacute",[346]],["sacute",[347]],["sbquo",[8218]],["scap",[10936]],["Scaron",[352]],["scaron",[353]],["Sc",[10940]],["sc",[8827]],["sccue",[8829]],["sce",[10928]],["scE",[10932]],["Scedil",[350]],["scedil",[351]],["Scirc",[348]],["scirc",[349]],["scnap",[10938]],["scnE",[10934]],["scnsim",[8937]],["scpolint",[10771]],["scsim",[8831]],["Scy",[1057]],["scy",[1089]],["sdotb",[8865]],["sdot",[8901]],["sdote",[10854]],["searhk",[10533]],["searr",[8600]],["seArr",[8664]],["searrow",[8600]],["sect",[167]],["semi",[59]],["seswar",[10537]],["setminus",[8726]],["setmn",[8726]],["sext",[10038]],["Sfr",[120086]],["sfr",[120112]],["sfrown",[8994]],["sharp",[9839]],["SHCHcy",[1065]],["shchcy",[1097]],["SHcy",[1064]],["shcy",[1096]],["ShortDownArrow",[8595]],["ShortLeftArrow",[8592]],["shortmid",[8739]],["shortparallel",[8741]],["ShortRightArrow",[8594]],["ShortUpArrow",[8593]],["shy",[173]],["Sigma",[931]],["sigma",[963]],["sigmaf",[962]],["sigmav",[962]],["sim",[8764]],["simdot",[10858]],["sime",[8771]],["simeq",[8771]],["simg",[10910]],["simgE",[10912]],["siml",[10909]],["simlE",[10911]],["simne",[8774]],["simplus",[10788]],["simrarr",[10610]],["slarr",[8592]],["SmallCircle",[8728]],["smallsetminus",[8726]],["smashp",[10803]],["smeparsl",[10724]],["smid",[8739]],["smile",[8995]],["smt",[10922]],["smte",[10924]],["smtes",[10924,65024]],["SOFTcy",[1068]],["softcy",[1100]],["solbar",[9023]],["solb",[10692]],["sol",[47]],["Sopf",[120138]],["sopf",[120164]],["spades",[9824]],["spadesuit",[9824]],["spar",[8741]],["sqcap",[8851]],["sqcaps",[8851,65024]],["sqcup",[8852]],["sqcups",[8852,65024]],["Sqrt",[8730]],["sqsub",[8847]],["sqsube",[8849]],["sqsubset",[8847]],["sqsubseteq",[8849]],["sqsup",[8848]],["sqsupe",[8850]],["sqsupset",[8848]],["sqsupseteq",[8850]],["square",[9633]],["Square",[9633]],["SquareIntersection",[8851]],["SquareSubset",[8847]],["SquareSubsetEqual",[8849]],["SquareSuperset",[8848]],["SquareSupersetEqual",[8850]],["SquareUnion",[8852]],["squarf",[9642]],["squ",[9633]],["squf",[9642]],["srarr",[8594]],["Sscr",[119982]],["sscr",[120008]],["ssetmn",[8726]],["ssmile",[8995]],["sstarf",[8902]],["Star",[8902]],["star",[9734]],["starf",[9733]],["straightepsilon",[1013]],["straightphi",[981]],["strns",[175]],["sub",[8834]],["Sub",[8912]],["subdot",[10941]],["subE",[10949]],["sube",[8838]],["subedot",[10947]],["submult",[10945]],["subnE",[10955]],["subne",[8842]],["subplus",[10943]],["subrarr",[10617]],["subset",[8834]],["Subset",[8912]],["subseteq",[8838]],["subseteqq",[10949]],["SubsetEqual",[8838]],["subsetneq",[8842]],["subsetneqq",[10955]],["subsim",[10951]],["subsub",[10965]],["subsup",[10963]],["succapprox",[10936]],["succ",[8827]],["succcurlyeq",[8829]],["Succeeds",[8827]],["SucceedsEqual",[10928]],["SucceedsSlantEqual",[8829]],["SucceedsTilde",[8831]],["succeq",[10928]],["succnapprox",[10938]],["succneqq",[10934]],["succnsim",[8937]],["succsim",[8831]],["SuchThat",[8715]],["sum",[8721]],["Sum",[8721]],["sung",[9834]],["sup1",[185]],["sup2",[178]],["sup3",[179]],["sup",[8835]],["Sup",[8913]],["supdot",[10942]],["supdsub",[10968]],["supE",[10950]],["supe",[8839]],["supedot",[10948]],["Superset",[8835]],["SupersetEqual",[8839]],["suphsol",[10185]],["suphsub",[10967]],["suplarr",[10619]],["supmult",[10946]],["supnE",[10956]],["supne",[8843]],["supplus",[10944]],["supset",[8835]],["Supset",[8913]],["supseteq",[8839]],["supseteqq",[10950]],["supsetneq",[8843]],["supsetneqq",[10956]],["supsim",[10952]],["supsub",[10964]],["supsup",[10966]],["swarhk",[10534]],["swarr",[8601]],["swArr",[8665]],["swarrow",[8601]],["swnwar",[10538]],["szlig",[223]],["Tab",[9]],["target",[8982]],["Tau",[932]],["tau",[964]],["tbrk",[9140]],["Tcaron",[356]],["tcaron",[357]],["Tcedil",[354]],["tcedil",[355]],["Tcy",[1058]],["tcy",[1090]],["tdot",[8411]],["telrec",[8981]],["Tfr",[120087]],["tfr",[120113]],["there4",[8756]],["therefore",[8756]],["Therefore",[8756]],["Theta",[920]],["theta",[952]],["thetasym",[977]],["thetav",[977]],["thickapprox",[8776]],["thicksim",[8764]],["ThickSpace",[8287,8202]],["ThinSpace",[8201]],["thinsp",[8201]],["thkap",[8776]],["thksim",[8764]],["THORN",[222]],["thorn",[254]],["tilde",[732]],["Tilde",[8764]],["TildeEqual",[8771]],["TildeFullEqual",[8773]],["TildeTilde",[8776]],["timesbar",[10801]],["timesb",[8864]],["times",[215]],["timesd",[10800]],["tint",[8749]],["toea",[10536]],["topbot",[9014]],["topcir",[10993]],["top",[8868]],["Topf",[120139]],["topf",[120165]],["topfork",[10970]],["tosa",[10537]],["tprime",[8244]],["trade",[8482]],["TRADE",[8482]],["triangle",[9653]],["triangledown",[9663]],["triangleleft",[9667]],["trianglelefteq",[8884]],["triangleq",[8796]],["triangleright",[9657]],["trianglerighteq",[8885]],["tridot",[9708]],["trie",[8796]],["triminus",[10810]],["TripleDot",[8411]],["triplus",[10809]],["trisb",[10701]],["tritime",[10811]],["trpezium",[9186]],["Tscr",[119983]],["tscr",[120009]],["TScy",[1062]],["tscy",[1094]],["TSHcy",[1035]],["tshcy",[1115]],["Tstrok",[358]],["tstrok",[359]],["twixt",[8812]],["twoheadleftarrow",[8606]],["twoheadrightarrow",[8608]],["Uacute",[218]],["uacute",[250]],["uarr",[8593]],["Uarr",[8607]],["uArr",[8657]],["Uarrocir",[10569]],["Ubrcy",[1038]],["ubrcy",[1118]],["Ubreve",[364]],["ubreve",[365]],["Ucirc",[219]],["ucirc",[251]],["Ucy",[1059]],["ucy",[1091]],["udarr",[8645]],["Udblac",[368]],["udblac",[369]],["udhar",[10606]],["ufisht",[10622]],["Ufr",[120088]],["ufr",[120114]],["Ugrave",[217]],["ugrave",[249]],["uHar",[10595]],["uharl",[8639]],["uharr",[8638]],["uhblk",[9600]],["ulcorn",[8988]],["ulcorner",[8988]],["ulcrop",[8975]],["ultri",[9720]],["Umacr",[362]],["umacr",[363]],["uml",[168]],["UnderBar",[95]],["UnderBrace",[9183]],["UnderBracket",[9141]],["UnderParenthesis",[9181]],["Union",[8899]],["UnionPlus",[8846]],["Uogon",[370]],["uogon",[371]],["Uopf",[120140]],["uopf",[120166]],["UpArrowBar",[10514]],["uparrow",[8593]],["UpArrow",[8593]],["Uparrow",[8657]],["UpArrowDownArrow",[8645]],["updownarrow",[8597]],["UpDownArrow",[8597]],["Updownarrow",[8661]],["UpEquilibrium",[10606]],["upharpoonleft",[8639]],["upharpoonright",[8638]],["uplus",[8846]],["UpperLeftArrow",[8598]],["UpperRightArrow",[8599]],["upsi",[965]],["Upsi",[978]],["upsih",[978]],["Upsilon",[933]],["upsilon",[965]],["UpTeeArrow",[8613]],["UpTee",[8869]],["upuparrows",[8648]],["urcorn",[8989]],["urcorner",[8989]],["urcrop",[8974]],["Uring",[366]],["uring",[367]],["urtri",[9721]],["Uscr",[119984]],["uscr",[120010]],["utdot",[8944]],["Utilde",[360]],["utilde",[361]],["utri",[9653]],["utrif",[9652]],["uuarr",[8648]],["Uuml",[220]],["uuml",[252]],["uwangle",[10663]],["vangrt",[10652]],["varepsilon",[1013]],["varkappa",[1008]],["varnothing",[8709]],["varphi",[981]],["varpi",[982]],["varpropto",[8733]],["varr",[8597]],["vArr",[8661]],["varrho",[1009]],["varsigma",[962]],["varsubsetneq",[8842,65024]],["varsubsetneqq",[10955,65024]],["varsupsetneq",[8843,65024]],["varsupsetneqq",[10956,65024]],["vartheta",[977]],["vartriangleleft",[8882]],["vartriangleright",[8883]],["vBar",[10984]],["Vbar",[10987]],["vBarv",[10985]],["Vcy",[1042]],["vcy",[1074]],["vdash",[8866]],["vDash",[8872]],["Vdash",[8873]],["VDash",[8875]],["Vdashl",[10982]],["veebar",[8891]],["vee",[8744]],["Vee",[8897]],["veeeq",[8794]],["vellip",[8942]],["verbar",[124]],["Verbar",[8214]],["vert",[124]],["Vert",[8214]],["VerticalBar",[8739]],["VerticalLine",[124]],["VerticalSeparator",[10072]],["VerticalTilde",[8768]],["VeryThinSpace",[8202]],["Vfr",[120089]],["vfr",[120115]],["vltri",[8882]],["vnsub",[8834,8402]],["vnsup",[8835,8402]],["Vopf",[120141]],["vopf",[120167]],["vprop",[8733]],["vrtri",[8883]],["Vscr",[119985]],["vscr",[120011]],["vsubnE",[10955,65024]],["vsubne",[8842,65024]],["vsupnE",[10956,65024]],["vsupne",[8843,65024]],["Vvdash",[8874]],["vzigzag",[10650]],["Wcirc",[372]],["wcirc",[373]],["wedbar",[10847]],["wedge",[8743]],["Wedge",[8896]],["wedgeq",[8793]],["weierp",[8472]],["Wfr",[120090]],["wfr",[120116]],["Wopf",[120142]],["wopf",[120168]],["wp",[8472]],["wr",[8768]],["wreath",[8768]],["Wscr",[119986]],["wscr",[120012]],["xcap",[8898]],["xcirc",[9711]],["xcup",[8899]],["xdtri",[9661]],["Xfr",[120091]],["xfr",[120117]],["xharr",[10231]],["xhArr",[10234]],["Xi",[926]],["xi",[958]],["xlarr",[10229]],["xlArr",[10232]],["xmap",[10236]],["xnis",[8955]],["xodot",[10752]],["Xopf",[120143]],["xopf",[120169]],["xoplus",[10753]],["xotime",[10754]],["xrarr",[10230]],["xrArr",[10233]],["Xscr",[119987]],["xscr",[120013]],["xsqcup",[10758]],["xuplus",[10756]],["xutri",[9651]],["xvee",[8897]],["xwedge",[8896]],["Yacute",[221]],["yacute",[253]],["YAcy",[1071]],["yacy",[1103]],["Ycirc",[374]],["ycirc",[375]],["Ycy",[1067]],["ycy",[1099]],["yen",[165]],["Yfr",[120092]],["yfr",[120118]],["YIcy",[1031]],["yicy",[1111]],["Yopf",[120144]],["yopf",[120170]],["Yscr",[119988]],["yscr",[120014]],["YUcy",[1070]],["yucy",[1102]],["yuml",[255]],["Yuml",[376]],["Zacute",[377]],["zacute",[378]],["Zcaron",[381]],["zcaron",[382]],["Zcy",[1047]],["zcy",[1079]],["Zdot",[379]],["zdot",[380]],["zeetrf",[8488]],["ZeroWidthSpace",[8203]],["Zeta",[918]],["zeta",[950]],["zfr",[120119]],["Zfr",[8488]],["ZHcy",[1046]],["zhcy",[1078]],["zigrarr",[8669]],["zopf",[120171]],["Zopf",[8484]],["Zscr",[119989]],["zscr",[120015]],["zwj",[8205]],["zwnj",[8204]]],i=[["NewLine",[10]]],a={},u={};!function(t,e){var n=o.length;for(;n--;){var r=o[n],a=r[0],u=r[1],s=u[0],l=u[1],c=s<32||s>126||62===s||60===s||38===s||34===s||39===s,f=void 0;c&&(f=e[s]=e[s]||{});if(l){t[a]=String.fromCharCode(s)+String.fromCharCode(l);c&&(f[l]=a)}else{t[a]=String.fromCharCode(s);c&&(f[""]=a)}}n=i.length;for(;n--;){var p=i[n],d=(a=p[0],p[1]);s=d[0],l=d[1];t[a]=String.fromCharCode(s)+(l?String.fromCharCode(l):"")}}(a,u);var s=function(){function t(){}t.prototype.decode=function(t){return t&&t.length?t.replace(/&(#?[\w\d]+);?/g,function(t,e){var n;if("#"===e.charAt(0)){var o="x"===e.charAt(1)?parseInt(e.substr(2).toLowerCase(),16):parseInt(e.substr(1));(!isNaN(o)||o>=-32768)&&(n=o<=65535?String.fromCharCode(o):r.fromCodePoint(o))}else n=a[e];return n||t}):""};t.decode=function(e){return(new t).decode(e)};t.prototype.encode=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",r=0;r<e;){var o=u[t.charCodeAt(r)];if(o){var i=o[t.charCodeAt(r+1)];i?r++:i=o[""];if(i){n+="&"+i+";";r++;continue}}n+=t.charAt(r);r++}return n};t.encode=function(e){return(new t).encode(e)};t.prototype.encodeNonUTF=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",o=0;o<e;){var i=t.charCodeAt(o),a=u[i];if(a){var s=a[t.charCodeAt(o+1)];s?o++:s=a[""];if(s){n+="&"+s+";";o++;continue}}if(i<32||i>126)if(i>=r.highSurrogateFrom&&i<=r.highSurrogateTo){n+="&#"+r.getCodePoint(t,o)+";";o++}else n+="&#"+i+";";else n+=t.charAt(o);o++}return n};t.encodeNonUTF=function(e){return(new t).encodeNonUTF(e)};t.prototype.encodeNonASCII=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",o=0;o<e;){var i=t.charCodeAt(o);if(i<=255)n+=t[o++];else if(i>=r.highSurrogateFrom&&i<=r.highSurrogateTo){n+="&#"+r.getCodePoint(t,o)+";";o+=2}else{n+="&#"+i+";";o++}}return n};t.encodeNonASCII=function(e){return(new t).encodeNonASCII(e)};return t}();e.Html5Entities=s},4509:function(t,e,n){var r=n(2651);t.exports=function(t){return r(this,t).has(t)}},4739:function(t,e,n){var r=n(6025);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},4826:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.fromCodePoint=String.fromCodePoint||function(t){return String.fromCharCode(Math.floor((t-65536)/1024)+55296,(t-65536)%1024+56320)};e.getCodePoint=String.prototype.codePointAt?function(t,e){return t.codePointAt(e)}:function(t,e){return 1024*(t.charCodeAt(e)-55296)+t.charCodeAt(e+1)-56320+65536};e.highSurrogateFrom=55296;e.highSurrogateTo=56319},4840:function(t,e,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},4894:function(t,e,n){var r=n(1882),o=n(294);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},4901:function(t,e,n){var r=n(2552),o=n(294),i=n(346),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0;a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},4932:function(t){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},4974:function(t){t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},4987:function(t){function e(t,e,n,r){var o,i=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),a=e.get(i);if(void 0===a){a=t.call(this,r);e.set(i,a)}return a}function n(t,e,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=e.get(o);if(void 0===i){i=t.apply(this,r);e.set(o,i)}return i}function r(t,e,n,r,o){return n.bind(e,t,r,o)}function o(t,o){return r(t,this,1===t.length?e:n,o.cache.create(),o.serializer)}function i(){return JSON.stringify(arguments)}function a(){this.cache=Object.create(null)}a.prototype.has=function(t){return t in this.cache};a.prototype.get=function(t){return this.cache[t]};a.prototype.set=function(t,e){this.cache[t]=e};var u={create:function(){return new a}};t.exports=function(t,e){var n=e&&e.cache?e.cache:u,r=e&&e.serializer?e.serializer:i;return(e&&e.strategy?e.strategy:o)(t,{cache:n,serializer:r})};t.exports.strategies={variadic:function(t,e){return r(t,this,n,e.cache.create(),e.serializer)},monadic:function(t,n){return r(t,this,e,n.cache.create(),n.serializer)}}},5083:function(t,e,n){var r=n(1882),o=n(7296),i=n(3805),a=n(7473),u=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,p=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?p:u).test(a(t))}},5250:function(t,e,n){var r=n(7217),o=n(7805),i=n(6649),a=n(2824),u=n(3805),s=n(7241),l=n(4974);t.exports=function t(e,n,c,f,p){e!==n&&i(n,function(i,s){p||(p=new r);if(u(i))a(e,n,s,c,t,f,p);else{var d=f?f(l(e,s),i,s+"",e,n,p):void 0;void 0===d&&(d=i);o(e,s,d)}},s)}},5288:function(t){t.exports=function(t,e){return t===e||t!=t&&e!=e}},5364:function(t,e,n){var r=n(5250),o=n(999)(function(t,e,n){r(t,e,n)});t.exports=o},5481:function(t,e,n){var r=n(9325)["__core-js_shared__"];t.exports=r},5527:function(t){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},5529:function(t,e,n){var r=n(9344),o=n(8879),i=n(5527);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},5749:function(t,e,n){var r=n(1042);t.exports=function(t,e){var n=this.__data__;this.size+=this.has(t)?0:1;n[t]=r&&void 0===e?"__lodash_hash_undefined__":e;return this}},6009:function(t,e,n){t=n.nmd(t);var r=n(4840),o=e&&!e.nodeType&&e,i=o&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=u},6025:function(t,e,n){var r=n(5288);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},6110:function(t,e,n){var r=n(5083),o=n(392);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},6449:function(t){var e=Array.isArray;t.exports=e},6547:function(t,e,n){var r=n(3360),o=n(5288),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},6649:function(t,e,n){var r=n(3221)();t.exports=r},6721:function(t,e,n){var r=n(1042),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},6757:function(t,e,n){var r=n(1033),o=Math.max;t.exports=function(t,e,n){e=o(void 0===e?t.length-1:e,0);return function(){for(var i=arguments,a=-1,u=o(i.length-e,0),s=Array(u);++a<u;)s[a]=i[e+a];a=-1;for(var l=Array(e+1);++a<e;)l[a]=i[a];l[e]=n(s);return r(t,this,l)}}},6800:function(t,e,n){var r=n(5288),o=n(4894),i=n(361),a=n(3805);t.exports=function(t,e,n){if(!a(n))return!1;var u=typeof e;return!!("number"==u?o(n)&&i(e,n.length):"string"==u&&e in n)&&r(n[e],t)}},7167:function(t,e,n){var r=n(4901),o=n(7301),i=n(6009),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},7206:function(t){t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)};function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}},7217:function(t,e,n){var r=n(79),o=n(1420),i=n(938),a=n(3605),u=n(9817),s=n(945);function l(t){var e=this.__data__=new r(t);this.size=e.size}l.prototype.clear=o;l.prototype["delete"]=i;l.prototype.get=a;l.prototype.has=u;l.prototype.set=s;t.exports=l},7241:function(t,e,n){var r=n(695),o=n(2903),i=n(4894);t.exports=function(t){return i(t)?r(t,!0):o(t)}},7296:function(t,e,n){var r,o=n(5481),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},7301:function(t){t.exports=function(t){return function(e){return t(e)}}},7334:function(t){t.exports=function(t){return function(){return t}}},7473:function(t){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7534:function(t,e,n){var r=n(2552),o=n(346);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},7556:function(t,e,n){var r=n(1873),o=n(4932),i=n(6449),a=n(4394),u=r?r.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return s?s.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7670:function(t,e,n){var r=n(2651);t.exports=function(t){var e=r(this,t)["delete"](t);this.size-=e?1:0;return e}},7805:function(t,e,n){var r=n(3360),o=n(5288);t.exports=function(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},7828:function(t,e,n){var r=n(9325).Uint8Array;t.exports=r},7907:function(t,e,n){var r,o,i;function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}i=function(){"use strict";function t(t){return"function"==typeof t}var e=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,o=void 0,i=void 0,u=function(t,e){h[r]=t;h[r+1]=e;2===(r+=2)&&(i?i(y):g())},s="undefined"!=typeof window?window:void 0,l=s||{},c=l.MutationObserver||l.WebKitMutationObserver,f="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(y,1)}}var h=new Array(1e3);function y(){for(var t=0;t<r;t+=2){(0,h[t])(h[t+1]);h[t]=void 0;h[t+1]=void 0}r=0}var g=void 0;g=f?function(){return process.nextTick(y)}:c?function(){var t=0,e=new c(y),n=document.createTextNode("");e.observe(n,{characterData:!0});return function(){n.data=t=++t%2}}():p?function(){var t=new MessageChannel;t.port1.onmessage=y;return function(){return t.port2.postMessage(0)}}():void 0===s?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(y)}:d()}catch(t){return d()}}():d();function v(t,e){var n=this,r=new this.constructor(w);void 0===r[b]&&I(r);var o=n._state;if(o){var i=arguments[o-1];u(function(){return j(o,r,i,n._result)})}else A(n,r,t,e);return r}function m(t){if(t&&"object"===a(t)&&t.constructor===this)return t;var e=new this(w);O(e,t);return e}var b=Math.random().toString(36).substring(2);function w(){}var S=void 0,k=1,T=2;function C(e,n,r){n.constructor===e.constructor&&r===v&&n.constructor.resolve===m?function(t,e){e._state===k?P(t,e._result):e._state===T?_(t,e._result):A(e,void 0,function(e){return O(t,e)},function(e){return _(t,e)})}(e,n):void 0===r?P(e,n):t(r)?function(t,e,n){u(function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,function(n){if(!r){r=!0;e!==n?O(t,n):P(t,n)}},function(e){if(!r){r=!0;_(t,e)}},t._label);if(!r&&o){r=!0;_(t,o)}},t)}(e,n,r):P(e,n)}function O(t,e){if(t===e)_(t,new TypeError("You cannot resolve a promise with itself"));else if(o=a(r=e),null===r||"object"!==o&&"function"!==o)P(t,e);else{var n=void 0;try{n=e.then}catch(e){_(t,e);return}C(t,e,n)}var r,o}function E(t){t._onerror&&t._onerror(t._result);x(t)}function P(t,e){if(t._state===S){t._result=e;t._state=k;0!==t._subscribers.length&&u(x,t)}}function _(t,e){if(t._state===S){t._state=T;t._result=e;u(E,t)}}function A(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null;o[i]=e;o[i+k]=n;o[i+T]=r;0===i&&t._state&&u(x,t)}function x(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,a=0;a<e.length;a+=3){r=e[a];o=e[a+n];r?j(n,r,o,i):o(i)}t._subscribers.length=0}}function j(e,n,r,o){var i=t(r),a=void 0,u=void 0,s=!0;if(i){try{a=r(o)}catch(t){s=!1;u=t}if(n===a){_(n,new TypeError("A promises callback cannot return that same promise."));return}}else a=o;n._state!==S||(i&&s?O(n,a):!1===s?_(n,u):e===k?P(n,a):e===T&&_(n,a))}var L=0;function I(t){t[b]=L++;t._state=void 0;t._result=void 0;t._subscribers=[]}var D=function(){function t(t,n){this._instanceConstructor=t;this.promise=new t(w);this.promise[b]||I(this.promise);if(e(n)){this.length=n.length;this._remaining=n.length;this._result=new Array(this.length);if(0===this.length)P(this.promise,this._result);else{this.length=this.length||0;this._enumerate(n);0===this._remaining&&P(this.promise,this._result)}}else _(this.promise,new Error("Array Methods must be provided an Array"))}t.prototype._enumerate=function(t){for(var e=0;this._state===S&&e<t.length;e++)this._eachEntry(t[e],e)};t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===m){var o=void 0,i=void 0,a=!1;try{o=t.then}catch(t){a=!0;i=t}if(o===v&&t._state!==S)this._settledAt(t._state,e,t._result);else if("function"!=typeof o){this._remaining--;this._result[e]=t}else if(n===N){var u=new n(w);a?_(u,i):C(u,t,o);this._willSettleAt(u,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)};t.prototype._settledAt=function(t,e,n){var r=this.promise;if(r._state===S){this._remaining--;t===T?_(r,n):this._result[e]=n}0===this._remaining&&P(r,this._result)};t.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,function(t){return n._settledAt(k,e,t)},function(t){return n._settledAt(T,e,t)})};return t}(),N=function(){function e(t){this[b]=L++;this._result=this._state=void 0;this._subscribers=[];if(w!==t){"function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}();this instanceof e?function(t,e){try{e(function(e){O(t,e)},function(e){_(t,e)})}catch(e){_(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}()}}e.prototype["catch"]=function(t){return this.then(null,t)};e.prototype["finally"]=function(e){var n=this,r=n.constructor;return t(e)?n.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})}):n.then(e,e)};return e}();N.prototype.then=v;N.all=function(t){return new D(this,t).promise};N.race=function(t){var n=this;return e(t)?new n(function(e,r){for(var o=t.length,i=0;i<o;i++)n.resolve(t[i]).then(e,r)}):new n(function(t,e){return e(new TypeError("You must pass an array to race."))})};N.resolve=m;N.reject=function(t){var e=new this(w);_(e,t);return e};N._setScheduler=function(t){i=t};N._setAsap=function(t){u=t};N._asap=u;N.polyfill=function(){var t=void 0;if(void 0!==n.g)t=n.g;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=N};N.Promise=N;return N},"object"===a(e)?t.exports=i():void 0!==(o="function"==typeof(r=i)?r.call(e,n,e,t):r)&&(t.exports=o)},8096:function(t){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},8221:function(t,e,n){var r=n(3805),o=n(124),i=n(9374),a=Math.max,u=Math.min;t.exports=function(t,e,n){var s,l,c,f,p,d,h=0,y=!1,g=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");e=i(e)||0;if(r(n)){y=!!n.leading;c=(g="maxWait"in n)?a(i(n.maxWait)||0,e):c;v="trailing"in n?!!n.trailing:v}function m(e){var n=s,r=l;s=l=void 0;h=e;return f=t.apply(r,n)}function b(t){var n=t-d;return void 0===d||n>=e||n<0||g&&t-h>=c}function w(){var t=o();if(b(t))return S(t);p=setTimeout(w,function(t){var n=e-(t-d);return g?u(n,c-(t-h)):n}(t))}function S(t){p=void 0;if(v&&s)return m(t);s=l=void 0;return f}function k(){var t=o(),n=b(t);s=arguments;l=this;d=t;if(n){if(void 0===p)return function(t){h=t;p=setTimeout(w,e);return y?m(t):f}(d);if(g){clearTimeout(p);p=setTimeout(w,e);return m(d)}}void 0===p&&(p=setTimeout(w,e));return f}k.cancel=function(){void 0!==p&&clearTimeout(p);h=0;s=d=l=p=void 0};k.flush=function(){return void 0===p?f:S(o())};return k}},8223:function(t,e,n){var r=n(6110)(n(9325),"Map");t.exports=r},8655:function(t,e,n){var r=n(6025);t.exports=function(t){return r(this.__data__,t)>-1}},8721:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4826),o={"&lt":"<","&gt":">","&quot":'"',"&apos":"'","&amp":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&amp;":"&"},i={60:"lt",62:"gt",34:"quot",39:"apos",38:"amp"},a={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","&":"&amp;"},u=function(){function t(){}t.prototype.encode=function(t){return t&&t.length?t.replace(/[<>"'&]/g,function(t){return a[t]}):""};t.encode=function(e){return(new t).encode(e)};t.prototype.decode=function(t){return t&&t.length?t.replace(/&#?[0-9a-zA-Z]+;?/g,function(t){if("#"===t.charAt(1)){var e="x"===t.charAt(2).toLowerCase()?parseInt(t.substr(3),16):parseInt(t.substr(2));return!isNaN(e)||e>=-32768?e<=65535?String.fromCharCode(e):r.fromCodePoint(e):""}return o[t]||t}):""};t.decode=function(e){return(new t).decode(e)};t.prototype.encodeNonUTF=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",o=0;o<e;){var a=t.charCodeAt(o),u=i[a];if(u){n+="&"+u+";";o++}else{if(a<32||a>126)if(a>=r.highSurrogateFrom&&a<=r.highSurrogateTo){n+="&#"+r.getCodePoint(t,o)+";";o++}else n+="&#"+a+";";else n+=t.charAt(o);o++}}return n};t.encodeNonUTF=function(e){return(new t).encodeNonUTF(e)};t.prototype.encodeNonASCII=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",o=0;o<e;){var i=t.charCodeAt(o);if(i<=255)n+=t[o++];else{if(i>=r.highSurrogateFrom&&i<=r.highSurrogateTo){n+="&#"+r.getCodePoint(t,o)+";";o++}else n+="&#"+i+";";o++}}return n};t.encodeNonASCII=function(e){return(new t).encodeNonASCII(e)};return t}();e.XmlEntities=u},8879:function(t,e,n){var r=n(4335)(Object.getPrototypeOf,Object);t.exports=r},9302:function(t,e,n){var r=n(3488),o=n(6757),i=n(2865);t.exports=function(t,e){return i(o(t,e,r),t+"")}},9325:function(t,e,n){var r=n(4840),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},9344:function(t,e,n){var r=n(3805),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;t.prototype=void 0;return n}}();t.exports=i},9350:function(t){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},9374:function(t,e,n){var r=n(4128),o=n(3805),i=n(4394),a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(i(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=u.test(t);return n||s.test(t)?l(t.slice(2),n?2:8):a.test(t)?NaN:+t}},9466:function(t,e){var n,r,o;r=[],void 0!==(o="function"==typeof(n=function(){return function(t){function e(t){return" "===t||"\t"===t||"\n"===t||"\f"===t||"\r"===t}function n(e){var n,r=e.exec(t.substring(y));if(r){n=r[0];y+=n.length;return n}}for(var r,o,i,a,u,s=t.length,l=/^[ \t\n\r\u000c]+/,c=/^[, \t\n\r\u000c]+/,f=/^[^ \t\n\r\u000c]+/,p=/[,]+$/,d=/^\d+$/,h=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,y=0,g=[];;){n(c);if(y>=s)return g;r=n(f);o=[];if(","===r.slice(-1)){r=r.replace(p,"");m()}else v()}function v(){n(l);i="";a="in descriptor";for(;;){u=t.charAt(y);if("in descriptor"===a)if(e(u)){if(i){o.push(i);i="";a="after descriptor"}}else{if(","===u){y+=1;i&&o.push(i);m();return}if("("===u){i+=u;a="in parens"}else{if(""===u){i&&o.push(i);m();return}i+=u}}else if("in parens"===a)if(")"===u){i+=u;a="in descriptor"}else{if(""===u){o.push(i);m();return}i+=u}else if("after descriptor"===a)if(e(u));else{if(""===u){m();return}a="in descriptor";y-=1}y+=1}}function m(){var e,n,i,a,u,s,l,c,f,p=!1,y={};for(a=0;a<o.length;a++){s=(u=o[a])[u.length-1];l=u.substring(0,u.length-1);c=parseInt(l,10);f=parseFloat(l);if(d.test(l)&&"w"===s){(e||n)&&(p=!0);0===c?p=!0:e=c}else if(h.test(l)&&"x"===s){(e||n||i)&&(p=!0);f<0?p=!0:n=f}else if(d.test(l)&&"h"===s){(i||n)&&(p=!0);0===c?p=!0:i=c}else p=!0}if(p)console&&console.log&&console.log("Invalid srcset descriptor found in '"+t+"' at '"+u+"'.");else{y.url=r;e&&(y.w=e);n&&(y.d=n);i&&(y.h=i);g.push(y)}}}})?n.apply(e,r):n)&&(t.exports=o)},9570:function(t,e,n){var r=n(7334),o=n(3243),i=n(3488),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},9653:function(t,e,n){var r=n(7828);t.exports=function(t){var e=new t.constructor(t.byteLength);new r(e).set(new r(t));return e}},9655:function(t,e,n){t=n.nmd(t);var r;!function(){e&&e.nodeType,t&&t.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self!==o||o;var i,a=2147483647,u=36,s=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,d=String.fromCharCode;function h(t){throw new RangeError(f[t])}function y(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function g(t,e){var n=t.split("@"),r="";if(n.length>1){r=n[0]+"@";t=n[1]}return r+y((t=t.replace(c,".")).split("."),e).join(".")}function v(t){for(var e,n,r=[],o=0,i=t.length;o<i;)if((e=t.charCodeAt(o++))>=55296&&e<=56319&&o<i)if(56320==(64512&(n=t.charCodeAt(o++))))r.push(((1023&e)<<10)+(1023&n)+65536);else{r.push(e);o--}else r.push(e);return r}function m(t){return y(t,function(t){var e="";if(t>65535){e+=d((t-=65536)>>>10&1023|55296);t=56320|1023&t}return e+=d(t)}).join("")}function b(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:u}function w(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function S(t,e,n){var r=0;t=n?p(t/700):t>>1;t+=p(t/e);for(;t>455;r+=u)t=p(t/35);return p(r+36*t/(t+38))}function k(t){var e,n,r,o,i,s,l,c,f,d,y=[],g=t.length,v=0,w=128,k=72;(n=t.lastIndexOf("-"))<0&&(n=0);for(r=0;r<n;++r){t.charCodeAt(r)>=128&&h("not-basic");y.push(t.charCodeAt(r))}for(o=n>0?n+1:0;o<g;){for(i=v,s=1,l=u;;l+=u){o>=g&&h("invalid-input");((c=b(t.charCodeAt(o++)))>=u||c>p((a-v)/s))&&h("overflow");v+=c*s;if(c<(f=l<=k?1:l>=k+26?26:l-k))break;s>p(a/(d=u-f))&&h("overflow");s*=d}k=S(v-i,e=y.length+1,0==i);p(v/e)>a-w&&h("overflow");w+=p(v/e);v%=e;y.splice(v++,0,w)}return m(y)}function T(t){var e,n,r,o,i,s,l,c,f,y,g,m,b,k,T,C=[];m=(t=v(t)).length;e=128;n=0;i=72;for(s=0;s<m;++s)(g=t[s])<128&&C.push(d(g));r=o=C.length;o&&C.push("-");for(;r<m;){for(l=a,s=0;s<m;++s)(g=t[s])>=e&&g<l&&(l=g);l-e>p((a-n)/(b=r+1))&&h("overflow");n+=(l-e)*b;e=l;for(s=0;s<m;++s){(g=t[s])<e&&++n>a&&h("overflow");if(g==e){for(c=n,f=u;!(c<(y=f<=i?1:f>=i+26?26:f-i));f+=u){T=c-y;k=u-y;C.push(d(w(y+T%k,0)));c=p(T/k)}C.push(d(w(c,0)));i=S(n,b,r==o);n=0;++r}}++n;++e}return C.join("")}i={version:"1.4.1",ucs2:{decode:v,encode:m},decode:k,encode:T,toASCII:function(t){return g(t,function(t){return l.test(t)?"xn--"+T(t):t})},toUnicode:function(t){return g(t,function(t){return s.test(t)?k(t.slice(4).toLowerCase()):t})}};void 0!==(r=function(){return i}.call(e,n,e,t))&&(t.exports=r)}()},9817:function(t){t.exports=function(t){return this.__data__.has(t)}},9839:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4826),o=["apos","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","quot","amp","lt","gt","OElig","oelig","Scaron","scaron","Yuml","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","permil","lsaquo","rsaquo","euro","fnof","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","bull","hellip","prime","Prime","oline","frasl","weierp","image","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","prop","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sub","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams"],i=[39,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,34,38,60,62,338,339,352,353,376,710,732,8194,8195,8201,8204,8205,8206,8207,8211,8212,8216,8217,8218,8220,8221,8222,8224,8225,8240,8249,8250,8364,402,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,931,932,933,934,935,936,937,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960,961,962,963,964,965,966,967,968,969,977,978,982,8226,8230,8242,8243,8254,8260,8472,8465,8476,8482,8501,8592,8593,8594,8595,8596,8629,8656,8657,8658,8659,8660,8704,8706,8707,8709,8711,8712,8713,8715,8719,8721,8722,8727,8730,8733,8734,8736,8743,8744,8745,8746,8747,8756,8764,8773,8776,8800,8801,8804,8805,8834,8835,8836,8838,8839,8853,8855,8869,8901,8968,8969,8970,8971,9001,9002,9674,9824,9827,9829,9830],a={},u={};!function(){for(var t=0,e=o.length;t<e;){var n=o[t],r=i[t];a[n]=String.fromCharCode(r);u[r]=n;t++}}();var s=function(){function t(){}t.prototype.decode=function(t){return t&&t.length?t.replace(/&(#?[\w\d]+);?/g,function(t,e){var n;if("#"===e.charAt(0)){var o="x"===e.charAt(1).toLowerCase()?parseInt(e.substr(2),16):parseInt(e.substr(1));(!isNaN(o)||o>=-32768)&&(n=o<=65535?String.fromCharCode(o):r.fromCodePoint(o))}else n=a[e];return n||t}):""};t.decode=function(e){return(new t).decode(e)};t.prototype.encode=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",r=0;r<e;){var o=u[t.charCodeAt(r)];n+=o?"&"+o+";":t.charAt(r);r++}return n};t.encode=function(e){return(new t).encode(e)};t.prototype.encodeNonUTF=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",o=0;o<e;){var i=t.charCodeAt(o),a=u[i];if(a)n+="&"+a+";";else if(i<32||i>126)if(i>=r.highSurrogateFrom&&i<=r.highSurrogateTo){n+="&#"+r.getCodePoint(t,o)+";";o++}else n+="&#"+i+";";else n+=t.charAt(o);o++}return n};t.encodeNonUTF=function(e){return(new t).encodeNonUTF(e)};t.prototype.encodeNonASCII=function(t){if(!t||!t.length)return"";for(var e=t.length,n="",o=0;o<e;){var i=t.charCodeAt(o);if(i<=255)n+=t[o++];else{if(i>=r.highSurrogateFrom&&i<=r.highSurrogateTo){n+="&#"+r.getCodePoint(t,o)+";";o++}else n+="&#"+i+";";o++}}return n};t.encodeNonASCII=function(e){return(new t).encodeNonASCII(e)};return t}();e.Html4Entities=s},9884:function(t,e,n){var r=n(1791),o=n(7241);t.exports=function(t){return r(t,o(t))}},9935:function(t){t.exports=function(){return!1}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};t[r].call(i.exports,i,i.exports,n);i.loaded=!0;return i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};n.d(e,{a:e});return e};n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})};n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};n.nmd=function(t){t.paths=[];t.children||(t.children=[]);return t};!function(){"use strict";var t=n(7907),e=/^\s*$/,r="";function o(t,e){return"string"==typeof t&&"string"==typeof e&&t.substr(0,e.length)===e}function i(t,e,n){if(null==e)return!1;(void 0===n||n>t.length)&&(n=t.length);return t.substring(n-e.length,n)===e}function a(t){return"string"==typeof t&&e.test(t)}function u(t){return r+t+r}var s=!("".trim&&1===r.trim().length),l=function(t){return s?t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):t.trim()};function c(t,e,n){for(var r=t,o=t.replace(e,n);o!==r;)o=(r=o).replace(e,n);return r}function f(t,e){for(var n=0,r=t.length-1;r>=0&&t[r]==e;r--)n++;return n>0?t.slice(0,t.length-n):t}function p(t,e){return t.replace(new RegExp("^(".concat(e,")*|(").concat(e,")*$"),"g"),"")}var d={DEBUG_LOGGING:!1,CI_TEST:void 0,BUILD_ID:"2064",BUILD_HASH:"7b2ebe0621",BUILD_TIME:"2025-08-04T05:09:29.668Z",CDN_URL:"https://data.wovn.io",STAGING_CDN_URLS:["https://data.staging1-wovn.com","https://data.staging2-wovn.com","https://data.staging3-wovn.com","https://data.staging4-wovn.com","https://data.staging5-wovn.com","https://data.staging6-wovn.com","https://data.staging7-wovn.com","https://data.staging8-wovn.com","https://data.staging9-wovn.com","https://data.staging10-wovn.com"],FASTLY_IMAGE_PREFIX:"https://data.wovn.io/",HOTJAR_ID:"3144801",API_REQUEST_CACHE_KEY:"bcc1a289"},h=n(9655),y=n.n(h),g="^([a-z-A-Z]+://|//)",v="^([a-z-A-Z]+):",m={PROTOCOL:new RegExp(v),PROTOCOL_WITHOUT_SLASHES:new RegExp("".concat(v,"[^/]")),DOMAIN_AND_PORT:new RegExp("".concat(g,"(.[^/]+)/?")),ABSOLUTE_URL:new RegExp(g,"i"),ABSOLUTE_PATH:/^\//,IMAGE_FILE:/^(https?:\/\/)?.*(\.(jpe|jpe?g|bmp|gif|png|btif|tiff?|psd|djvu?|xif|wbmp|webp|p(n|b|g|p)m|rgb|tga|x(b|p)m|xwd|pic|ico|fh(c|4|5|7)?|xif|f(bs|px|st)))(?=([\?#&].*$|$))/i,AUDIO_FILE:/^(https?:\/\/)?.*(\.(mp(3|2)|m(p?2|3|p?4|pg)a|midi?|kar|rmi|web(m|a)|aif(f?|c)|w(ma|av|ax)|m(ka|3u)|sil|s3m|og(a|g)|uvv?a))(?=([\?#&].*$|$))/i,VIDEO_FILE:/^(https?:\/\/)?.*(\.(m(x|4)u|fl(i|v)|3g(p|2)|jp(gv|g?m)|mp(4v?|g4|e?g)|m(1|2)v|ogv|m(ov|ng)|qt|uvv?(h|m|p|s|v)|dvb|mk(v|3d|s)|f4v|as(x|f)|w(m(v|x)|vx)))(?=([\?#&].*$|$))/i,DOC_FILE:/^(https?:\/\/)?.*(\.((g|7)?zip|7z|tar|gz|rar|ez|aw|atom(cat|svc)?|(cc)?xa?ml|cdmi(a|c|d|o|q)?|epub|g(ml|px|xf)|jar|js|ser|class|json(ml)?|do(c|t)(m|x)?|xls(m|x)?|xps|pp(a|tx?|s)m?|potm?|sldm|mp(p|t)|bin|dms|lrf|mar|so|dist|distz|m?pkg|bpk|dump|rtf|tfi|pdf|pgp|apk|o(t|d)(b|c|ft?|g|h|i|p|s|t)))(?=([\?#&].*$|$))/i};function b(t){return t.replace(/[\#\?].*/,"")}function w(t,e){var n=t.match(m.PROTOCOL);return n&&n[1]?n[1].toLowerCase():function(t){return t.protocol.substr(0,t.protocol.length-1)}(e)}function S(t,e){var n=e?e+":":"";return t.replace(m.PROTOCOL,n)}function k(t){var e=b(O(t)).replace(/^[^\/]*/,"").toLowerCase();return""!==e?e:null}function T(t){var e=O(t),n=k(t),r=C(e);return r?(null!==n?n:"")+r:n}function C(t){var e=t.match(/^[^?]*(\?[^#]*)/);return e&&e[1]?e[1]:null}function O(t){return t.replace(/^([a-zA-Z]+:)?\/\//,"")}function E(t){if(!t)return!1;var e=b(t);return m.IMAGE_FILE.test(e)||m.AUDIO_FILE.test(e)||m.VIDEO_FILE.test(e)||m.DOC_FILE.test(e)}var P=function(t){var e=document.createElement("a");e.href=t;""!=e.host&&""!=e.protocol||(e.href=e.href+"");var n=e.pathname;"/"!==n[0]&&o(e.protocol,"http")&&(n="/"+n);var r=A(e.hostname),i=e.href.replace("".concat(e.protocol,"//").concat(e.hostname),"".concat(e.protocol,"//").concat(r));return{hash:e.hash,href:i,host:A(e.host),hostname:r,search:e.search,pathname:n,origin:A(e.origin),port:e.port,username:e.username,password:e.password,protocol:e.protocol,toString:function(){return _(this)}}},_=function(t){return"".concat(t.protocol,"//").concat(t.host).concat(t.pathname).concat(t.search).concat(t.hash)};function A(t){return null!=t?y().toASCII(t):t}function x(t){return m.ABSOLUTE_URL.test(t)}function j(t){return m.ABSOLUTE_PATH.test(t)}function L(t,e){var n=w(t,e);return"http"===n||"https"===n}function I(t){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I(t)}function D(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return N(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U(r.key),r)}}function U(t){var e=function(t,e){if("object"!=I(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==I(e)?e:e+""}var V,H=function(){return t=function t(e,n,r,o,i,a,u,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.environment=e;this.wovnHost=n;this.eeHost=r;this.jHost=o;this.cdnOriginHost=i;this.cdnCacheHost=a;this.apiHost=u;this.isVersioned=s},(e=[{key:"isProduction",value:function(){return"production"===this.environment}},{key:"isStaging",value:function(){return o(this.environment,"staging")}},{key:"isDevelopment",value:function(){return"development"===this.environment||"creeped-development"===this.environment}},{key:"isTest",value:function(){return"test"===this.environment||"auto-integration-test"===this.environment}},{key:"isProductionLike",value:function(){return this.isProduction()||this.isStaging()}}])&&R(t.prototype,e),n&&R(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function M(t){var e,n=t.getAttribute("wovn-src-override")||t.src,r=P(n),i=function(t){var e=function(t){return o(t.href,d.CDN_URL)?{name:"production",topLevelHost:"wovn.io"}:function(t){var e,n=1,r=D(d.STAGING_CDN_URLS);try{for(r.s();!(e=r.n()).done;){var i=e.value;if(o(t.href,i))return{name:"staging".concat(n),topLevelHost:"staging".concat(n,"-wovn.com")};n++}}catch(t){r.e(t)}finally{r.f()}return null}(t)}(t);if(e)return e;var n=function(t){return function(t){var e=!1;"dev-wovn.io"===location.hostname&&"60080"===location.port&&(e=!0);!t&&/^(test|dev)-wovn.io/.test(location.hostname)&&(e=!0);return e?location.hostname+":"+location.port:null}(t)||function(t){if(t){var e=t.hostname.replace(/^.*\.([^.]+\.[^.]+)/,"$1");return t.port&&"80"!==t.port&&"443"!==t.port?e+":"+t.port:e}return null}(t)||"wovn.io"}(t);if(o(n,"dev-wovn.io"))return/:60080$/.test(n)?{name:"auto-integration-test",topLevelHost:n}:t&&/(^|[?&])creep=true($|&)/.test(t.search)?{name:"creeped-development",topLevelHost:n}:{name:"development",topLevelHost:n};if(o(n,"test-wovn.io"))return{name:"test",topLevelHost:n};if(/^staging\d+-wovn\.com/.test(n)){return{name:n.split("-")[0],topLevelHost:n}}return{name:"production",topLevelHost:n}}(r),a=i.name,u=i.topLevelHost,s=u,l="https://";switch(a){case"development":case"test":case"auto-integration-test":e=(l=r.protocol+"//")+"cdn."+u;break;case"creeped-development":e=(l=r.protocol+"//")+"cdn."+(s="wovn.io");break;case"production":e=d.CDN_URL;break;default:if(o(a,"staging")){var c=parseInt(a.match(/^staging(\d+)/)[1]);e=d.STAGING_CDN_URLS[c-1]}else e=l+"wovn.io"}var f=l+s,p=l+"ee."+s,h=l+"j."+u,y=l+"cdn."+s,g=l+"api."+s,v=(r.origin===e||r.origin===y)&&/\/widget\/.{5,6}/.test(r.pathname);d.CI_TEST&&console.log("WovnContext: ",n,a,s);return new H(a,f+"/",p+"/",h+"/",y+"/",e+"/",g+"/",v)}function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W(r.key),r)}}function W(t){var e=function(t,e){if("object"!=B(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==B(e)?e:e+""}var q,z=window.navigator.userAgent,G=window.navigator.vendor,J=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.isSafariCache=null;this.isIECache=null;this.isEdgeCache=null},(e=[{key:"setVendor",value:function(t){G=t}},{key:"setAgentString",value:function(t){z=t}},{key:"isSafari",value:function(){this.isSafariCache=null==this.isSafariCache?/Apple/.test(G):this.isSafariCache;return this.isSafariCache}},{key:"isIE",value:function(){if(null!=this.isIECache)return this.isIECache;var t=z.toLowerCase();this.isIECache=!(-1===t.indexOf("msie")&&-1===t.indexOf("trident"));return this.isIECache}},{key:"isEdge",value:function(){if(null!=this.isEdgeCache)return this.isEdgeCache;this.isEdgeCache=!!z.match(/Edge/);return this.isEdgeCache}},{key:"isCrawler",value:function(){return new RegExp("googlebot|slurp|y!j|yahooseeker|bingbot|msnbot|baiduspider|yandex|yeti|naverbot|duckduckbot|360spider|^sogou|dbot","i").test(z)}},{key:"isPrerender",value:function(){return!!z.match(/Prerender/)}},{key:"isGooglePageSpeedInsights",value:function(){return!!z.match(/Google Page Speed Insights|Google\-InspectionTool/)}},{key:"isWovnCrawler",value:function(){return new RegExp("WovnCrawler|Wovn","i").test(z)}},{key:"isBotRequiringDefaultLang",value:function(){return this.isWovnCrawler()||this.isDataHighlighter()||this.isGooglePageSpeedInsights()||this.isPrerender()||!!z.match(/YextBot/)}},{key:"isMobile",value:function(){return!!(z.match(/android/i)&&z.match(/mobile/i)||z.match(/iphone/i)||z.match(/ipod/i)||z.match(/phone/i)||(z.match(/blackberry/i)||z.match(/bb10/i)||z.match(/rim/i))&&!z.match(/tablet/i)||(z.match(/\(mobile;/i)||z.match(/\(tablet;/i)||z.match(/; rv:/i))&&z.match(/mobile/i)||z.match(/meego/i))}},{key:"mutatesTextNodeData",value:function(){if(void 0!==V)return V;var t=document.createElement("p");t.innerHTML="0\n1";return V="0\n1"!==t.firstChild["data"]}},{key:"canStoreObjectInNode",value:function(){return!this.isEdge()&&!this.isIE()}},{key:"isDataHighlighter",value:function(){return!!z.match(/Google PP Default/)}}])&&F(t.prototype,e),n&&F(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),$=new J,K=n(121),X=n.n(K),Z=function(t,e){if(!('["a"]'===JSON.stringify(["a"]))){if(void 0!==window["Prototype"])return Object["toJSON"](t);if(void 0!==window["MooTools"]&&void 0!==JSON["encode"])return JSON["encode"](t)}return JSON.stringify(t,null,e)},Y=function(t){t[t["UNSENT"]=0]="UNSENT";t[t["OPENED"]=1]="OPENED";t[t["HEADERS_RECEIVED"]=2]="HEADERS_RECEIVED";t[t["LOADING"]=3]="LOADING";t[t["DONE"]=4]="DONE";return t}({}),Q=n(2376);function tt(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return et(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function nt(t){return nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ot(r.key),r)}}function ot(t){var e=function(t,e){if("object"!=nt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nt(e)?e:e+""}var it=[],at=[],ut=new Q.sK;var st=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"pageIsWidgetPreview",value:function(){return/fake_page\/blank/.test(window.location.pathname)&&/wovn\.(io|com)/.test(window.location.hostname)}},{key:"getMetaElement",value:function(t,e){e||(e={});for(var n=document.getElementsByTagName("meta"),r=0;r<n.length;++r)if(n[r].getAttribute("name")===t){var o=!0;for(var i in e)if(e.hasOwnProperty(i)&&e[i]!==n[r].getAttribute(i)){o=!1;break}if(o)return n[r]}return null}},{key:"canStyleChange",value:function(t){if(!(function(){void 0===q&&(q=!!window.getComputedStyle);return q}()&&t.style&&t.style.getPropertyPriority&&t.style.getPropertyValue&&t.style.setProperty))return!1;var e=t.nodeName;return"META"!==e&&"IMG"!==e&&"#text"!==e&&"#comment"!==e}},{key:"getReadyState",value:function(){return document.readyState}},{key:"onLoadingComplete",value:function(t){var e=this;"complete"===this.getReadyState()?t():at.push(setTimeout(function(){e.onLoadingComplete(t)},100))}},{key:"onDomReady",value:function(t){X()(t)}},{key:"sendRequest",value:function(t,e,n,r,o){var i;if(window.XDomainRequest){(i=new window.XDomainRequest).onload=function(){r(i.responseText,null)};i.onerror=function(){o()};i.ontimeout=function(){o()}}else(i=new XMLHttpRequest).onreadystatechange=function(){if(i.readyState===Y.DONE)if(200===this.status||304===this.status){for(var t={},e=i.getAllResponseHeaders().split("\r\n"),n=0;n<e.length;n++)if(""!==e[n]){var a=e[n].split(": ");t[a[0]]=a[1]}r(i.responseText,t)}else o(i)};i.open(t,e,!0);i.timeout=6e4;i.ontimeout=function(){o(new Error("Request timeout!"))};n?"object"===nt(n)?i.send(Z(n)):i.send(n):i.send()}},{key:"findIndex",value:function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}},{key:"setComplement",value:function(t,e){var n,r=this,o=[],i=tt(t);try{var a=function(){var t=n.value;-1!==r.findIndex(e,function(e){return t==e})||o.push(t)};for(i.s();!(n=i.n()).done;)a()}catch(t){i.e(t)}finally{i.f()}return o}},{key:"decodeHTMLEntities",value:function(t){return ut.decode(t)}},{key:"toArrayFromDomList",value:function(t){return Array.prototype.slice.call(t)}},{key:"values",value:function(t){for(var e=Object.keys(t),n=[],r=0;r<e.length;r++)n.push(t[e[r]]);return n}},{key:"each",value:function(t,e){for(var n=Object.keys(t),r=0;r<n.length;r++){var o=n[r];e(o,t[o])}}},{key:"includes",value:function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}},{key:"isValidURI",value:function(t){try{decodeURIComponent(t);return!0}catch(t){if("URIError"===t.name)return!1}}},{key:"assign",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(Object.assign)return Object.assign.apply(null,arguments);if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),i=0;i<n.length;i++){var a=n[i];if(null!=a)for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(o[u]=a[u])}return o}},{key:"onEvent",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=e.replace(/^on(.)/i,function(t,e){return e.toLowerCase()});t.addEventListener(e,n,r);it.push({target:t,eventName:e,handler:n,useCapture:r})}},{key:"removeHandler",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.removeEventListener?t.removeEventListener(e,n,r):t.detachEvent&&t.detachEvent("on"+e,n)}},{key:"destroy",value:function(){for(var t=0;t<it.length;t++){var e=it[t];this.removeHandler(e.target,e.eventName,e.handler,e.useCapture)}for(var n=0;n<at.length;n++)clearTimeout(at[n])}}],e&&rt(t.prototype,e),n&&rt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),lt=new st;function ct(t){return ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ct(t)}function ft(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return pt(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pt(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ht(r.key),r)}}function ht(t){var e=function(t,e){if("object"!=ct(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ct(e)?e:e+""}var yt,gt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},e=[{key:"find",value:function(t,e,n){for(var r=0;r<t.length;++r){var o=t[r];if(e.call(n,o,r,t))return o}}},{key:"flatten",value:function(t){var e=this;return this.reduce(t,function(t,n){return Array.isArray(n)?t.concat(e.flatten(n)):t.concat(n)},[])}},{key:"flatMap",value:function(t,e,n){return this.flatten(t.map(e,n))}},{key:"toObject",value:function(t,e,n){var r={};t.forEach(function(t){r[e(t)]=n(t)});return r}},{key:"includes",value:function(t,e){return-1!==t.indexOf(e)}},{key:"intersect",value:function(t,e){var n=this;return t.filter(function(t){return n.includes(e,t)})}},{key:"difference",value:function(t,e){var n=this;return t.filter(function(t){return!n.includes(e,t)})}},{key:"union",value:function(t,e){return t.concat(e).filter(function(t,e,n){return n.indexOf(t)===e})}},{key:"reduce",value:function(t,e,n){var r,o=n,i=ft(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;o=void 0!==o?e(o,a):a}}catch(t){i.e(t)}finally{i.f()}return o}},{key:"distinctBy",value:function(t,e){var n={};t.forEach(function(r,o){var i=e(r,o,t);n.hasOwnProperty(i)||(n[i]=r)});return lt.values(n)}}],e&&dt(t.prototype,e),n&&dt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),vt=new gt,mt=(yt=[" \f\n\r\t\v-\u2028\u2029\ufeff","0123456789","!\"#$%&'()*+,\\-./\\:;<=>?@\\[\\]^_`{|}~"],vt.reduce(yt,function(t,e){for(var n=0;n<e.length;++n)t[e[n]]=!0;return t},{}));function bt(t){return bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bt(t)}function wt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return St(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?St(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function St(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tt(r.key),r)}}function Tt(t){var e=function(t,e){if("object"!=bt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bt(e)?e:e+""}var Ct=document;function Ot(t){Pt(Et(t,!0,!0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}function Et(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=Ct.createEvent("Event");o.initEvent(t,e,n);lt.assign(o,r);return o}function Pt(t){return Ct.dispatchEvent(t)}function _t(t,e){return Ct.addEventListener(t,e)}function At(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ct,r=function(o){e(o);n.removeEventListener(t,r)};return n.addEventListener(t,r)}function xt(t,e){return Ct.removeEventListener(t,e)}var jt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.listeners=[]},(e=[{key:"add",value:function(t,e,n,r){r=r||{capture:!1};t.addEventListener(e,n,r.capture);this.listeners.push([t,e,n,r])}},{key:"destroyAll",value:function(){for(var t=0;t<this.listeners.length;t++){var e=wt(this.listeners[t],4),n=e[0],r=e[1],o=e[2],i=e[3];n.removeEventListener(r,o,i.capture)}this.listeners=[]}}])&&kt(t.prototype,e),n&&kt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Lt(t){return Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt(t)}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dt(r.key),r)}}function Dt(t){var e=function(t,e){if("object"!=Lt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lt(e)?e:e+""}var Nt=null,Rt=null,Ut=!1,Vt=null,Ht=!1;var Mt=function(t){t["LANG_CHANGED"]="wovnLangChanged";return t}({}),Bt=function(t){t["WidgetLangSwitch"]="widget-lang-switch";return t}({}),Ft=function(){return e=function t(e,n,r,o,i,a,u,s,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);c=this,p=null,(f=Dt(f="convertedCodes"))in c?Object.defineProperty(c,f,{value:p,enumerable:!0,configurable:!0,writable:!0}):c[f]=p;var c,f,p;this.langCookie=e;this.snippetSettings=n;this.supportedLanguages=r;this.languageAliases=o;this.browserLanguageProvider=i;this.data=a;this.domainOptions=u;this.widget=s;this.apiStatus=l;Nt=null;Rt=null;Ut=!1;Vt=null},n=[{key:"get",value:function(t){var e=this.supportedLanguages.find(t);return e?e.languageInfo:null}},{key:"iso6391Normalization",value:function(t){return t.replace(/zh-CHT/i,"zh-Hant").replace(/zh-CHS/i,"zh-Hans")}},{key:"getCode",value:function(t){var e=this.get(t);return e?e.code:null}},{key:"getProjectLangCode",value:function(t){return vt.includes(this.data.getTranslatableLangs(),t)?this.getCode(t):null}},{key:"clearDocLang",value:function(){Vt=null;this.convertedCodes=null}},{key:"hasAlias",value:function(t){return null!=this.languageAliases.findAlias(t)}},{key:"setDefaultCodeAndRecomputeSecondaryCode",value:function(t){Nt=t;Rt=this.computeSecondaryCode()}},{key:"getDefaultCodeIfExists",value:function(){Nt||(Nt=(Nt=this.snippetSettings.isBackend&&this.snippetSettings.defaultLang)||this.data.pageData.getLang());return Nt}},{key:"getSecondaryCode",value:function(){null===Rt&&(Rt=this.computeSecondaryCode());return Rt}},{key:"computeSecondaryCode",value:function(){var t=this.data.domainOptions.getSecondaryLang(),e=this.data.getTranslatableLangs();t&&-1!==e.indexOf(t)||(t=this.getDefaultCodeIfExists());return t}},{key:"missingAutoTranslateLangs",value:function(){var t=this.data.getTranslatableLangs(),e=this.data.domainOptions.getAutoTranslateLangs();return lt.setComplement(e,t).length>0}},{key:"missingAutoPublishLangs",value:function(){var t=this.data.getTranslatableLangs(),e=this.data.domainOptions.getAutoPublishLangs();return lt.setComplement(e,t).length>0}},{key:"setDocLang",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e=e||this.getDocLang();var r=this.data.getTranslatableLangs();return!1===lt.includes(r,e)?t.Promise.resolve():this.setDocLangAllowUnpublished(e,n)}},{key:"setDocLangAllowUnpublished",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new t.Promise(function(t){if(n.data.pageData.hasPublishedLang()){n.setHtmlLangAttribute(e);n.langCookie.set(e)}n.data.domainOptions.hasFeature("final_fv_project")||n.domAuditor.supervisedSwapVals(e);var o=n.getActualLang(),i=!Ut&&e!==n.getDefaultCodeIfExists();Vt=e;Ut=!0;if(o!==e||i){n.triggerLangChangedEvent(o,e,r);t()}else t()})}},{key:"triggerLangChangedEvent",value:function(t,e,n){var r=this;this.apiStatus.isApiReady()?Pt(Et(Mt.LANG_CHANGED,!0,!0,{oldLangCode:t,newLangCode:e,langChangeReason:n})):this.apiStatus.addReadyCallback(function(){return r.triggerLangChangedEvent(t,e,n)})}},{key:"setHtmlLangAttribute",value:function(t){var e=document.getElementsByTagName("html")[0],n=e.getAttribute("lang"),r=this.iso6391Normalization(t);n!=r&&e.setAttribute("lang",r)}},{key:"isValidLangCode",value:function(t){if(null===t)return!1;if(t===this.getDefaultCodeIfExists())return!0;if(!this.convertedCodes){this.convertedCodes={};for(var e=this.data.pageData.getConvertedLangs(),n=0;n<e.length;n++)this.convertedCodes[e[n].code]=!0}return this.convertedCodes[t]||!1}},{key:"getActualLang",value:function(){if(Ut)return this.getDocLang();if(this.snippetSettings.isBackend){var t=this.getBackendCurrentLang();if(this.isValidLangCode(t))return t}return this.getDefaultCodeIfExists()}},{key:"ignoreBackendLang",value:function(){Ht=!0}},{key:"_getDocLang",value:function(){var t=this.getDefaultCodeIfExists(),e=this.getSecondaryCode(),n=this.langCookie.get(),r=!!n,o=this.urlComponent.getLangCode(),i=this.browserLanguageProvider.getLanguage(),a=!this.domainOptions.hasFeature("ignore_browser_lang")&&!r&&null!=i;if($.isBotRequiringDefaultLang())return this.snippetSettings.isBackend&&this.isValidLangCode(o)?o:t;if(this.snippetSettings.isBackend&&!Ht){var u=this.getBackendCurrentLang();return this.domainOptions.hasFeature("no_automatic_redirection")?a?i.code:u:a?i.code:(u!==t||r)&&this.isValidLangCode(u)?u:e}return t!==o&&this.isValidLangCode(o)?o:this.isValidLangCode(n)?n:a?i.code:e}},{key:"getDocLang",value:function(){return Vt||(Vt=this._getDocLang())}},{key:"getLangIdentifier",value:function(t){var e=this.supportedLanguages.find(t);return e?e.displayLanguage:null}},{key:"getBackendLangIdentifier",value:function(){var t=this.getBackendCurrentLang();return t?this.getLangIdentifier(t):null}},{key:"getBackendCurrentLang",value:function(){return(Ut?Vt:null)||this.snippetSettings.currentLang||this.urlComponent.getLangCode()}},{key:"isKoreanText",value:function(t){return function(t){if(t){for(var e=0,n=0,r=0;r<t.length;++r){var o=t[r],i=t.charCodeAt(r);i>=44032&&i<=55203?e+=1:mt[o]&&(n+=1)}if(n<t.length)return e/(t.length-n)>=.9}return!1}(t)}},{key:"defaultLangAlias",value:function(){var t=this.languageAliases.findAlias(this.snippetSettings.defaultLang);return t?t.langCodeAlias:null}},{key:"domAuditor",get:function(){return this.widget.c("DomAuditor")}},{key:"urlComponent",get:function(){return this.widget.c("Url")}}],n&&It(e.prototype,n),r&&It(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function Wt(t){return Wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wt(t)}function qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zt(r.key),r)}}function zt(t){var e=function(t,e){if("object"!=Wt(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wt(e)?e:e+""}var Gt=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"cancellationToken",get:function(){return this.instance().cancellationToken}},{key:"c",value:function(t){return this.instance().c(t)}},{key:"tag",get:function(){if(this.instance())return this.instance().tag}},{key:"instance",value:function(){return window.WOVN&&window.WOVN.io&&window.WOVN.io._private?window.WOVN.io._private.widget:null}},{key:"isBackend",value:function(){return this.instance().isBackend()}},{key:"getBackendDefaultLang",value:function(){return this.instance().getBackendDefaultLang()}},{key:"getBackendUrlPattern",value:function(){return this.instance().getBackendUrlPattern()}},{key:"isComponentLoaded",value:function(t){return!!this.instance()&&this.instance().isComponentLoaded(t)}},{key:"reinstallComponent",value:function(t){this.instance().reinstallComponent(t)}},{key:"getLocation",value:function(t){return this.instance().getLocation(t)}},{key:"getEncodedLocation",value:function(t){return this.instance().getEncodedLocation(t)}},{key:"destroy",value:function(){return this.instance().destroy()}},{key:"widgetGetOriginalUrl",value:function(){return this.instance().widgetGetOriginalUrl()}}])&&qt(t.prototype,e),n&&qt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Jt=new Gt;function $t(t){return $t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(t)}function Kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xt(r.key),r)}}function Xt(t){var e=function(t,e){if("object"!=$t(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$t(e)?e:e+""}var Zt=["alt","value","placeholder","data-confirm","data-disable-with","content","label","title"],Yt=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.node=e;this.nodeName=e.nodeName;this.data=e.data;this.ownerElement=e.ownerElement}return e=t,(n=[{key:"create",value:function(e){return new t(e)}},{key:"translationDataFallbackAttributeName",get:function(){return"data-wovn-translations:"+this.nodeName}},{key:"getUpperNodeName",value:function(){if(!this.nodeName)return null;var t=this.nodeName.charCodeAt(1);return 0==(t>=65&&t<=90)?this.nodeName.toUpperCase():this.nodeName}},{key:"replaceData",value:function(t,e){this.node.data=t;this.data=t;this.node.actualLang=e}},{key:"refreshData",value:function(){var t=this.node.data;t!==this.data&&(this.data=t)}},{key:"isValueNode",value:function(){return-1!==Zt.indexOf(this.nodeName)}},{key:"storeTranslationData",value:function(t){var e=this;this.node.wovnTranslation=t;if(t&&this.needTranslationDataFallbackAttribute()){var n=this.translationDataFallbackAttributeName;this.ownerElement.wovnMutationObservers=this.ownerElement.wovnMutationObserver||{};this.ownerElement.setAttribute(n,Z(t));this.ownerElement.wovnMutationObservers[this.nodeName]||(this.ownerElement.wovnMutationObservers[this.nodeName]=new MutationObserver(function(t,r){for(var o=0;o<t.length;++o){var i=t[o];if("attributes"===i.type&&i.attributeName===e.nodeName){r.disconnect();e.ownerElement.removeAttribute(n);delete e.ownerElement.wovnMutationObservers[e.nodeName]}}}));this.ownerElement.wovnMutationObservers[this.nodeName].observe(this.ownerElement,{attributes:!0})}}},{key:"readTranslationData",value:function(){var t=this.node.wovnTranslation;if(!t&&this.needTranslationDataFallbackAttribute()){var e=this.translationDataFallbackAttributeName,n=this.ownerElement.getAttribute(e);if(n){t=JSON.parse(n);this.node.wovnTranslation=t}}return t}},{key:"needTranslationDataFallbackAttribute",value:function(){return this.ownerElement&&(Jt.c("Agent").isSafari()||Jt.c("Agent").isMobile())}}])&&Kt(e.prototype,n),r&&Kt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}(),Qt=Yt,te={machineTranslatedModal:{css:"#wovn-machine-translated-modal .wovn-modal-background {\n  visibility: hidden;\n  opacity: 0;\n  z-index: 99999;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  text-align: center;\n  background: rgba(100, 110, 117, 0.9);\n  overflow-y: auto;\n  transition: opacity 300ms, background 300ms, visibility 300ms;\n  font-family: helvetica, arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif;\n  pointer-events: initial;\n}\n#wovn-machine-translated-modal .wovn-modal-background.opened {\n  display: block;\n  visibility: visible;\n  opacity: 1;\n  cursor: auto;\n}\n\n#wovn-machine-translated-modal .wovn-modal-background .wovn-modal-container {\n  position: relative;\n  display: inline-block;\n  margin: 200px 200px;\n  padding: 32px 32px 16px;\n  background: white;\n  border-radius: 3px;\n  transform: translateY(0); transition: transform 0ms;\n  box-shadow: 0 12px 12px 0 rgba(0, 0, 0, 0.24), 0 0 12px 0 rgba(0, 0, 0, 0.12);\n}\n@media (max-width: 600px) {\n  #wovn-machine-translated-modal .wovn-modal-background .wovn-modal-container {\n    margin: 24px 24px;\n  }\n}\n@media (min-width: 601px) and (max-width: 800px) {\n  #wovn-machine-translated-modal .wovn-modal-background .wovn-modal-container {\n    margin: 100px 100px;\n  }\n}\n#wovn-machine-translated-modal .wovn-modal-background .wovn-modal-content {\n  text-align: left;\n}\n#wovn-machine-translated-modal .wovn-modal-background .wovn-modal-content h3 {\n  font-size: 20px;\n  font-weight: normal;\n  color: #27313b;\n  margin-top: 0;\n}\n#wovn-machine-translated-modal .wovn-modal-background .wovn-modal-content p {\n  font-size: 14px;\n  color: #27313b;\n  margin-bottom: 32px;\n}\n#wovn-machine-translated-modal .wovn-modal-background .wovn-modal-footer {\n  background-color: #f6f8fa;\n  border-top: solid 1px #eef3f7;\n  margin: 0 -32px -16px -32px;\n  border-radius: 0 0 3px 3px;\n  padding: 16px 30px;\n  position: relative;\n  text-align: right;\n}\n#wovn-machine-translated-modal .wovn-modal-background button {\n  text-transform: uppercase;\n  box-sizing: border-box;\n  border-radius: 2px;\n  text-align: center;\n  font-weight: 600;\n  font-size: 12px;\n  width: 96px;\n  height: 32px;\n}\n#wovn-machine-translated-modal .wovn-modal-background button.wovn-modal-back-button {\n  border: solid 1px #eef3f7;\n  background-color: #ffffff;\n  text-align: center;\n  color: #82959f;\n}\n#wovn-machine-translated-modal .wovn-modal-background button.wovn-modal-ok-button {\n  border: none;\n\n  background-color: #545f66;\n  border: solid 1px #545f66;\n  text-align: center;\n  color: #ffffff;\n  cursor: pointer;\n}\n#wovn-machine-translated-modal .wovn-modal-background button.wovn-modal-ok-button:hover {\n  background-color: #6e7c89;\n  border: solid 1px #6e7c89;\n}\n",html:'<div class="wovn-modal-background"> <div class="wovn-modal-container"> <div class="wovn-modal-content"> <h3 class="wovn-modal-content-title"></h3> <p class="wovn-modal-content-body"></p> </div> <div class="wovn-modal-footer"> <button class="wovn-modal-ok-button">ok</button> </div> </div> </div> '},tenso:{css:"div#wovn-tenso-modal {\n  display: none;\n  z-index: 2147483646;\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  text-align: center;\n  background: rgba(84,95,102, 0.8);\n  overflow-y: auto;\n  font-family: helvetica, arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif;\n}\n.tenso-img {\n  display: inline-block;\n}\n.raku-ichiban-img {\n  display: none;\n}\n.raku-ichiban .tenso-img {\n  display: none;\n}\n.raku-ichiban .raku-ichiban-img {\n  display: inline-block;\n}\ndiv#wovn-tenso-modal.opened {\n  display: block;\n}\ndiv.wovn-tenso-dialog {\n  width: 652px;\n  height: 396px;\n  position: relative;\n  margin: 7% auto;\n  padding: 24px 25px 16px;\n  display: inline-block;\n  border-radius: 3px;\n  opacity: 1;\n  background-color: #ffffff;\n  box-shadow: 0 19px 38px 0 rgba(0, 0, 0, 0.3), 0 15px 12px 0 rgba(0, 0, 0, 0.22);\n}\ndiv.wovn-tenso-close {\n  position: absolute;\n  width: 32px;\n  top: 16px;\n  right: 0;\n  margin: 9px;\n  line-height: 14px;\n  font-size: 30px;\n  color: #bdc4c8;\n  cursor: pointer;\n}\ndiv.wovn-tenso-header {\n  text-align: center;\n}\ndiv.wovn-tenso-logo {\n  position: absolute;\n  top: 71px;\n  left: 69px;\n}\ndiv.wovn-tenso-title {\n  text-align: center;\n  color: #545f66;\n  font-size: 20px;\n  margin-top: 27px;\n  margin-bottom: 25px;\n  height: 30px;\n}\ndiv.wovn-tenso-lang-selector {\n  display: inline-block;\n  padding: 0 5px;\n}\ndiv.wovn-tenso-lang-selector:after {\n  content: '|';\n  color: #8f9aa0;\n  font-size: 16px;\n}\ndiv.wovn-tenso-lang-selector:last-child:after {\n  content: '';\n}\nspan.wovn-tenso-lang-selector-name {\n  font-size: 14px;\n  color: #469fd6;\n  cursor: pointer;\n}\nspan.wovn-tenso-lang-selector-name.active {\n  color: #545f66;\n}\ndiv.wovn-tenso-subtitle {\n  text-align: center;\n  font-size: 14px;\n  color: #8f9aa0;\n  margin-bottom: 16px;\n  height: 42px;\n}\ndiv.wovn-tenso-subtitle span {\n  display: block;\n}\ndiv.wovn-tenso-steps {\n  height: 170px;\n  position: relative;\n}\ndiv.wovn-tenso-step {\n  text-align:center;\n  display:inline-block;\n  vertical-align: bottom;\n  width: 160px;\n  height: 140px;\n  margin: 5px 17px;\n  border-radius: 3px;\n  background-color: #ffffff;\n  border: solid 1px #e6e6e6;\n}\ndiv.wovn-tenso-step-content {\n  padding: 5px 10px;\n}\ndiv.wovn-tenso-step-title {\n  padding: 15px 0;\n  font-size: 20px;\n  color: #ff4d09;\n}\n.raku-ichiban div.wovn-tenso-step-title {\n  color: #ab263b;\n}\ndiv.wovn-tenso-step-text {\n  font-size: 14px;\n  color: #545f66;\n}\ndiv.wovn-tenso-step-separator {\n  display: inline-block;\n  color: #ff4d09;\n  position: relative;\n  margin-bottom: 70px;\n}\n.raku-ichiban div.wovn-tenso-step-separator {\n  color: #ab263b;\n}\ndiv.wovn-tenso-footer-border {\n  border-top: 1px solid rgba(0,0,0, 0.12);\n  margin: 2px -25px 0 -25px;\n}\ndiv.wovn-tenso-footer {\n}\ndiv.wovn-tenso-footer-buttons {\n  margin-top: 16px;\n}\ndiv.wovn-tenso-cancel-button {\n  display: inline-block;\n  font-size: 12px;\n  padding: 12px 30px;\n  color: #545f66;\n}\ndiv.wovn-tenso-cancel-button:hover {\n  cursor: pointer;\n}\ndiv.wovn-tenso-ok-button {\n  display: inline-block;\n  font-size: 12px;\n  padding: 12px 30px;\n  color: #ffffff;\n  background-color: #FF4D09;\n  border-radius: 3px;\n}\n.raku-ichiban div.wovn-tenso-ok-button {\n  background-color: #ab263b;\n}\ndiv.wovn-tenso-ok-button:hover {\n  background-color: #FF703A;\n}\n.raku-ichiban div.wovn-tenso-ok-button:hover {\n  background-color: #C55062;\n}\ndiv.wovn-tenso-ok-button:active {\n  background-color: #E54508;\n}\n@media(max-width: 600px) {\n  div.wovn-tenso-step-separator {\n    display:none;\n  }\n  div.wovn-tenso-logo {\n    position: relative;\n    padding-top: 20px;\n    top: initial;\n    left: initial;\n  }\n  div.wovn-tenso-dialog {\n    width: 80%;\n    height: 472px;\n  }\n  div.wovn-tenso-step {\n    width: 100%;\n    height: 61px;\n    margin: 5px auto;\n  }\n  div.wovn-tenso-step-title {\n    margin-top: 5px;\n    padding: 0;\n    font-size: 16px;\n    color: #ff4d09;\n  }\n  div.wovn-tenso-step-text {\n    margin-top: -5px;\n    padding: 8px 0 16px 0;\n    font-size: 11px;\n  }\n  div.wovn-tenso-footer-border {\n    margin: 62px -25px 0 -25px;\n  }\n  div.wovn-tenso-title {\n    margin: 20px 0 0 0;\n    font-size: 16px;\n  }\n  div.wovn-tenso-subtitle {\n    font-size: 12px;\n  }\n  div.wovn-tenso-footer-buttons {\n    margin: 16px 0;\n  }\n}\n@media(max-width: 320px) {\n  div.wovn-tenso-dialog {\n    width: 85%;;\n    height: 478px;\n    padding: 24px 16px 16px;\n  }\n  div.wovn-tenso-subtitle {\n    margin-bottom: 22px;\n  }\n}\n\n/* BANNER */\nbody[wovn-tenso-banner-on] {\n  padding-top: 60px;\n}\ndiv#wovn-tenso-banner {\n  display: none;\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 60px;\n  color: #3991c9;\n  background-color: #b7e2fd;\n  font-family: helvetica, arial, 'hiragino kaku gothic pro', meiryo, 'ms pgothic', sans-serif;\n  text-align: center;\n  box-shadow: 0 -1px 3px 0 rgba(0, 0, 0, 0);\n}\ndiv#wovn-tenso-banner.raku-ichiban {\n  color: white;\n  background-color: #ab263b;\n}\ndiv#wovn-tenso-banner.opened {\n  display: block;\n}\na.wovn-tenso-banner-content {\n  display: block;\n  width: 100%;\n  height: 100%;\n  text-decoration: none;\n}\ndiv.wovn-tenso-banner-logo {\n  display: inline-block;\n  top: 14px;\n  position: relative;\n}\n.raku-ichiban div.wovn-tenso-banner-logo {\n  top: 12px;\n  width: 72px;\n  height: 33.9px;\n}\ndiv.wovn-tenso-banner-text {\n  display: inline-block;\n  font-size: 14px;\n  top: 7px;\n  position: relative;\n  padding-left: 10px;\n}\n.raku-ichiban div.wovn-tenso-banner-text {\n  color: #ffffff;\n}\ndiv.wovn-tenso-banner-link {\n  display: inline-block;\n  color: #f95c29;\n  font-size: 16px;\n  top: 7px;\n  position: relative;\n  padding-left: 10px;\n}\n\n.raku-ichiban div.wovn-tenso-banner-link {\n  color: #ffffff;\n}\n\n@media (max-width: 440px) {\n  a.wovn-tenso-banner-content {\n    text-decoration: none;\n  }\n  div.wovn-tenso-banner-logo, .raku-ichiban div.wovn-tenso-banner-logo {\n    display: block;\n    top:9px;\n  }\n  .raku-ichiban div.wovn-tenso-banner-logo {\n    width: auto;\n  }\n  div.wovn-tenso-banner-logo img {\n    width: 90px;\n  }\n  .raku-ichiban div.wovn-tenso-banner-logo img {\n    width: 70px;\n  }\n  div.wovn-tenso-banner-text {\n    top: 8px;\n    font-size: 10px;\n  }\n  div.wovn-tenso-banner-link {\n    top: 8px;\n    padding-left: 0;\n    font-size: 12px;\n  }\n}\n",bannerHtml:'<a class="wovn-tenso-banner-content" target="_blank"> <div class="wovn-tenso-banner-logo"> <div> <img src="//wovn.io/assets/tenso_logo_banner.png" class="tenso-img" alt="Tenso"> <img src="//wovn.io/assets/raku_ichiban_logo_white.png" class="raku-ichiban-img" alt="Tenso"> </div> </div> <div class="wovn-tenso-banner-text"></div> <div class="wovn-tenso-banner-link"></div> </a> ',modalHtml:'<div class="wovn-tenso-dialog"> <div class="wovn-tenso-content"> <div class="wovn-tenso-close">&times;</div> <div class="wovn-tenso-header"></div> <div class="wovn-tenso-logo"> <div> <img src="//wovn.io/assets/tenso_logo_modal.png" class="tenso-img" alt="Tenso"> <img src="//wovn.io/assets/raku_ichiban_logo_color.png" class="raku-ichiban-img" alt="Tenso"> </div> </div> <div class="wovn-tenso-title"> <span></span> </div> <div class="wovn-tenso-subtitle"> <span></span> <span></span> </div> <div class="wovn-tenso-steps"> <div class="wovn-tenso-step"> <div class="wovn-tenso-step-content"> <div class="wovn-tenso-step-title">STEP 1</div> <div class="wovn-tenso-step-text"></div> </div> </div> <div class="wovn-tenso-step-separator"> <div> <img src="//wovn.io/assets/tenso_next_step.png" class="tenso-img" alt=">"> <img src="//wovn.io/assets/raku_ichiban_next_step.png" class="raku-ichiban-img" alt=">"> </div> </div> <div class="wovn-tenso-step"> <div class="wovn-tenso-step-content"> <div class="wovn-tenso-step-title">STEP 2</div> <div class="wovn-tenso-step-text"></div> </div> </div> <div class="wovn-tenso-step-separator"> <div> <img src="//wovn.io/assets/tenso_next_step.png" class="tenso-img" alt=">"> <img src="//wovn.io/assets/raku_ichiban_next_step.png" class="raku-ichiban-img" alt=">"> </div> </div> <div class="wovn-tenso-step"> <div class="wovn-tenso-step-content"> <div class="wovn-tenso-step-title">STEP 3</div> <div class="wovn-tenso-step-text"></div> </div> </div> </div> <div class="wovn-tenso-footer-border"></div> <div class="wovn-tenso-footer"> <div class="wovn-tenso-footer-buttons"> <div class="wovn-tenso-cancel-button"></div> <a target="_blank"><div class="wovn-tenso-ok-button"></div></a> </div> </div> </div> </div> '},languageSelector:{standardHtml:'<div class="wovn-lang-container"> <ul class="wovn-lang-list"></ul> <a class="wovn-logo wovn-logo--big" class="wovn-logo-big" href="http://wovn.io" target="_blank" aria-label="WOVN.io | Make your website multilingual"> <svg style="max-height:10px;max-width:61px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 396.36 64.73"><circle class="color-dot" cx="322.58" cy="53.99" r="10"/><path class="color-letter" id="letter-small-i" d="M343.84,30.31h9.42a1.16,1.16,0,0,1,1.18,1.18V61.79A1.16,1.16,0,0,1,353.26,63h-9.42a1.16,1.16,0,0,1-1.18-1.18V31.48C342.52,30.89,343.11,30.31,343.84,30.31Z"/><path id="letter-small-o" class="color-letter" d="M379,29.28a17.36,17.36,0,1,0,17.36,17.36A17.39,17.39,0,0,0,379,29.28Zm0,24.57a7.21,7.21,0,1,1,7.21-7.21A7.22,7.22,0,0,1,379,53.84Z"/><path id="letter-big-W" class="color-letter" d="M93.48,1.18H78.18a2,2,0,0,0-1.91,1.47L66.7,34.42,56.11,2.35A2.06,2.06,0,0,0,54.34,1H41.4a1.9,1.9,0,0,0-1.77,1.32L29,34.42,19.48,2.65a2,2,0,0,0-1.91-1.47H1.68a1.54,1.54,0,0,0-1.32.74A1.81,1.81,0,0,0,.06,3.38L19.77,62.67A2.06,2.06,0,0,0,21.54,64H34.63a1.85,1.85,0,0,0,1.77-1.32L47.58,30.6,58.76,62.67A2.06,2.06,0,0,0,60.52,64H73.61a1.9,1.9,0,0,0,1.77-1.32L95.09,3.38a1.4,1.4,0,0,0-.29-1.47A1.54,1.54,0,0,0,93.48,1.18Z"/><path id="letter-big-O" class="color-letter" d="M132,0C113.19,0,98.48,14.27,98.48,32.51s14.71,32.22,33.39,32.22,33.54-14.27,33.54-32.51S150.7,0,132,0Zm14.56,32.51C146.58,41.34,140.26,48,132,48s-14.71-6.77-14.71-15.74,6.18-15.45,14.56-15.45S146.58,23.54,146.58,32.51Z"/><path id="letter-big-V" class="color-letter" d="M232.06,1.18H215.73a2.09,2.09,0,0,0-1.91,1.32L201,38,188.22,2.5a2.09,2.09,0,0,0-1.91-1.32H169.53a1.54,1.54,0,0,0-1.32.74,1.58,1.58,0,0,0-.15,1.62L191.9,62.82A1.91,1.91,0,0,0,193.66,64h14.12a1.91,1.91,0,0,0,1.77-1.18L233.38,3.53a1.74,1.74,0,0,0-.15-1.47C233,1.44,232.65,1.18,232.06,1.18Z"/><path id="letter-big-N" class="color-letter" d="M301.05,1.18h-15.3a1.47,1.47,0,0,0-1.47,1.47V32.37L261,1.91a1.81,1.81,0,0,0-1.47-.74H245a1.47,1.47,0,0,0-1.47,1.47V62.52A1.47,1.47,0,0,0,245,64h15.45a1.47,1.47,0,0,0,1.47-1.47V31.63L286,63.26a1.81,1.81,0,0,0,1.47.74h13.53a1.47,1.47,0,0,0,1.47-1.47V2.65A1.47,1.47,0,0,0,301.05,1.18Z"/></svg> </a> </div> <div class="wovn-lang-selector"> <div class="wovn-lang-selector-links"> <svg id="wovn-logo-planet" style="max-width:20px;max-height:20px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M14.2588,19.6699 C15.1168,18.6319 15.8108,17.4539 16.2858,16.1669 L18.8168,16.1669 C17.7908,17.8369 16.1768,19.1039 14.2588,19.6699 Z M5.1838,16.1669 L7.7138,16.1669 C8.1898,17.4539 8.8828,18.6319 9.7408,19.6699 C7.8228,19.1039 6.2088,17.8369 5.1838,16.1669 Z M9.7408,4.3299 C8.8458,5.4119 8.1388,6.6489 7.6618,7.9999 L5.0818,7.9999 C6.0998,6.2469 7.7598,4.9149 9.7408,4.3299 Z M18.9178,7.9999 L16.3378,7.9999 C15.8618,6.6489 15.1548,5.4119 14.2588,4.3299 C16.2398,4.9149 17.9008,6.2469 18.9178,7.9999 Z M16.8488,9.9999 L19.7368,9.9999 C19.9028,10.6409 19.9998,11.3089 19.9998,11.9999 C19.9998,12.7519 19.8888,13.4769 19.6938,14.1669 L16.8178,14.1669 C16.9468,13.4619 17.0348,12.7429 17.0348,11.9999 C17.0348,11.3159 16.9578,10.6519 16.8488,9.9999 Z M14.1938,7.9999 L9.8068,7.9999 C10.3238,6.8139 11.0648,5.7249 11.9998,4.8069 C12.9358,5.7249 13.6758,6.8139 14.1938,7.9999 Z M3.9998,11.9999 C3.9998,11.3089 4.0978,10.6409 4.2638,9.9999 L7.1518,9.9999 C7.0418,10.6519 6.9648,11.3159 6.9648,11.9999 C6.9648,12.7429 7.0538,13.4619 7.1828,14.1669 L4.3068,14.1669 C4.1118,13.4769 3.9998,12.7519 3.9998,11.9999 Z M9.2108,14.1669 C9.0538,13.4599 8.9648,12.7349 8.9648,11.9999 C8.9648,11.3229 9.0348,10.6529 9.1688,9.9999 L14.8308,9.9999 C14.9648,10.6529 15.0348,11.3229 15.0348,11.9999 C15.0348,12.7349 14.9458,13.4599 14.7888,14.1669 L9.2108,14.1669 Z M9.8868,16.1669 L14.1128,16.1669 C13.5998,17.2879 12.8918,18.3189 11.9998,19.1929 C11.1088,18.3189 10.4008,17.2879 9.8868,16.1669 Z M1.9998,11.9999 C1.9998,17.5229 6.4778,21.9999 11.9998,21.9999 C17.5228,21.9999 21.9998,17.5229 21.9998,11.9999 C21.9998,6.4769 17.5228,1.9999 11.9998,1.9999 C6.4778,1.9999 1.9998,6.4769 1.9998,11.9999 Z"></path></svg> <span class="wovn-current-lang">Loading...</span> <a class="wovn-logo wovn-logo--small" href="http://wovn.io" target="_blank" aria-label="WOVN.io | Make your website multilingual"> <svg style="max-width:21px;max-height:10px" id="wovn-logo--floating" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 66.96 39.35"><circle class="color-dot" cx="60.71" cy="33.1" r="6.25"/><path class="color-letter" d="M58.42.09H48.86a1.27,1.27,0,0,0-1.2.92l-6,19.86L35.06.83A1.29,1.29,0,0,0,34,0H25.87a1.19,1.19,0,0,0-1.1.83l-6.62,20L12.17,1A1.27,1.27,0,0,0,11,.09H1A1,1,0,0,0,.22.55,1.13,1.13,0,0,0,0,1.47L12.36,38.52a1.29,1.29,0,0,0,1.1.83h8.18a1.16,1.16,0,0,0,1.1-.83l7-20,7,20a1.29,1.29,0,0,0,1.1.83H46a1.19,1.19,0,0,0,1.1-.83L59.43,1.47a.88.88,0,0,0-.18-.92A1,1,0,0,0,58.42.09Z"/></svg> <svg style="max-width:56px;max-height:8px" id="wovn-logo--default" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 396.36 64.73"><circle class="color-dot" cx="322.58" cy="53.99" r="10"/><path class="color-letter" id="letter-small-i" d="M343.84,30.31h9.42a1.16,1.16,0,0,1,1.18,1.18V61.79A1.16,1.16,0,0,1,353.26,63h-9.42a1.16,1.16,0,0,1-1.18-1.18V31.48C342.52,30.89,343.11,30.31,343.84,30.31Z"/><path id="letter-small-o" class="color-letter" d="M379,29.28a17.36,17.36,0,1,0,17.36,17.36A17.39,17.39,0,0,0,379,29.28Zm0,24.57a7.21,7.21,0,1,1,7.21-7.21A7.22,7.22,0,0,1,379,53.84Z"/><path id="letter-big-W" class="color-letter" d="M93.48,1.18H78.18a2,2,0,0,0-1.91,1.47L66.7,34.42,56.11,2.35A2.06,2.06,0,0,0,54.34,1H41.4a1.9,1.9,0,0,0-1.77,1.32L29,34.42,19.48,2.65a2,2,0,0,0-1.91-1.47H1.68a1.54,1.54,0,0,0-1.32.74A1.81,1.81,0,0,0,.06,3.38L19.77,62.67A2.06,2.06,0,0,0,21.54,64H34.63a1.85,1.85,0,0,0,1.77-1.32L47.58,30.6,58.76,62.67A2.06,2.06,0,0,0,60.52,64H73.61a1.9,1.9,0,0,0,1.77-1.32L95.09,3.38a1.4,1.4,0,0,0-.29-1.47A1.54,1.54,0,0,0,93.48,1.18Z"/><path id="letter-big-O" class="color-letter" d="M132,0C113.19,0,98.48,14.27,98.48,32.51s14.71,32.22,33.39,32.22,33.54-14.27,33.54-32.51S150.7,0,132,0Zm14.56,32.51C146.58,41.34,140.26,48,132,48s-14.71-6.77-14.71-15.74,6.18-15.45,14.56-15.45S146.58,23.54,146.58,32.51Z"/><path id="letter-big-V" class="color-letter" d="M232.06,1.18H215.73a2.09,2.09,0,0,0-1.91,1.32L201,38,188.22,2.5a2.09,2.09,0,0,0-1.91-1.32H169.53a1.54,1.54,0,0,0-1.32.74,1.58,1.58,0,0,0-.15,1.62L191.9,62.82A1.91,1.91,0,0,0,193.66,64h14.12a1.91,1.91,0,0,0,1.77-1.18L233.38,3.53a1.74,1.74,0,0,0-.15-1.47C233,1.44,232.65,1.18,232.06,1.18Z"/><path id="letter-big-N" class="color-letter" d="M301.05,1.18h-15.3a1.47,1.47,0,0,0-1.47,1.47V32.37L261,1.91a1.81,1.81,0,0,0-1.47-.74H245a1.47,1.47,0,0,0-1.47,1.47V62.52A1.47,1.47,0,0,0,245,64h15.45a1.47,1.47,0,0,0,1.47-1.47V31.63L286,63.26a1.81,1.81,0,0,0,1.47.74h13.53a1.47,1.47,0,0,0,1.47-1.47V2.65A1.47,1.47,0,0,0,301.05,1.18Z"/></svg> </a> </div> <span id="translated-by-machine">Translated by AI</span> </div> '},liveEditLoadingOverlay:{html:'<div class="wovn-live-edit-loading" wovn-ignore wovn> <div class="wovn-live-edit-loading-logo-container"> <div class="wovn-live-edit-loading-spinner"></div> <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="19" height="12" viewBox="0 0 19 12"> <defs> <path id="a" d="M.14.153h3.848V4H.141z"/> <path id="c" d="M0 .195h16.854V12H0z"/> </defs> <g fill="none" fill-rule="evenodd"> <g transform="translate(15 8)"> <mask id="b" fill="#fff"> <use xlink:href="#a"/> </mask> <path fill="#38B171" d="M2.065.153a1.924 1.924 0 1 1 0 3.847 1.924 1.924 0 0 1 0-3.847" mask="url(#b)"/> </g> <g> <mask id="d" fill="#fff"> <use xlink:href="#c"/> </mask> <path fill="#FFF" d="M16.552.223h-2.71c-.156 0-.286.11-.338.275L11.81 6.456 9.935.443C9.883.305 9.753.195 9.623.195H7.33c-.156 0-.26.11-.312.248L5.142 6.456 3.449.498C3.397.333 3.266.223 3.11.223H.297A.271.271 0 0 0 .062.36C.01.443-.016.554.01.636L3.5 11.752c.053.138.183.248.313.248h2.319c.13 0 .26-.083.312-.248l1.98-6.013 1.98 6.013c.052.138.182.248.312.248h2.319c.156 0 .26-.11.312-.248L16.838.636c.026-.082.026-.193-.052-.276a.27.27 0 0 0-.234-.137" mask="url(#d)"/> </g> </g> </svg> </div> <div class="wovn-live-edit-loading-text">Loading...</div> </div> <style>@-moz-keyframes spin{from{-moz-transform:rotate(0)}to{-moz-transform:rotate(360deg)}}@-webkit-keyframes spin{from{-webkit-transform:rotate(0)}to{-webkit-transform:rotate(360deg)}}@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}.wovn-live-edit-loading[wovn]{position:fixed;top:0;left:0;z-index:2147483646;width:100%;height:100%;background-color:rgba(0,0,0,.8);font-family:-apple-system,system-ui,BlinkMacSystemFont,"Segoe UI",Roboto,Ubuntu,sans-serif;display:flex;flex-direction:column;justify-content:center;align-items:center;opacity:1;-webkit-transition:opacity .5s;-moz-transition:opacity .5s;transition:opacity .5s}.wovn-live-edit-loading--fading[wovn]{opacity:0}.wovn-live-edit-loading[wovn] .wovn-live-edit-loading-logo-container{display:flex;align-items:center;justify-content:center}.wovn-live-edit-loading[wovn] .wovn-live-edit-loading-logo-container svg{position:absolute}.wovn-live-edit-loading[wovn] .wovn-live-edit-loading-spinner{animation:spin 1s linear infinite;height:68px;width:68px}.wovn-live-edit-loading[wovn] .wovn-live-edit-loading-spinner::before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:conic-gradient(transparent,#fff);border-radius:50%;mask:radial-gradient(farthest-side,transparent calc(100% - 4px),#fff 0);-webkit-mask:radial-gradient(farthest-side,transparent calc(100% - 4px),#fff 0)}.wovn-live-edit-loading[wovn] .wovn-live-edit-loading-logo-container svg{width:19px;height:12px}.wovn-live-edit-loading[wovn] .wovn-live-edit-loading-text{margin:16px;font-size:16px;color:#fff}</style> '}};function ee(t){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee(t)}function ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,re(r.key),r)}}function re(t){var e=function(t,e){if("object"!=ee(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ee(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ee(e)?e:e+""}var oe=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.element=null;this.domInsertStrategy=e},(e=[{key:"appendToDom",value:function(t){this.element||(this.element=this.buildHtmlElement());document.body.contains(this.element)||this.domInsertStrategy(this.element,t);return this.element}}])&&ne(t.prototype,e),n&&ne(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function ie(t){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ie(t)}function ae(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ue(r.key),r)}}function ue(t){var e=function(t,e){if("object"!=ie(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ie(e)?e:e+""}function se(t,e,n){return e=ce(e),function(t,e){if(e&&("object"==ie(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,le()?Reflect.construct(e,n||[],ce(t).constructor):e.apply(t,n))}function le(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(le=function(){return!!t})()}function ce(t){return ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ce(t)}function fe(t,e){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},fe(t,e)}var pe=function(t){function e(t,n,r,o,i){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(a=se(this,e,[r])).languageService=t;a.widgetInit=n;a.liveEditorSettings=o;a.widgetSessionManager=i;a.loadingOverlayElement=null;return a}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fe(t,e)}(e,t);return n=e,(r=[{key:"buildHtmlElement",value:function(){var t=this,e=document.createElement("span");e.className="wovn-additional-button wovn-live-edit-button";e.setAttribute("wovn","");e.setAttribute("wovn-ignore","");e.onclick=function(){t.widgetSessionManager.createSession().then(function(e){if(e.body.error){console.log("WOVN: you are not logged in.");window.location.reload()}else{t.startLoading();var n=t.languageService.getActualLang();t.liveEditorSettings.updateBrowserUrlState(e.body.token,n,"","2");t.widgetInit.start(function(){return t.stopLoading()})}})};e.innerText="Live Editor";return e}},{key:"startLoading",value:function(){if(!this.loadingOverlayElement){this.loadingOverlayElement=document.createElement("DIV");this.loadingOverlayElement.innerHTML=te.liveEditLoadingOverlay.html;document.body.appendChild(this.loadingOverlayElement)}}},{key:"stopLoading",value:function(){var t=this;if(this.loadingOverlayElement){this.loadingOverlayElement.querySelector(".wovn-live-edit-loading").className+=" wovn-live-edit-loading--fading";setTimeout(function(){document.body.removeChild(t.loadingOverlayElement);t.loadingOverlayElement=null},600)}}}])&&ae(n.prototype,r),o&&ae(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(oe),de='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 3C0 1.34315 1.34315 0 3 0H32V32H3C1.34315 32 0 30.6569 0 29V3Z" fill="#27313B"/><path d="M23.088 11.0286H20.4549C20.2995 11.0286 20.1676 11.1336 20.1252 11.2863L18.4766 16.8317L16.6537 11.2338C16.6066 11.1002 16.4889 11.0095 16.3476 11H14.1196C13.9783 11.0048 13.8559 11.0954 13.8135 11.2291L11.9859 16.8364L10.3467 11.2911C10.3043 11.1384 10.1724 11.0382 10.017 11.0334H7.28505C7.19084 11.0334 7.10606 11.0811 7.05895 11.1623C7.00714 11.2338 6.9883 11.3293 7.00714 11.4152L10.3985 21.7662C10.4456 21.895 10.5634 21.9857 10.7047 22H12.9562C13.0975 22 13.22 21.9046 13.2624 21.7709L15.1841 16.1683L17.1059 21.7662C17.153 21.895 17.2708 21.9857 17.4074 22H19.6589C19.8002 21.9952 19.9227 21.9046 19.9651 21.7709L23.3564 11.4152C23.3894 11.3293 23.3706 11.2291 23.3046 11.1575C23.2669 11.0764 23.1822 11.0286 23.088 11.0286Z" fill="white"/><path d="M23.9017 22.0001C24.8538 22.0001 25.6256 21.2181 25.6256 20.2535C25.6256 19.2888 24.8538 18.5068 23.9017 18.5068C22.9496 18.5068 22.1777 19.2888 22.1777 20.2535C22.1777 21.2181 22.9496 22.0001 23.9017 22.0001Z" fill="#42B87C"/></svg>',he='<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0H29C30.6569 0 32 1.34315 32 3V29C32 30.6569 30.6569 32 29 32H0V0Z" fill="#27313B"/><path d="M23.088 11.0286H20.4549C20.2995 11.0286 20.1676 11.1336 20.1252 11.2863L18.4766 16.8317L16.6537 11.2338C16.6066 11.1002 16.4889 11.0095 16.3476 11H14.1196C13.9783 11.0048 13.8559 11.0954 13.8135 11.2291L11.9859 16.8364L10.3467 11.2911C10.3043 11.1384 10.1724 11.0382 10.017 11.0334H7.28505C7.19084 11.0334 7.10606 11.0811 7.05895 11.1623C7.00714 11.2338 6.9883 11.3293 7.00714 11.4152L10.3985 21.7662C10.4456 21.895 10.5634 21.9857 10.7047 22H12.9562C13.0975 22 13.22 21.9046 13.2624 21.7709L15.1841 16.1683L17.1059 21.7662C17.153 21.895 17.2708 21.9857 17.4074 22H19.6589C19.8002 21.9952 19.9227 21.9046 19.9651 21.7709L23.3564 11.4152C23.3894 11.3293 23.3706 11.2291 23.3046 11.1575C23.2669 11.0764 23.1822 11.0286 23.088 11.0286Z" fill="white"/><path d="M23.9036 22C24.8558 22 25.6276 21.218 25.6276 20.2534C25.6276 19.2887 24.8558 18.5067 23.9036 18.5067C22.9515 18.5067 22.1797 19.2887 22.1797 20.2534C22.1797 21.218 22.9515 22 23.9036 22Z" fill="#42B87C"/></svg>',ye='<svg id="wovn-button-refresh" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path transform="translate(1.000000, 3.000000)" d="M11.5596442,-1.77635684e-15 C14.3729765,-1.77635684e-15 16.973443,1.30057614 18.6675644,3.47875724 C19.006632,3.91470632 18.9280941,4.54298149 18.492145,4.8820491 C18.0561959,5.22111671 17.4279208,5.14257876 17.0888532,4.70662968 C15.7696978,3.01055335 13.7491239,2 11.5596442,2 C8.32859268,2 5.60883275,4.18909956 4.80261311,7.16505 L7.90150672,7.65654 L3.16858104,11.9692438 L0,6.40506427 L2.8178087,6.85102414 C3.78132973,2.91810662 7.32970681,-1.77635684e-15 11.5596442,-1.77635684e-15 Z M18.8886268,7 L22.0572079,12.5641796 L19.1709644,12.1075645 C18.0524067,15.8055842 14.6181809,18.4980039 10.5551068,18.4980039 C7.58369272,18.4980039 4.85484992,17.0463604 3.18127721,14.6592981 C2.86422851,14.207083 2.97380259,13.5834714 3.42601776,13.2664227 C3.87823294,12.949374 4.50184453,13.058948 4.81889323,13.5111632 C6.12199353,15.3698106 8.24280494,16.4980039 10.5551068,16.4980039 C13.6182709,16.4980039 16.2218971,14.5304878 17.1711605,11.7902804 L14.1557011,11.3127038 L18.8886268,7 Z"></path></svg>',ge='<svg id="wovn-button-check" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M16.875017,9.69938082 L9.94401704,16.6303808 C9.74701704,16.8273808 9.42601704,16.8263808 9.22901704,16.6303808 L6.29901704,13.6993808 C5.90501704,13.3053808 5.89701704,12.6763808 6.29501704,12.2793808 C6.67001704,11.9043808 7.30301704,11.9033808 7.69501704,12.2963808 L9.58701704,14.1873808 L15.478017,8.29638082 C15.870017,7.90438082 16.498017,7.89838082 16.895017,8.29538082 C17.270017,8.67038082 17.264017,9.30938082 16.875017,9.69938082"></path></svg>';function ve(t){return"function"==typeof t.getAttribute}function me(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function be(t,e){Se(t,e)||(t.className=0==t.className.length?e:t.className+" "+e)}function we(t,e){var n=l(e),r=new RegExp("(^| )"+n+"( |$)","g"),o=t.className.replace(r," ").replace(/\s+/g," ");t.className=l(o)}function Se(t,e){return ke([l(e)]).test(t.className)}function ke(t){var e=t.map(function(t){return"(^| )".concat(t,"( |$)")}).join("|");return new RegExp(e)}function Te(t,e){var n=document.createElement("style");e&&(n.id=e);n.textContent=t;return n}function Ce(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;try{return lt.toArrayFromDomList(e.querySelectorAll(t))}catch(t){return[]}}function Oe(t){return t&&t.nodeType==Node.ELEMENT_NODE}function Ee(t){return t&&t.nodeType==Node.TEXT_NODE}function Pe(t,e){return t.hasAttribute(e)||t.hasAttribute("data-"+e)}function _e(t,e){for(var n=0;n<t.length;n++){t[n].removeAttribute(e);t[n].removeAttribute("data-"+e)}}function Ae(t){for(var e=t.previousSibling,n=0;e;){e.nodeName===t.nodeName&&n++;e=e.previousSibling}return n}function xe(t){for(;t=t.nextSibling;)if(Oe(t))return t;return null}function je(t){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},je(t)}function Le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ie(r.key),r)}}function Ie(t){var e=function(t,e){if("object"!=je(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=je(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==je(e)?e:e+""}var De="wovn-additional-buttons";function Ne(){return document.getElementById(De)}var Re=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"setWidgetStyle",value:function(t,e){this.widgetStyle=t;this.isEmbeddedWidget=e;return this}},{key:"buildDomInsertStrategy",value:function(){var t=this;return function(e,n){var r=t.getOrCreateButtonsContainer(n);r.insertBefore(e,r.firstChild);r.style.cssText=t.buildContainerContentDependentStyles(r.style.cssText,r.clientHeight,n);t.isStandardWidgetVisible(n)?t.isTopPositionStandardWidget(n)?n.appendChild(r):n.insertBefore(r,n.firstChild):document.body.appendChild(r)}}},{key:"isStandardWidgetVisible",value:function(t){return!!t&&Se(t,"wovn-is-visible")&&!this.isEmbeddedWidget}},{key:"isTopPositionStandardWidget",value:function(t){return!!t&&Se(t,"wovn--position-top")}},{key:"isLeftPositionStandardWidget",value:function(t){return!!t&&Se(t,"wovn--position-left")}},{key:"getOrCreateButtonsContainer",value:function(t){var e=Ne();if(!e){(e=document.createElement("div")).id=De;e.className="wovn-additional-buttons";e.setAttribute("wovn","");e.style.cssText=this.buildContainerContentIndependentStyles(t);if(this.isStandardWidgetVisible(t)&&this.isLeftPositionStandardWidget(t)){e.innerHTML=he;e.children[0].style.cssText="position: absolute; right: -32px; top: 0; width: 32px; height: 32px;"}else{e.innerHTML=de;e.children[0].style.cssText="position: absolute; left: -32px; top: 0; width: 32px; height: 32px;"}}return e}},{key:"buildContainerContentIndependentStyles",value:function(t){var e="box-sizing: border-box; display: block; background-color: #3D454B; width: 144px;";if(this.isStandardWidgetVisible(t)){e+="position: relative;";switch(this.widgetStyle.type){case"default":case"slate":e+=this.isLeftPositionStandardWidget(t)?"margin: 24px auto 24px 24px;":"margin: 24px 24px 24px auto;";break;case"floating":e+=this.isLeftPositionStandardWidget(t)?"margin: 24px ".concat(32,"px 24px 0;"):"margin: 24px 0 24px ".concat(32,"px;")}}else e+="position: fixed; right: 24px; bottom: 32px; z-index: 2147483646;";return e}},{key:"buildContainerContentDependentStyles",value:function(t,e,n){var r;r=e>32?this.isStandardWidgetVisible(n)?"border-radius: ".concat(this.isLeftPositionStandardWidget(n)?"3px 0px 3px 3px":"0px 3px 3px 3px",";"):"border-radius: 0px 3px 3px 3px;":this.isStandardWidgetVisible(n)?"border-radius: ".concat(this.isLeftPositionStandardWidget(n)?"3px 0px 0px 3px":"0px 3px 3px 0px",";"):"border-radius: 0px 3px 3px 0px;";return t=t.indexOf("border-radius")>-1?t.replace(/border-radius: \dpx \dpx \dpx \dpx;/,r):t+=r}}])&&Le(t.prototype,e),n&&Le(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Ue(t){return Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ue(t)}function Ve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,He(r.key),r)}}function He(t){var e=function(t,e){if("object"!=Ue(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ue(e)?e:e+""}function Me(t,e,n){return e=Fe(e),function(t,e){if(e&&("object"==Ue(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Be()?Reflect.construct(e,n||[],Fe(t).constructor):e.apply(t,n))}function Be(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Be=function(){return!!t})()}function Fe(t){return Fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Fe(t)}function We(t,e){return We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},We(t,e)}var qe=function(t){function e(t,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(o=Me(this,e)).languageService=t;o.liveEditorSettings=n;o.widgetSessionManager=r;return o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&We(t,e)}(e,t);return n=e,r=[{key:"build",value:function(t){var e=[this.languageService,t,this.buildDomInsertStrategy(),this.liveEditorSettings,this.widgetSessionManager],n=[];n.push(function(t,e,n){if(Be())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&We(o,n.prototype),o}(pe,e));return n}}],r&&Ve(n.prototype,r),o&&Ve(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Re);function ze(t){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ze(t)}function Ge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$e(r.key),r)}}function Je(t,e,n){return(e=$e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $e(t){var e=function(t,e){if("object"!=ze(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ze(e)?e:e+""}var Ke=function(t){t["AUDIT_STARTED"]="wovnAuditStarted";t["AUDIT_COMPLETED"]="wovnAuditCompleted";return t}({}),Xe=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Je(this,"auditStartedCallbacks",[]);Je(this,"auditCompletedCallbacks",[])},(e=[{key:"subscribe",value:function(t,e){if(t){this.auditStartedCallbacks.push(t);addEventListener(Ke.AUDIT_STARTED,t)}if(e){this.auditCompletedCallbacks.push(e);addEventListener(Ke.AUDIT_COMPLETED,e)}}},{key:"triggerAuditStarted",value:function(t){this.auditStartedCallbacks.forEach(function(e){return e({auditNumber:t})});Ot(Ke.AUDIT_STARTED,{auditNumber:t})}},{key:"triggerAuditCompleted",value:function(t){this.auditCompletedCallbacks.forEach(function(e){return e({auditNumber:t})});Ot(Ke.AUDIT_COMPLETED,{auditNumber:t})}},{key:"destroy",value:function(){for(var t=0;t<this.auditStartedCallbacks.length;t++)removeEventListener(Ke.AUDIT_STARTED,this.auditStartedCallbacks[t]);for(var e=0;e<this.auditCompletedCallbacks.length;e++)removeEventListener(Ke.AUDIT_COMPLETED,this.auditCompletedCallbacks[e])}}])&&Ge(t.prototype,e),n&&Ge(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Ze(t){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ze(t)}function Ye(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Qe(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qe(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function tn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,un(r.key),r)}}function en(t,e,n){return e=rn(e),function(t,e){if(e&&("object"==Ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,nn()?Reflect.construct(e,n||[],rn(t).constructor):e.apply(t,n))}function nn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(nn=function(){return!!t})()}function rn(t){return rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},rn(t)}function on(t,e){return on=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},on(t,e)}function an(t,e,n){return(e=un(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function un(t){var e=function(t,e){if("object"!=Ze(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ze(e)?e:e+""}var sn="wovn-translation-feedback-button",ln="".concat(sn,"--active"),cn=function(t){function e(t,n,r,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);an(i=en(this,e,[t]),"hasStartedComponent",!1);an(i,"bootstrapperComponent",null);i.feedbackMode=n;i.externalComponentLoader=r;i.auditTrigger=o;return i}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&on(t,e)}(e,t);return n=e,(r=[{key:"buildHtmlElement",value:function(){var t=this,e=document.createElement("span");e.classList.add("wovn-additional-button",sn);e.setAttribute("wovn","");e.setAttribute("wovn-ignore","");e.onclick=function(){t.toggleTranslationFeedbackMode();At(Ke.AUDIT_COMPLETED,function(){return t.startOrUpdateComponent()});t.auditTrigger.refresh()};e.innerText="Feedback Mode";Ne().addEventListener("click",function(n){if(n.target!==e&&t.feedbackMode.isEnabled){t.toggleTranslationFeedbackMode();t.startOrUpdateComponent()}});return e}},{key:"toggleTranslationFeedbackMode",value:function(){this.feedbackMode.toggleTranslationFeedbackMode();t=this.element,e=ln,this.feedbackMode.isEnabled?be(t,e):we(t,e);var t,e}},{key:"startOrUpdateComponent",value:function(){var t,e=this;if(!this.hasStartedComponent){this.hasStartedComponent=!0;this.externalComponentLoader.loadExternalComponents(["TranslationFeedbackBootstrapper"]).then(function(t){var n=Ye(t,1)[0];e.bootstrapperComponent=n;e.bootstrapperComponent.start();e.bootstrapperComponent.update()})}null===(t=this.bootstrapperComponent)||void 0===t||t.update()}}])&&tn(n.prototype,r),o&&tn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(oe);function fn(t){return fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fn(t)}function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dn(r.key),r)}}function dn(t){var e=function(t,e){if("object"!=fn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fn(e)?e:e+""}function hn(t,e,n){return e=gn(e),function(t,e){if(e&&("object"==fn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,yn()?Reflect.construct(e,n||[],gn(t).constructor):e.apply(t,n))}function yn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(yn=function(){return!!t})()}function gn(t){return gn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},gn(t)}function vn(t,e){return vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},vn(t,e)}var mn=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return hn(this,e,arguments)}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vn(t,e)}(e,t);return n=e,(r=[{key:"buildHtmlElement",value:function(){var t=document.createElement("div");t.id="wovn-translation-feedback-border";return t}}])&&pn(n.prototype,r),o&&pn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(oe);function bn(t){return bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bn(t)}function wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sn(r.key),r)}}function Sn(t){var e=function(t,e){if("object"!=bn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bn(e)?e:e+""}function kn(t,e,n){return e=Cn(e),function(t,e){if(e&&("object"==bn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Tn()?Reflect.construct(e,n||[],Cn(t).constructor):e.apply(t,n))}function Tn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Tn=function(){return!!t})()}function Cn(t){return Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cn(t)}function On(t,e){return On=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},On(t,e)}var En=function(t){function e(t,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(o=kn(this,e)).translationFeedbackState=t;o.externalComponentLoader=n;o.auditTrigger=r;return o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&On(t,e)}(e,t);return n=e,(r=[{key:"build",value:function(){return[new cn(this.buildDomInsertStrategy(),this.translationFeedbackState,this.externalComponentLoader,this.auditTrigger),new mn(this.buildDomInsertStrategy())]}}])&&wn(n.prototype,r),o&&wn(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Re),Pn=n(8221),_n=n.n(Pn);function An(t){return An="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},An(t)}function xn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ln(r.key),r)}}function jn(t,e,n){return(e=Ln(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ln(t){var e=function(t,e){if("object"!=An(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=An(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==An(e)?e:e+""}var In=function(){return t=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);jn(this,"workableId",0);jn(this,"isExecuting",!1);jn(this,"previousExecutedTime",null);this.coolDownTime=e},e=[{key:"isCoolingDown",value:function(t){return this.previousExecutedTime&&this.previousExecutedTime+this.coolDownTime>t}},{key:"executeSetTimeout",value:function(t,e,n,r,o){var i,a,u=this;return i=r,a=o,setTimeout(function(){!function(n,r){if(n===u.workableId){u.isExecuting=!0;u.previousExecutedTime=null;t.apply(u,r);u.previousExecutedTime=(new Date).getTime();u.isExecuting=!1;e()}}(i,a)},n)}},{key:"setTimeout",value:function(t){function e(e,n,r){return t.apply(this,arguments)}e.toString=function(){return t.toString()};return e}(function(t,e,n){var r=(new Date).getTime();if(!this.isExecuting){if(this.isCoolingDown(r)){var o=this.previousExecutedTime+this.coolDownTime;n=Math.max(o+100,n+r)-r}this.workableId=(this.workableId+1)%1e4;for(var i=arguments.length,a=new Array(i>3?i-3:0),u=3;u<i;u++)a[u-3]=arguments[u];return this.executeSetTimeout(t,e,n,this.workableId,a)}})},{key:"reset",value:function(){this.previousExecutedTime=null}}],e&&xn(t.prototype,e),n&&xn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Dn=In;function Nn(t){return Nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nn(t)}function Rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vn(r.key),r)}}function Un(t,e,n){return(e=Vn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vn(t){var e=function(t,e){if("object"!=Nn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Nn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nn(e)?e:e+""}var Hn=function(){function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.documentRoot=e;this.liveEditorInstaller=n;this.debugSettings=r;this.auditTriggerEvents=o;this.domainOptions=i;this.auditWorker=new Dn(t.minimumCooldownTimeMs);this.eventListeners=new jt;this.hasInitializedEvents=!1;this.inspectingMode=!1;this.auditor=function(){}}return e=t,(n=[{key:"setAuditor",value:function(t){this.auditor=t}},{key:"start",value:function(){if(!this.debugSettings.disableAudit){if(!this.hasInitializedEvents){this.resetEventListeners();this.hasInitializedEvents=!0}this.isRunning=!0;this.refresh()}}},{key:"stop",value:function(){this.isRunning=!1;clearTimeout(this.timeout)}},{key:"getInspectingMode",value:function(){return this.inspectingMode}},{key:"setInspectingMode",value:function(t){this.inspectingMode=t}},{key:"restart",value:function(){this.stop();this.resetEventListeners();this.start()}},{key:"destroy",value:function(){this.eventListeners.destroyAll();this.stop()}},{key:"refresh",value:function(){this.auditWorker.reset();this.renewTimeout()}},{key:"renewTimeout",value:function(){var e=this,n=0,r=function(t){e.auditTriggerEvents.triggerAuditStarted(t);e.auditor(function(){e.auditTriggerEvents.triggerAuditCompleted(t)},t)},o=function(){if(!(n>=t.totalAuditCount)&&e.isRunning){var i=function(n){switch(e.domainOptions.getAuditStrategy()){case"fibonacci":var r=[1,1,2,3,5,8,13,21,34,55];return 1e3*r[Math.min(n,r.length)-1];case"none":return;default:return t.maxTimeoutIntervalMs*Math.pow(n,2)/Math.pow(t.totalAuditCount,2)}}(++n);i&&(e.timeout=e.auditWorker.setTimeout(function(){r(n)},o,i))}};this.isRunning&&(this.timeout=this.auditWorker.setTimeout(function(){r(n)},o,0))}},{key:"resetEventListeners",value:function(){var t=this;this.eventListeners.destroyAll();var e="ontouchstart"in this.documentRoot,n=this.getClickNodes();this.addClickListenersToNodes(n,"click");e&&this.addClickListenersToNodes(n,"touchend");this.eventListeners.add(window,"resize",_n()(function(){return t.triggerAudit()},250))}},{key:"getClickNodes",value:function(){return[this.documentRoot].concat(lt.toArrayFromDomList(this.documentRoot.getElementsByTagName("a"))).concat(lt.toArrayFromDomList(this.documentRoot.getElementsByTagName("button"))).concat(lt.toArrayFromDomList(this.documentRoot.getElementsByTagName("input")))}},{key:"addClickListenersToNodes",value:function(t,e){for(var n=this,r=0;r<t.length;r++)this.eventListeners.add(t[r],e,function(){return n.triggerAudit()},{capture:!0})}},{key:"triggerAudit",value:function(){this.isRunning?this.renewTimeout():this.liveEditorInstaller.isInstalled()&&!this.inspectingMode&&Pt(Et("audit-trigger-node-click",!1,!0))}}])&&Rn(e.prototype,n),r&&Rn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();Un(Hn,"minimumCooldownTimeMs",1e3);Un(Hn,"totalAuditCount",5);Un(Hn,"maxTimeoutIntervalMs",25e3);function Mn(t){return Mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mn(t)}function Bn(t,e,n){return(e=Wn(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wn(r.key),r)}}function Wn(t){var e=function(t,e){if("object"!=Mn(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mn(e)?e:e+""}var qn="wovn-domain-css",zn="wovn-page-css",Gn="wovn-domain-js",Jn="wovn-page-js",$n="wovn-page-id",Kn="wovn-page-css-hash",Xn="wovn-domain-css-hash",Zn=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.data=e},(e=[{key:"load",value:function(){var t=document.head||document.body;this.loadCss(t);this.loadJs(t)}},{key:"loadCss",value:function(t){var e=document.getElementById(zn),n=document.getElementById(qn);if(this.data.pageData.hasPublishedLang()){if(this.shouldInsertDomainCss(n,this.data.domainOptions.getDomainCssHash())){this.removeExistingTag(t,n);var r=Bn({},Xn,this.data.domainOptions.getDomainCssHash());this.insertCssTag(t,"style",qn,this.data.domainOptions.getDomainCss(),r)}if(this.shouldInsertPageCss(e,this.data.pageData.getPageCssHash())){this.removeExistingTag(t,e);var o=Bn(Bn({},$n,this.data.pageData.getPageId()),Kn,this.data.pageData.getPageCssHash());this.insertCssTag(t,"style",zn,this.data.pageData.getPageCss(),o)}}else{this.removeExistingTag(t,e);this.removeExistingTag(t,n)}}},{key:"loadJs",value:function(t){var e=document.getElementById(Jn),n=document.getElementById(Gn);this.removeExistingTag(t,n);this.removeExistingTag(t,e);if(this.data.domainOptions.hasFeature("js_customization")){this.insertTag(t,"script",Gn,this.data.domainOptions.getDomainJs());this.insertTag(t,"script",Jn,this.data.pageData.getPageJs())}}},{key:"insertTag",value:function(t,e,n,r){if(r){var o=document.createElement(e);o.setAttribute("id",n);o.appendChild(document.createTextNode(r));t.appendChild(o);return o}}},{key:"insertCssTag",value:function(t,e,n,r,o){if(r){var i=this.insertTag(t,e,n,r);if(i)for(var a in o)o[a]&&i.setAttribute(a,o[a])}}},{key:"removeExistingTag",value:function(t,e){e&&t.removeChild(e)}},{key:"shouldInsertPageCss",value:function(t,e){return!t||t.getAttribute($n)!==this.data.pageData.getPageId()||e&&t.getAttribute(Kn)!==e}},{key:"shouldInsertDomainCss",value:function(t,e){return!t||e&&t.getAttribute(Xn)!==e}}])&&Fn(t.prototype,e),n&&Fn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Yn=n(1160),Qn=n.n(Yn),tr=function(t){t["FIRST_CHILD"]="first_child";t["LAST_CHILD"]="last_child";t["PREVIOUS_SIBLING"]="previous_sibling";t["NEXT_SIBLING"]="next_sibling";return t}({});function er(t){return er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},er(t)}function nr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nr(Object(n),!0).forEach(function(e){or(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function or(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=er(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=er(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==er(e)?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ir=function(t){t[t["None"]=0]="None";t[t["TagContent"]=1]="TagContent";t[t["Attributes"]=2]="Attributes";t[t["All"]=3]="All";return t}({});function ar(t){return rr(rr({},t),{},{target:ir[t.target]})}function ur(t){return t==ir.All||t==ir.TagContent}function sr(t){return t==ir.All||t==ir.Attributes}function lr(t){return lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lr(t)}function cr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pr(r.key),r)}}function fr(t,e,n){return(e=pr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pr(t){var e=function(t,e){if("object"!=lr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lr(e)?e:e+""}var dr="features",hr=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);fr(this,"overrides",null);fr(this,"domainOptions",null);fr(this,"_parsedExcludedUrls",null);this.browserLocation=e},e=[{key:"setOverrides",value:function(t){this.overrides=t}},{key:"getAutoTranslateLangs",value:function(){return this.getOptions()["auto_translate_langs"]||[]}},{key:"getAutoPublishLangs",value:function(){return this.getOptions()["auto_publish_langs"]||[]}},{key:"getLinkTranslations",value:function(){return this.getOptions()["link_translations"]||{}}},{key:"getDomainCss",value:function(){return this.getOptions()["domain_css"]}},{key:"getDomainCssHash",value:function(){return this.getOptions()["domain_css_hash"]}},{key:"hasFeature",value:function(t){return-1!==(this.getOptions().features||[]).indexOf(t)}},{key:"getDomainId",value:function(){return this.getOptions()["id"]}},{key:"getDomainJs",value:function(){return this.getOptions()["domain_js"]}},{key:"getSecondaryLang",value:function(){return this.getOptions()["secondary_language"]}},{key:"getDesktopPosition",value:function(){return this.getOptions()["position"]}},{key:"getMobilePosition",value:function(){return this.getOptions()["mobile_position"]}},{key:"notFoundUnpublish",value:function(){return!!this.getOptions().not_found_unpublish}},{key:"getWidgetStyle",value:function(){return t=this.getOptions()["style"],e=(t=t||"").split(" "),n=e[1]||"default",{type:e[0]||"default",color:n};var t,e,n}},{key:"getWidgetCustomColors",value:function(){return this.getOptions()["custom_colors"]}},{key:"isEmbeddedWidget",get:function(){return!!this.getOptions()["embedded_widget"]}},{key:"getEmbeddedWidgetCustomCss",value:function(){return this.getOptions()["embedded_widget_custom_css"]||""}},{key:"getEmbeddedWidgetSelector",value:function(){return this.getOptions()["embedded_widget_selector"]||".wovn-embedded-widget-anchor"}},{key:"getEmbeddedWidgetInsertionBehavior",value:function(){return this.getOptions()["embedded_widget_insertion_behavior"]||tr.FIRST_CHILD}},{key:"getDomainLangs",value:function(){return this.getOptions()["domain_langs"]||[]}},{key:"isForceReloadEnabled",value:function(){return this.getOptions()["force_reload"]||this.hasFeature("final_fv_project")}},{key:"isReportLinksEnabled",value:function(){return this.getOptions()["report_links"]}},{key:"getReportSendLimit",value:function(){return this.getOptions()["report_send_limit"]||10}},{key:"getParcelForwardingProvider",value:function(){return this.getOptions()["parcel_forwarding"]}},{key:"getOptions",value:function(){return this.domainOptions||{}}},{key:"setOptions",value:function(t){!function(t){t.mobile_position||(t.mobile_position="bottom_right")}(t);!function(t,e){if(e)for(var n=["report_lot_ratio"],r=[!1,null,void 0],o=function(t,e){return"number"==typeof e?-1!==n.indexOf(t):-1!==r.indexOf(e)},i=function(){var n=u[a],r=e[n];if(n===dr&&t[dr]){var i=r,s=Object.keys(i).filter(function(t){return o(dr,i[t])});t[n]=t[n].filter(function(t){return-1===s.indexOf(t)})}else o(n,r)&&(t[n]=r)},a=0,u=Object.keys(e);a<u.length;a++)i()}(t,this.overrides||window._wovnDomainOptionsOverrides);this._parsedExcludedUrls=null;this.domainOptions=t}},{key:"hasDomainOptions",value:function(){return null!==this.domainOptions}},{key:"getCountryCode",value:function(){return this.getOptions()["countryCode"]}},{key:"setCountryCode",value:function(t){this.getOptions()["countryCode"]=t}},{key:"getDomainReportingEnabled",value:function(){return!!this.getOptions()["dynamic_values"]}},{key:"getDomainExcludedContent",value:function(){return(this.getOptions()["excluded_content"]||[]).map(function(t){return ar(t)})}},{key:"getExcludedPaths",value:function(){return this.getOptions()["excluded_paths"]||[]}},{key:"getExcludedUrls",value:function(){null===this._parsedExcludedUrls&&(this._parsedExcludedUrls=(this.getOptions()["excluded_urls"]||[]).map(function(t){return new(Qn())(t)}));return this._parsedExcludedUrls}},{key:"getDomainIncludedContent",value:function(){return this.getOptions()["included_content"]||[]}},{key:"getWidgetDisplayType",value:function(){return this.getOptions()["type"]}},{key:"getLangPath",value:function(){return this.getOptions()["lang_path"]}},{key:"useGenericLangWord",value:function(){return this.getOptions()["use_generic_lang_word"]}},{key:"genericLangWord",value:function(){return this.getOptions()["generic_lang_word"]}},{key:"hideLogo",value:function(){return this.getOptions()["hide_logo"]}},{key:"showTranslatedByMachine",value:function(){return this.getOptions()["show_tbm"]}},{key:"autoHideWidget",value:function(){return this.getOptions()["auto_hide_widget"]}},{key:"canShowCustomWidgets",value:function(){return"widget"!==this.getWidgetDisplayType()}},{key:"useMachineTranslatedModal",value:function(){return!!this.getOptions()["show_machine_translated_modal"]}},{key:"getMachineTranslatedModalContent",value:function(){return this.getOptions()["machine_translated_modal_content"]||{}}},{key:"reportLotRatio",value:function(){var t=this.getOptions()["report_lot_ratio"];t||0===t||(t=1);return t}},{key:"dynamicLoading",value:function(t){return yr(!!this.getOptions()["dynamic_loading"],t.get(),this)}},{key:"useUnifiedValue",value:function(){return this.hasFeature("unified_values")}},{key:"hasSupervisedDomainFeature",value:function(){return!!this.getOptions()["supervised_domain"]}},{key:"canTranslateCssBackgroundImages",value:function(){var t=this.getOptions()["translate_css_background_images"];return void 0===t||t}},{key:"getCssBackgroundImagesScope",value:function(){return this.getOptions()["translate_css_background_images_scope"]||[]}},{key:"getHostAliases",value:function(){return this.getOptions()["host_aliases"]||[]}},{key:"getCustomAttributes",value:function(){return this.getOptions()["custom_attributes"]||{}}},{key:"getCustomBlockTags",value:function(){return this.getOptions()["custom_block_tags"]||[]}},{key:"getCustomBlockClasses",value:function(){return this.getOptions()["custom_block_classes"]||[]}},{key:"canInstallWap",value:function(t){return yr(!this.getOptions()["disable_wap"],t.get(),this)}},{key:"canUseXhrWidgetSession",value:function(){return this.hasFeature("widget_session_xhr_auth")&&"https:"===this.browserLocation.protocol}},{key:"getPageMetaDefinitions",value:function(){return this.getOptions()["page_metadata_definitions"]||[]}},{key:"getAuditStrategy",value:function(){return this.getOptions()["audit_strategy"]||"square"}},{key:"getCookieDomainPreference",value:function(){return this.getOptions()["cookie_domain_preference"]}}],e&&cr(t.prototype,e),n&&cr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function yr(t,e,n){return n.hasFeature("widget_data_collection_cookie_optin")?!!e:0!=e&&t}function gr(t){return gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gr(t)}function vr(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vr(Object(n),!0).forEach(function(e){br(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vr(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function br(t,e,n){return(e=Sr(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Sr(r.key),r)}}function Sr(t){var e=function(t,e){if("object"!=gr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gr(e)?e:e+""}var kr=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.pageData=e;this.domainOptions=n},(e=[{key:"getLinkTranslations",value:function(){return mr(mr({},this.domainOptions.getLinkTranslations()),this.pageData.getLinkTranslations())}},{key:"getConvertedLangs",value:function(){var t=this.pageData.getConvertedLangs(),e=this.domainOptions.getDomainLangs();return 0===e.length?t:t.filter(function(t){return-1!==e.indexOf(t.code)})}},{key:"getTranslatableLangs",value:function(){return this.getTranslatableLangsAsLangInfo().map(function(t){return t.code})}},{key:"getTranslatableLangsAsLangInfo",value:function(){return this.getConvertedLangs().concat(this.pageData.getSourceLangs())}},{key:"getExcludedContent",value:function(){return vt.distinctBy(this.pageData.getPageExcludedContent().concat(this.domainOptions.getDomainExcludedContent()),function(t){return t.selector})}},{key:"getIgnoredPatterns",value:function(){return{selectors:this.getExcludedContent(),ignoreInlineDisplayNoneElements:this.domainOptions.hasFeature("ignore_inline_display_none_elements")}}},{key:"getIncludedContent",value:function(){return vt.distinctBy(this.pageData.getPageIncludedContent().concat(this.domainOptions.getDomainIncludedContent()),function(t){return t.selector})}},{key:"isReportingEnabled",value:function(t){return yr(this.isReportingEnabledFromServerData(),t.get(),this.domainOptions)}},{key:"isReportingEnabledFromServerData",value:function(){var t=this.pageData.getPageReportingEnabled();return null!==t?t:this.domainOptions.getDomainReportingEnabled()}}])&&wr(t.prototype,e),n&&wr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Tr(t){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(t)}function Cr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Er(r.key),r)}}function Or(t,e,n){return(e=Er(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Er(t){var e=function(t,e){if("object"!=Tr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Tr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tr(e)?e:e+""}var Pr={VALIDATE:{name:"__wovn__.Validate",expirationDays:1},OPTED_IN_COOKIES:{name:"wovn-optedInCookies",expirationDays:7300},OPTED_OUT_COOKIES:{name:"wovn-optedOutCookies",expirationDays:7300},WAP_ENABLED:{name:"wovn-wapEnabled",expirationDays:7300},REPORTING_ENABLED:{name:"wovn-reportingEnabled",expirationDays:7300},DYNAMIC_LOADING_ENABLED:{name:"wovn-dynamicLoadingEnabled",expirationDays:7300},PARCEL_FORWARDING_LANG:{name:"wovn_parcel_forwarding_lang",expirationDays:365},SELECTED_LANG:{name:"wovn_selected_lang",expirationDays:365},WOVN_MTM_SHOWED_LANGS:{name:"wovn_mtm_showed_langs",expirationDays:365},WOVN_MONITOR_ENABLE:{name:"wovn_monitor_enable",expirationDays:365},WOVN_UUID:{name:"wovn_uuid",expirationDays:365},PREVIEW_SIGNATURE:{name:"wovn_preview_signature",expirationDays:365},AUTO_TRIGGER_REPORT:{name:"wovn_auto_trigger_report",expirationDays:30},LEGACY_SELECTED_LANG:{name:"wovn_selected_lang_2017v1",expirationDays:1},LEGACY_OPTED_OUT_WAP:{name:"wovn-optedOutWap",expirationDays:1},LEGACY_OPTED_OUT_REPORTING:{name:"wovn-optedOutReporting",expirationDays:1},LEGACY_OPTED_OUT_DYNAMIC_LOADING:{name:"wovn-optedOutDynamicLoading",expirationDays:1},WAP_USER:{name:"wap_user",expirationDays:365},WAP_CLICK_PLACES:{name:"wap-click-places",expirationDays:7300},WAP_LAST_EVENT:{name:"wap_last_event",expirationDays:7300},WAP_WAPID:{name:"WAPID",expirationDays:7300}},_r=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Or(this,"deferredCookies",{});Or(this,"isOptedOut",!1);Or(this,"isOptedIn",!1);Or(this,"_canAccessCookies",!1);this.cookieContainer=e;this.domainOptions=n},(e=[{key:"initializeCookiePolicy",value:function(){this.isOptedOut=!!this.cookieContainer.getValue(Pr.OPTED_OUT_COOKIES.name);this.isOptedIn=!!this.cookieContainer.getValue(Pr.OPTED_IN_COOKIES.name);if(this.isOptedOut)this.optOut();else if(this.domainOptions.hasFeature("widget_cookie_optin")&&this.isOptedIn)this.optIn();else{this._canAccessCookies=null;this.syncDeferredCookiesWithBrowser()}return{canAccessCookies:this.canAccessCookies}}},{key:"canAccessCookies",get:function(){if(null!==this._canAccessCookies)return this._canAccessCookies;this._canAccessCookies=!this.isOptedOut&&(!this.domainOptions.hasFeature("widget_cookie_optin")||this.isOptedIn);return this._canAccessCookies}},{key:"get",value:function(t){return this.canReadCookie(t)?this.cookieContainer.getValue(t.name):null}},{key:"set",value:function(t,e){this.canAccessCookies?this.cookieContainer.setValue(t.name,e,t.expirationDays):this.deferredCookies[t.name]={cookie:t,value:e}}},{key:"erase",value:function(t){this.canAccessCookies?this.cookieContainer.eraseValue(t.name):this.deferredCookies[t.name]={cookie:t,isDeleted:!0}}},{key:"optOut",value:function(){this.isOptedOut=!0;this._canAccessCookies=null;this.setOptOutCookie();this.cookieContainer.eraseValue(Pr.OPTED_IN_COOKIES.name);this.removeAll()}},{key:"optIn",value:function(){if(!this.isOptedOut){this.isOptedIn=!0;this._canAccessCookies=null;this.setOptInCookie();this.syncDeferredCookiesWithBrowser()}}},{key:"canReadCookie",value:function(t){return this.canAccessCookies||t.name==Pr.PREVIEW_SIGNATURE.name}},{key:"syncDeferredCookiesWithBrowser",value:function(){for(var t=0,e=Object.keys(this.deferredCookies);t<e.length;t++){var n=e[t],r=this.deferredCookies[n];r.isDeleted?this.erase(r.cookie):this.set(r.cookie,r.value)}this.deferredCookies={}}},{key:"destroy",value:function(){this.removeAll()}},{key:"removeAll",value:function(){for(var t=0,e=Object.keys(Pr);t<e.length;t++){var n=e[t],r=Pr[n];this.isPrivacyCookie(r.name)||this.cookieContainer.eraseValue(r.name)}}},{key:"isPrivacyCookie",value:function(t){return t===Pr.OPTED_OUT_COOKIES.name||t===Pr.OPTED_IN_COOKIES.name}},{key:"forceConvertAllToInsecure",value:function(){for(var t=0,e=Object.keys(Pr);t<e.length;t++){var n=e[t],r=Pr[n],o=this.get(r);if(o){this.erase(r);this.set(r,o)}}}},{key:"setOptOutCookie",value:function(){this.cookieContainer.setValue(Pr.OPTED_OUT_COOKIES.name,"true",7300)}},{key:"setOptInCookie",value:function(){this.cookieContainer.setValue(Pr.OPTED_IN_COOKIES.name,"true",7300)}}])&&Cr(t.prototype,e),n&&Cr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Ar(t){return Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(t)}function xr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jr(r.key),r)}}function jr(t){var e=function(t,e){if("object"!=Ar(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ar(e)?e:e+""}var Lr=Pr.SELECTED_LANG,Ir=Pr.LEGACY_SELECTED_LANG,Dr=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.cookieStore=e},(e=[{key:"set",value:function(t){this.cookieStore.set(Lr,t)}},{key:"get",value:function(){this.migrateOldCookie();return this.cookieStore.get(Lr)}},{key:"erase",value:function(){this.cookieStore.erase(Lr)}},{key:"destroy",value:function(){this.erase()}},{key:"migrateOldCookie",value:function(){var t=this.cookieStore.get(Ir);if(t){this.cookieStore.erase(Ir);this.setLangToCookie(t)}}},{key:"setLangToCookie",value:function(t){this.cookieStore.set(Lr,t)}}])&&xr(t.prototype,e),n&&xr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Nr(t){return Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(t)}function Rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ur(r.key),r)}}function Ur(t){var e=function(t,e){if("object"!=Nr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Nr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Nr(e)?e:e+""}var Vr=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.inSiteSearchController=e},e=[{key:"search",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return this.inSiteSearchController.search(t,e,n,r).then(function(t){return t.body.results})}}],e&&Rr(t.prototype,e),n&&Rr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Hr(t){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hr(t)}function Mr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Br(r.key),r)}}function Br(t){var e=function(t,e){if("object"!=Hr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hr(e)?e:e+""}function Fr(){return-1!==document.title.search(Wr)||(t=document.body.innerText)&&-1!==t.search(Wr);var t}var Wr=new RegExp("("+["404","410","  ","","","ikke fundet","niet gevonden","not found","ei lydetty","pas trouv","non trouv","introuvable","nicht gefunden"," "," "," ","tidak ditemukan","non trovato","","  ","tidak ditemui","ikke funnet","nie znaleziono","no encontrado"," ","extraviado","no encontrada","hittades inte","","bulunamad"," ","khng tm thy"].join("|")+")","i");var qr=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.pageNotFoundController=e},(e=[{key:"notifyWovnIfNotFound",value:function(){var t,e=this;Fr()&&(t=function(){e.pageNotFoundController.notifyCurrentPageNotFound()},lt.sendRequest("HEAD",window.location.href,null,function(){},function(e){404!==e.status&&410!==e.status||t()}))}}])&&Mr(t.prototype,e),n&&Mr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function zr(t){return zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zr(t)}function Gr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$r(r.key),r)}}function Jr(t,e,n){return(e=$r(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $r(t){var e=function(t,e){if("object"!=zr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=zr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==zr(e)?e:e+""}var Kr=function(t){t["DataLoadStart"]="data_load_start";t["DataLoadEnd"]="data_load_end";t["PageDataLoadStart"]="page_data_load_start";t["PageDataLoadEnd"]="page_data_load_end";t["DomainOptionsLoadStart"]="domain_options_load_start";t["DomainOptionsLoadEnd"]="domain_options_load_end";t["FirstSwapStart"]="first_swap_start";t["FirstSwapEnd"]="first_swap_end";t["SwapStart"]="swap_start";t["SwapEnd"]="swap_end";t["ChangeLangStart"]="change_lang_start";t["ChangeLangEnd"]="change_lang_end";return t}({}),Xr=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Jr(this,"performanceResults",[]);Jr(this,"startTimeMs",null);this.cookieStore=e;this.debugSettings=n},e=[{key:"isEnabled",get:function(){return this._isEnabled||(this._isEnabled="true"===this.cookieStore.get(Pr.WOVN_MONITOR_ENABLE)||this.debugSettings.measurePerformance)}},{key:"mark",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isEnabled){var r=window.performance.now();this.startTimeMs||(this.startTimeMs=r);var o={event:t,elapsedTimeMs:Number((r-this.startTimeMs).toFixed(2)),context:n,memoryKb:Math.round(((null===(e=window.performance)||void 0===e||null===(e=e.memory)||void 0===e?void 0:e.usedJSHeapSize)||0)/1024)};this.performanceResults.push(o)}}},{key:"getResult",value:function(){var t=this;if(!this.isEnabled)return[];this.performanceResults.forEach(function(e,n){var r;if(null!=e&&null!==(r=e.event)&&void 0!==r&&r.endsWith("_end")){var o=e.event.replace("_end","_start"),i=t.performanceResults.slice(0,n).reverse().find(function(t){return t.event===o});if(i){e["execTimeMs"]=Number((e.elapsedTimeMs-i.elapsedTimeMs).toFixed(2));e["diffMemoryKb"]=e.memoryKb-i.memoryKb}}});return this.performanceResults}}],e&&Gr(t.prototype,e),n&&Gr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Zr=n(4987),Yr=n.n(Zr);function Qr(t){return Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qr(t)}function to(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eo(r.key),r)}}function eo(t){var e=function(t,e){if("object"!=Qr(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qr(e)?e:e+""}var no={HALT_REPORTING:"wovn.haltReporting",FORCE_REPORTING:"wovn.forceReporting",FORCE_START:"wovn.forceStart",DISABLE_AUDIT:"wovn.disableAudit",DISABLE_WIDGET:"wovn.disableWidget",DISABLE_NAVIGATION:"wovn.disableNavigation",LOAD_DATA_SEQUENTIALLY:"wovn.loadDataSequentially",MEASURE_PERFORMANCE:"wovn.measurePerformance"},ro=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.browserLocation=e;this.haltReporting=this.hasHashOrQuery(no.HALT_REPORTING);this.forceReporting=this.hasHashOrQuery(no.FORCE_REPORTING);this.forceStart=this.hasHashOrQuery(no.FORCE_START);this.disableAudit=this.hasHashOrQuery(no.DISABLE_AUDIT);this.disableWidget=this.hasHashOrQuery(no.DISABLE_WIDGET);this.disableNavigation=this.hasHashOrQuery(no.DISABLE_NAVIGATION);this.loadDataSequentially=this.hasHashOrQuery(no.LOAD_DATA_SEQUENTIALLY);this.measurePerformance=this.hasHashOrQuery(no.MEASURE_PERFORMANCE);this.useCreeper=/wovn\-activated=(true|creeper|toolbox|activator)/.test(this.browserLocation.search)},(e=[{key:"hasHashOrQuery",value:function(t){var e=new RegExp(t);return e.test(this.browserLocation.hash)||e.test(this.browserLocation.search)}}])&&to(t.prototype,e),n&&to(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function oo(t){return oo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(t)}function io(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ao(r.key),r)}}function ao(t){var e=function(t,e){if("object"!=oo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oo(e)?e:e+""}var uo=/wovn\.editing=([A-Za-z0-9-_?=]+)&?/i,so=/wovn\.editorVersion=([1-2]+)&?/i,lo=/wovn\.nodeValueId=([^&]*)&?/i,co=/wovn\.targetLang=([^&]*)&?/i,fo=/wovn\.widgetLang=([^&]*)&?/i,po={EDITING:"wovn.editing",EDITOR_VERSION:"wovn.editorVersion",NODE_VALUE_ID:"wovn.nodeValueId",TARGET_LANG:"wovn.targetLang",WIDGET_LANG:"wovn.widgetLang"},ho=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.initialBrowserUrl=e;this.domainOptions=n},e=[{key:"isEnabled",get:function(){return!!this.session}},{key:"isEnabledV1",get:function(){return this.isEnabled&&"1"===this.editorVersionInURL}},{key:"isEnabledV2",get:function(){return this.isEnabled&&"2"===this.editorVersionInURL}},{key:"session",get:function(){return this.readParamValueFromBrowserUrl(uo)}},{key:"editorVersionInURL",get:function(){return this.readParamValueFromBrowserUrl(so)}},{key:"nodeValueId",get:function(){return this.readParamValueFromBrowserUrl(lo)}},{key:"targetLangCode",get:function(){return this.readParamValueFromBrowserUrl(co)}},{key:"widgetLangCode",get:function(){return this.readParamValueFromBrowserUrl(fo)}},{key:"readParamValueFromBrowserUrl",value:function(t){var e=this.initialBrowserUrl.match(t)||location.href.match(t);return e&&e[1]?e[1]:""}},{key:"removeSettingsFromUrl",value:function(t){return t.replace(uo,"").replace(so,"").replace(lo,"").replace(co,"").replace(fo,"").replace(/(\?|&)$/,"")}},{key:"updateBrowserUrlState",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"1",o="".concat(po.TARGET_LANG,"=").concat(e,"&").concat(po.EDITING,"=").concat(t,"&").concat(po.WIDGET_LANG,"=").concat(n,"&").concat(po.EDITOR_VERSION,"=").concat(r),i=this.removeSettingsFromUrl(location.search),a=i?i+"&"+o:"?"+o,u=location.pathname+a+location.hash;history.pushState({wovn:"live_edit"},"",u)}},{key:"removeSettingsFromBrowserUrlState",value:function(){var t=this.removeSettingsFromUrl(window.location.href);history.pushState(null,"",t)}}],e&&io(t.prototype,e),n&&io(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function yo(t){return yo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(t)}function go(t){return function(t){if(Array.isArray(t))return bo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||mo(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vo(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=mo(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function mo(t,e){if(t){if("string"==typeof t)return bo(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bo(t,e):void 0}}function bo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,So(r.key),r)}}function So(t){var e=function(t,e){if("object"!=yo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yo(e)?e:e+""}var ko=function(){return t=function t(e,n,r,o,i,a,u,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.protocol=e;this.host=n;this.pathname=r;this.search=o;this.hash=i;this.originalUrl=a;this.snippetSettings=u;this.customDomainUrlHandler=s;this.fromPath=!1;this.baseIgnorePath=null},e=[{key:"setShowFullUrl",value:function(){this.fromPath=!1;this.baseIgnorePath=null;return this}},{key:"setToShowUrlFromPath",value:function(){this.fromPath=!0;return this}},{key:"setBaseIgnorePath",value:function(t){this.baseIgnorePath=t;return this}},{key:"getOriginalUrl",value:function(){return o(this.protocol.toLowerCase(),"http")?this.createUrl(this.protocol,this.host,this.pathname,this.search,this.hash):this.originalUrl}},{key:"langComponent",get:function(){return Jt.c("Lang")}},{key:"urlComponent",get:function(){return Jt.c("Url")}},{key:"getNormalizedPageUrl",value:function(t,e){var n=this.getOriginalUrl();if(t&&o(this.protocol.toLowerCase(),"http")){var r=[this.langComponent.getBackendLangIdentifier(),this.urlComponent.getLangCode()].filter(Boolean);r=vt.distinctBy(r,function(t){return t});var i,a=this.search,u=this.pathname,s=vo(r);try{for(s.s();!(i=s.n()).done;){var l=i.value;switch(e){case"query":var c=this.snippetSettings.langParamName,f=a.replace(new RegExp("(\\?|&)"+c+"="+l+"(&|$)"),"$1").replace(/(\?|&)$/,"");n=this.createUrl(this.protocol,this.host,this.pathname,f,this.hash);a=f;break;case"subdomain":n=n.replace(new RegExp("//"+l+"\\.","i"),"//");break;case"custom_domain":n=this.customDomainUrlHandler.removeLanguage(n,l);break;case"path":var p=this.langComponent.defaultLangAlias(),d=p?"/"+p:"",h=u,y=this.snippetSettings.sitePrefixPaths,g=this.findMatchingSitePrefix(y,u);null!==g&&(h=g.length>0?h.replace(this.getSitePrefixPathWithLangRegex(g,l),"$1"+d+"$2"):h.replace(new RegExp("^(/)?"+l+"(/|$)","i"),d+"$2"));u=h;n=this.createUrl(this.protocol,this.host,h,this.search,this.hash)}}}catch(t){s.e(t)}finally{s.f()}}return n}},{key:"getConvertedLangUrl",value:function(t,e,n){var r,o=this.getOriginalUrl(),i=this.langComponent.getLangIdentifier(t),a=this.langComponent.getLangIdentifier(e),u=this.langComponent.getDefaultCodeIfExists();switch(n){case"query":var s=this.snippetSettings.langParamName,l=RegExp("[\\?&]"+s+"=[^&#]*");if(e===u){var c=RegExp("([\\?&])"+s+"=[^#&]*&?");r=o.replace(c,"$1")}else if(o.match(l)){var f=RegExp("([\\?&])"+s+"=[^&#]*");r=o.replace(f,"$1"+s+"="+a)}else r=o.match(/\?/)?o.replace(/\?/,"?"+s+"="+a+"&"):o.replace(/(#|$)/,"?"+s+"="+a+"$1");r=(r=r.replace(/&$/,"")).replace(/\?$/,"");break;case"custom_domain":r=this.customDomainUrlHandler.addLanguage(o,a);break;case"subdomain":r=e===u?o.replace(new RegExp("://"+i.toLowerCase()+"\\.","i"),"://"):t===u?o.replace(new RegExp("://","i"),"://"+a.toLowerCase()+"."):o.replace(new RegExp("://"+i.toLowerCase()+"\\.","i"),"://"+a.toLowerCase()+".");break;case"path":var p=this.removeLangFromPathname(this.pathname,t);p=this.addLangToPathname(p,e,u);r=this.createUrl(this.protocol,this.host,p,this.search,this.hash);break;default:r=o}return r}},{key:"removeLangFromPathname",value:function(t,e){var n=this.langComponent.getLangIdentifier(e),r=this.snippetSettings.sitePrefixPaths,o=this.findMatchingSitePrefix(r,this.pathname);return null!==o?o.length>0?t.replace(this.getSitePrefixPathWithLangRegex(o,n),"$1$2"):t.replace(new RegExp("^/"+n+"(/|$)"),"$1"):t}},{key:"addLangToPathname",value:function(t,e,n){if(e===n&&!this.langComponent.hasAlias(n))return t;var r=this.langComponent.getLangIdentifier(e),o=this.snippetSettings.sitePrefixPaths,i=this.findMatchingSitePrefix(o,this.pathname);return null!==i?i.length>0?t.replace(this.getSitePrefixPathRegex(i),"$1/"+r+"$2"):"/"+r+t:t}},{key:"findMatchingSitePrefix",value:function(t,e){var n,r=vo(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(e.match(this.getSitePrefixPathRegex(o)))return o}}catch(t){r.e(t)}finally{r.f()}return null}},{key:"getSitePrefixPathRegex",value:function(t){return new RegExp("^(/?".concat(t,")(/|$)"),"i")}},{key:"getSitePrefixPathWithLangRegex",value:function(t,e){return new RegExp("^(/?".concat(t,")/").concat(e,"(/|$)"),"i")}},{key:"createUrl",value:function(t,e,n,r,i){var a=this.removeWovnHash(i),u=t+"//"+e+n+r+a;this.baseIgnorePath?u=o(u,this.baseIgnorePath)?u.replace(this.baseIgnorePath,""):n+r+a:this.fromPath&&(u=n+r+a);return u}},{key:"removeWovnHash",value:function(t){if(!t)return"";var e=t;[].concat(go(lt.values(no)),go(lt.values(po))).forEach(function(t){e=function(t,e){var n=new RegExp("(#.*)".concat(e,"(=[^#=&]*)?(?:$|&)"));return t.replace(n,"$1").replace(/[&#]$/,"")}(e,t)});return e}}],e&&wo(t.prototype,e),n&&wo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function To(t){return To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},To(t)}function Co(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oo(r.key),r)}}function Oo(t){var e=function(t,e){if("object"!=To(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=To(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==To(e)?e:e+""}var Eo=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.urlComponent=e;this.snippetSettings=n;this.widget=r;this.parseUrlCached=Yr()(function(t,e){return P(t)},{serializer:function(t){return"".concat(t[0],",").concat(t[1])}})},(e=[{key:"convertToFullUrl",value:function(t){return this.createFromUrl(t).setShowFullUrl().getOriginalUrl()}},{key:"createFromUrl",value:function(t){var e=this.getLocation(t),n=function(t){var e=t.host;"http:"===t.protocol&&/:80$/.test(e)?e=e.replace(/:80$/,""):"https:"===t.protocol&&/:443$/.test(e)&&(e=e.replace(/:443$/,""));return e}(e),r=x(t),o=this.generatePath(r,e.pathname,t),i=this.create(e.protocol,n,o,e.search,e.hash,t);if(!r)if(j(t))i.setToShowUrlFromPath();else{var a=i.getOriginalUrl();i.setBaseIgnorePath(a.substr(0,a.indexOf(t)))}return i}},{key:"getLocation",value:function(t){var e=this.urlComponent.getLangCode(t);return e?this.parseUrlCached(t,e):P(t)}},{key:"generatePath",value:function(t,e,n){var r="/"!==e.charAt(0)?"/":""+e,o=null===k(n);t&&o&&(r="");return r}},{key:"create",value:function(t,e,n,r,o,i){return new ko(t,e,n,r,o,i,this.snippetSettings,this.customDomainUrlHandler)}},{key:"customDomainUrlHandler",get:function(){return this.widget.c("CustomDomainUrlHandler")}}])&&Co(t.prototype,e),n&&Co(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Po=n(9466),_o=n.n(Po);function Ao(t){return Ao="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ao(t)}function xo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jo(r.key),r)}}function jo(t){var e=function(t,e){if("object"!=Ao(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ao(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ao(e)?e:e+""}var Lo=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.urlFormatter=e},(e=[{key:"parseSrcSetUrls",value:function(t){return _o()(t).map(function(t){return t.url})}},{key:"parseAndResolveSrcSetUrls",value:function(t){var e=this;return vt.toObject(this.parseSrcSetUrls(t),function(t){return e.urlFormatter.convertToFullUrl(t)},function(t){return t})}}])&&xo(t.prototype,e),n&&xo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Io(t){for(var e={},n=t.getAllResponseHeaders().split("\r\n"),r=0;r<n.length;r++)if(""!==n[r]){var o=n[r].split(": ");e[o[0]]=o[1]}return e}var Do=function(t){t["FormUrlEncoded"]="application/x-www-form-urlencoded";t["MultipartFormData"]="multipart/form-data";t["JsonAsText"]="text/plain";t["ApplicationJson"]="application/json";return t}({});function No(t,e){switch(e){case Do.FormUrlEncoded:return function(t){return Object.keys(t).map(function(e){return"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e]))}).join("&")}(t);case Do.MultipartFormData:return function(t){var e=new FormData;Object.keys(t).map(function(n){e.append(n,t[n])});return e}(t);case Do.JsonAsText:case Do.ApplicationJson:return Object.keys(t).length>0?Z(t):"";default:throw new Error("Unsupported content type")}}function Ro(t){return Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ro(t)}function Uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vo(r.key),r)}}function Vo(t){var e=function(t,e){if("object"!=Ro(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ro(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ro(e)?e:e+""}var Ho=function(t){t["sync"]="WOVN_STALLION_READY";t["authenticationFailed"]="WOVN_STALLION_AUTH_FAILED";t["request"]="WOVN_STALLION_REQUEST";t["response"]="WOVN_STALLION_RESPONSE";t["responseFailed"]="WOVN_STALLION_RESPONSE_FAILED";return t}({});var Mo=function(){return t=function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.started=!1;this.messageHandler=function(t){return e.onWidgetMessage(t)}},(e=[{key:"start",value:function(){this.started=!0;window.addEventListener("message",this.messageHandler,!1);this.notifyWidgetSessionProxy({messageType:Ho.sync})}},{key:"stop",value:function(){this.started=!1;window.removeEventListener("message",this.messageHandler,!1)}},{key:"onWidgetMessage",value:function(t){this.started&&t.data.messageType==Ho.request&&this.sendRequest(t.data)}},{key:"notifyWidgetSessionProxy",value:function(t){window.top.postMessage(t,"*")}},{key:"sendRequest",value:function(t){var e=this,n=new XMLHttpRequest,r=document.querySelector('meta[name="csrf-token"]').getAttribute("content");n.open(t.requestInfo.method,t.requestInfo.url,!0);n.setRequestHeader("X-CSRF-Token",r);t.requestInfo.contentType!==Do.MultipartFormData&&n.setRequestHeader("Content-Type",t.requestInfo.contentType);n.onreadystatechange=function(){n.readyState===Y.DONE&&(200===n.status?e.notifyWidgetSessionProxy({messageType:Ho.response,messageId:t.messageId,responseBody:n.responseText,responseStatus:n.status,responseHeaders:Io(n)}):e.notifyWidgetSessionProxy({messageType:Ho.responseFailed,messageId:t.messageId,responseBody:n.responseText,responseStatus:n.status,responseHeaders:{}}))};var o=No(t.requestInfo.data,t.requestInfo.contentType);n.send(o)}}])&&Uo(t.prototype,e),n&&Uo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();new Mo;function Bo(t){return Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bo(t)}function Fo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wo(r.key),r)}}function Wo(t){var e=function(t,e){if("object"!=Bo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bo(e)?e:e+""}var qo="wovn-stallion-iframe",zo=function(){return t=function t(e,n){var r,o,i,a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);r=this,i={},(o=Wo(o="pendingRequests"))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i;this.snippetSettings=e;this.wovnContext=n;this.stallion=null;this.started=!1;this.messageHandler=function(t){return a.onStallionMessage(t)};this.lastMessageId=0},(e=[{key:"start",value:function(){this.started=!0;lt.onEvent(window.self,"message",this.messageHandler);this.startRPC()}},{key:"stop",value:function(){this.started=!1;this.stallion=null;lt.removeHandler(window.self,"message",this.messageHandler);this.stopRPC()}},{key:"destroy",value:function(){this.stop()}},{key:"sendRequest",value:function(t,e,n,r,o,i){if(this.stallion){var a=++this.lastMessageId;this.pendingRequests[a]={successCallback:o,failedCallback:i};this.stallion.postMessage({messageId:a,messageType:Ho.request,requestInfo:{method:t,url:e,data:n,contentType:r}},"*");return!0}return!1}},{key:"onStallionMessage",value:function(t){if(this.started){var e=t.data;e.messageType==Ho.authenticationFailed&&Ot("wovnSessionFailed");if(!this.stallion&&function(t){return t.messageType==Ho.sync}(e)){this.setStallionFromEvent(t);this.stallion&&Ot("wovnSessionReady")}else if(function(t){return t.messageType==Ho.response}(e)){var n=this.pendingRequests[e.messageId];n.successCallback&&n.successCallback(e.responseBody,e.responseStatus,e.responseHeaders);delete this.pendingRequests[e.messageId]}else if(function(t){return t.messageType==Ho.responseFailed}(e)){var r=this.pendingRequests[e.messageId];r.failedCallback&&r.failedCallback(e.responseBody,e.responseStatus,e.responseHeaders);delete this.pendingRequests[e.messageId]}}}},{key:"startRPC",value:function(){var t=document.createElement("IFRAME"),e=this.wovnContext.jHost,n=this.snippetSettings.token;t.setAttribute("id",qo);t.setAttribute("style","display: none");t.setAttribute("src","".concat(e,"stallion_loader?token=").concat(n));lt.onDomReady(function(){document.body.appendChild(t)})}},{key:"stopRPC",value:function(){var t=this.getStallionIframe();t&&t.remove()}},{key:"setStallionFromEvent",value:function(t){this.stallion=t.source;this.stallion||("http://test-wovn.io"===location.origin?this.stallion=window:this.stallion=this.getStallionIframe().contentWindow)}},{key:"getStallionIframe",value:function(){return document.getElementById(qo)}}])&&Fo(t.prototype,e),n&&Fo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Go(t){return Go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Go(t)}function Jo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$o(r.key),r)}}function $o(t){var e=function(t,e){if("object"!=Go(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Go(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Go(e)?e:e+""}var Ko=function(){return e=function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);i=this,u=null,(a=$o(a="_isLoggedIn"))in i?Object.defineProperty(i,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[a]=u;var i,a,u;this.widgetData=e;this.serverControllerFactory=n;this.sessionProxy=r;this.snippetSettings=o},(n=[{key:"isLoggedIn",get:function(){return!!this._isLoggedIn}},{key:"startAndAuthenticate",value:function(){return null!==this._isLoggedIn?t.Promise.resolve(this._isLoggedIn):this.snippetSettings.isFromAppSdk?t.Promise.resolve(!1):this.authenticate()}},{key:"authenticate",value:function(){return this.widgetData.domainOptions.canUseXhrWidgetSession()?this.authenticateXHR():this.authenticateStallion()}},{key:"authenticateStallion",value:function(){var e=this;return new t.Promise(function(t){lt.onEvent(document,"wovnSessionReady",function(){e._isLoggedIn=!0;t(!0)});lt.onEvent(document,"wovnSessionFailed",function(){e._isLoggedIn=!1;t(!1)});e.sessionProxy.start()})}},{key:"authenticateXHR",value:function(){var e=this;return new t.Promise(function(t){e.serverControllerFactory.xhrWidgetSession.authenticate().then(function(){e._isLoggedIn=!0;t(!0)})["catch"](function(){e._isLoggedIn=!1;t(!1)})})}},{key:"createSession",value:function(){return this.widgetData.domainOptions.canUseXhrWidgetSession()?this.serverControllerFactory.xhrWidgetSession.createSession():this.serverControllerFactory.inPageSession.createSession()}}])&&Jo(e.prototype,n),r&&Jo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function Xo(t){return Xo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xo(t)}function Zo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yo(r.key),r)}}function Yo(t){var e=function(t,e){if("object"!=Xo(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Xo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Xo(e)?e:e+""}var Qo=function(){return e=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widget=e;this.wovnContext=n;this.snippetSettings=r},(n=[{key:"isLoadedComponent",value:function(t){return this.widget.isComponentLoaded(t)}},{key:"loadExternalComponents",value:function(e){var n=this;return new t.Promise(function(t){var r=n.filterOutLoadedComponents(e);r.length?n.loadComponents(r).then(function(){t(n.getLoadedComponents(e))}):t(n.getLoadedComponents(e))})}},{key:"loadComponents",value:function(e){var n=this,r=e.map(function(t){n.insertLoadingScript(t);return n.waitComponentLoaded(t)});return t.Promise.all(r).then(function(){})}},{key:"waitComponentLoaded",value:function(e){return new t.Promise(function(t){_t(e+"Loaded",function(){t(e)})})}},{key:"filterOutLoadedComponents",value:function(t){var e=this;return t.filter(function(t){return!e.isLoadedComponent(t)})}},{key:"insertLoadingScript",value:function(t){var e=document.createElement("SCRIPT");e.setAttribute("type","text/javascript");e.setAttribute("src",this.buildComponentsUrl(t));e.setAttribute("async","");document.head.appendChild(e)}},{key:"buildComponentsUrl",value:function(t){return this.wovnContext.isVersioned?"".concat(this.wovnContext.cdnCacheHost,"widget/").concat(this.snippetSettings.token,"/components/").concat(t,"?v=").concat(d.BUILD_HASH):"".concat(this.wovnContext.jHost,"components/").concat(t,"?v=").concat(d.BUILD_HASH)}},{key:"getLoadedComponents",value:function(t){var e=this;return t.map(function(t){return e.widget.c(t)})}}])&&Zo(e.prototype,n),r&&Zo(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function ti(t){return ti="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ti(t)}function ei(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ni(r.key),r)}}function ni(t){var e=function(t,e){if("object"!=ti(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ti(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ti(e)?e:e+""}var ri="https://wap.wovn.io/1.js";function oi(){return!!document.querySelector('script[src="'.concat(ri,'"]'))}var ii=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.wovnContext=e;this.domainOptions=n;this.wapEnabledCookie=r},(e=[{key:"installIfNeeded",value:function(){if(!this.wovnContext.isProduction()||!this.isWapAuthorized()||oi())return!1;var t=document.createElement("script");t.async=!0;t.src=ri;window.OneTrust&&t.setAttribute("data-ot-ignore","");document.head.appendChild(t);return!0}},{key:"isWapAuthorized",value:function(){return this.domainOptions.canInstallWap(this.wapEnabledCookie)}}])&&ei(t.prototype,e),n&&ei(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function ai(t){return ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ai(t)}function ui(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return si(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?si(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function si(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function li(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ci(r.key),r)}}function ci(t){var e=function(t,e){if("object"!=ai(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ai(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ai(e)?e:e+""}var fi="LiveEditor",pi="LiveEditor2",di=function(){return e=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);r=this,i=!1,(o=ci(o="installed"))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i;var r,o,i;this.externalComponentLoader=e;this.liveEditorSettings=n},(n=[{key:"removeGlobalVue",value:function(){"undefined"!=typeof window&&window.Vue&&(window.Vue=void 0)}},{key:"installIfNeeded",value:function(){var e=this;this.removeGlobalVue();if(this.isInstalled())return t.Promise.resolve(!1);if(window.WOVN){window.WOVN.HOTJAR_ID=d.HOTJAR_ID;window.WOVN.LIVE_EDITOR_METRICS={loadStartedTime:new Date,loadEndedTime:void 0}}var n="2"===this.liveEditorSettings.editorVersionInURL?pi:fi;return this.externalComponentLoader.loadExternalComponents([n]).then(function(t){var n=ui(t,1)[0];e.installed=!0;null==n||n.start();return!0})}},{key:"isInstalled",value:function(){return this.installed}}])&&li(e.prototype,n),r&&li(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function hi(t){return hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hi(t)}function yi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vi(r.key),r)}}function gi(t,e,n){return(e=vi(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vi(t){var e=function(t,e){if("object"!=hi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hi(e)?e:e+""}var mi=function(){return t=function t(e,n,r){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);gi(this,"onAuditStartedListener",function(){return o.onAuditStarted()});gi(this,"onAuditCompletedListener",function(){return o.onAuditCompleted()});this.documentRoot=e;this.auditTrigger=n;this.auditTriggerEvents=r},(e=[{key:"listen",value:function(){var t=this;if(!this.isStarted){this.auditTriggerEvents.subscribe(function(){return t.onAuditStartedListener()},function(){return t.onAuditCompletedListener()});this.isStarted=!0}}},{key:"pause",value:function(){this.isPaused=!0}},{key:"resumeOnNextAudit",value:function(){this.willResumeOnNextAudit=!0;this.auditTrigger.refresh()}},{key:"onAuditStarted",value:function(){if(this.isPaused&&this.willResumeOnNextAudit){this.isPaused=!1;this.willResumeOnNextAudit=!1}}},{key:"onAuditCompleted",value:function(){if(!this.isPaused){this.removeWovnWait();Ot("wovnWaitAuditCompleted")}}},{key:"removeWovnWait",value:function(){lt.toArrayFromDomList(this.documentRoot.querySelectorAll("[wovn-wait], [data-wovn-wait]")).forEach(function(t){t.removeAttribute("wovn-wait");t.removeAttribute("data-wovn-wait")});this.documentRoot.removeAttribute("wovn-isLoading");this.documentRoot.removeAttribute("data-wovn-isLoading")}},{key:"destroy",value:function(){this.removeWovnWait()}}])&&yi(t.prototype,e),n&&yi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),bi=mi;function wi(t){return wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wi(t)}function Si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ti(r.key),r)}}function ki(t,e,n){return(e=Ti(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ti(t){var e=function(t,e){if("object"!=wi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wi(e)?e:e+""}var Ci=function(){return t=function t(e,n,r,o,i,a,u,s,l,c,f){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);ki(this,"currentLang",void 0);ki(this,"mostRecentTraversalResult",null);this.widget=e;this.auditTrigger=n;this.reportHelper=r;this.performanceMonitor=o;this.interfaceComponent=i;this.dynamicLoadingEnabledCookie=a;this.domainOptions=u;this.supervisedContent=s;this.excludedContentScope=l;this.liveEditorSettings=c;this.translationFeedbackState=f},e=[{key:"getMostRecentTraversalResult",value:function(){return this.mostRecentTraversalResult}},{key:"getInternalCurrentLang",value:function(){return this.currentLang}},{key:"isAddableSrc",value:function(t){try{encodeURIComponent(Z(t))}catch(t){return!1}var e=l(t);return""!==e&&!/^(%([a-f]|[0-9]){2})+$/i.test(e)&&this.isAcceptableLanguage(e)}},{key:"isAcceptableLanguage",value:function(t){return"ko"===this.langComponent.getDefaultCodeIfExists()||!this.langComponent.isKoreanText(t)}},{key:"supervisedSwapVals",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement;this.performanceMonitor.mark(Kr.SwapStart);var r=this.excludedContentScope.run(n,function(){return e.swapDocumentContent(t,n)});(this.liveEditorSettings.isEnabled||this.translationFeedbackState.isEnabled)&&(this.mostRecentTraversalResult=r);this.currentLang=t;this.performanceMonitor.mark(Kr.SwapEnd);this.reportHelper.onAuditComplete();this.domainOptions.dynamicLoading(this.dynamicLoadingEnabledCookie)&&this.dynamicLoadingManager.loadRequestedTranslations()}},{key:"swapDocumentContent",value:function(t,e){var n=this;if(this.supervisedContent.isSupervisedPage()){var r=this.supervisedContent.getSupervisedNodes().map(function(e){var r=e.firstChild||e;n.domainOptions.hasFeature("unified_values")&&(r=e);return n.swapVals(t,r)});return vt.reduce(r,function(t,e){return t.merge(e)})}return this.swapVals(t,e)}},{key:"swapVals",value:function(t,e){return this.unifiedValue.swapUnifiedValue(e,this.currentLang,t)}},{key:"langComponent",get:function(){return this.widget.c("Lang")}},{key:"dynamicLoadingManager",get:function(){return this.widget.c("DynamicLoadingManager")}},{key:"unifiedValue",get:function(){return this.widget.c("UnifiedValue")}},{key:"audit",value:function(t,e){var n=this.langComponent.getDefaultCodeIfExists();if(this.currentLang!==n||e%2!=0){var r=this.langComponent.getDocLang()||n;this.supervisedSwapVals(r);if(this.containsThirdPartyContents()){this.reportHelper.haltReporting();this.reportHelper.removeNewSrcs()}this.reportHelper.triggerReportIfNecessary();t&&t()}}},{key:"containsThirdPartyContents",value:function(){return!!this.isChromeTranslating()||!!this.interfaceComponent.isWovnLanguageSwitchesTranslated()||!!this.isGoogleAnalyticsExtensionWorking()}},{key:"isChromeTranslating",value:function(){return document.documentElement.className.match("translated")}},{key:"isGoogleAnalyticsExtensionWorking",value:function(){for(var t=document.getElementsByClassName("view-in-ga-link-logo"),e=0;e<t.length;e++){var n=t[e];if(/chrome-extension:\/\/.+analytics_logo\.png/.test(getComputedStyle(n)["background-image"]))return!0}return!1}},{key:"stop",value:function(){this.reportHelper.reset();this.auditTrigger.stop()}},{key:"destroy",value:function(){this.mostRecentTraversalResult=null;this.stop()}}],e&&Si(t.prototype,e),n&&Si(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Oi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oi(Object(n),!0).forEach(function(e){_i(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oi(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Pi(t){return Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi(t)}function _i(t,e,n){return(e=Li(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ai(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Li(r.key),r)}}function ji(t,e,n){return e&&xi(t.prototype,e),n&&xi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Li(t){var e=function(t,e){if("object"!=Pi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Pi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Pi(e)?e:e+""}var Ii=function(t){t["SUBSCRIBE"]="WOVNIO_SWAP_INTERCOM_SUBSCRIBE";t["UNSUBSCRIBE"]="WOVNIO_SWAP_INTERCOM_UNSUBSCRIBE";t["ACKNOWLEDGE"]="WOVNIO_SWAP_INTERCOM_ACKNOWLEDGE";t["SWAP"]="WOVNIO_SWAP_INTERCOM_SWAP";return t}({}),Di=function(){return ji(function t(e,n){Ai(this,t);this.widget=e;this.lang=n},[{key:"start",value:function(){if(!lt.pageIsWidgetPreview()){this.intercomNode=this.isMasterIntercom()?this.createParentNode():this.createChildNode();this.intercomNode.start()}}},{key:"stop",value:function(){this.intercomNode&&this.intercomNode.stop()}},{key:"destroy",value:function(){this.stop()}},{key:"isMasterIntercom",value:function(){return window.self===window.top}},{key:"createParentNode",value:function(){return new Ni(this.lang,this.getPropertyValueTranslationRepository())}},{key:"createChildNode",value:function(){return new Ri(this.lang,this.getPropertyValueTranslationRepository())}},{key:"getPropertyValueTranslationRepository",value:function(){return this.widget.c("PropertyValueTranslationRepository")}}])}(),Ni=function(){return ji(function t(e,n){var r=this;Ai(this,t);_i(this,"childWindows",[]);_i(this,"onMessage",function(t){return r.listen(t)});_i(this,"onWovnLangChanged",function(){return r.dispatchSwappingRequestToEveryChild()});this.lang=e;this.propertyValueTranslationRepository=n},[{key:"start",value:function(){lt.onEvent(window.self,"message",this.onMessage);_t("wovnLangChanged",this.onWovnLangChanged)}},{key:"stop",value:function(){lt.removeHandler(window.self,"message",this.onMessage);xt("wovnLangChanged",this.onWovnLangChanged)}},{key:"listen",value:function(t){if("object"===Pi(t.data)){var e=t.data,n=t.source;switch(e.type){case Ii.SUBSCRIBE:if(this.addChildNode(n)){var r=this.lang.getDocLang();this.dispatchSwappingRequest(n,r)}break;case Ii.UNSUBSCRIBE:this.removeChildNode(n)}}}},{key:"addChildNode",value:function(t){if(!t)return!1;lt.includes(this.childWindows,t)||this.childWindows.push(t);this.postMessageToChild(Ii.ACKNOWLEDGE,{propertyValues:this.propertyValueTranslationRepository.getPropertyValues()});return!0}},{key:"removeChildNode",value:function(t){var e=this.childWindows.indexOf(t);if(e<0)return!1;this.childWindows.splice(e,1);return!0}},{key:"dispatchSwappingRequest",value:function(t,e){t&&this.postMessageToChild(Ii.SWAP,{lang:e})}},{key:"dispatchSwappingRequestToEveryChild",value:function(){var t=this,e=this.lang.getDocLang();this.childWindows.forEach(function(n){return t.dispatchSwappingRequest(n,e)})}},{key:"postMessageToChild",value:function(t){var e=Ei({type:t},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});this.childWindows.forEach(function(t){return t.postMessage(e,"*")})}}])}(),Ri=function(){return ji(function t(e,n){var r=this;Ai(this,t);_i(this,"parentWindow",window.top);_i(this,"subscribeTimeoutID",null);_i(this,"subscriptionTryCount",0);_i(this,"onMessage",function(t){return r.listen(t)});_i(this,"onBeforeunload",function(){return r.unsubscribe()});this.lang=e;this.propertyValueTranslationRepository=n},[{key:"start",value:function(){lt.onEvent(window.self,"message",this.onMessage);lt.onEvent(window.self,"beforeunload",this.onBeforeunload);this.subscriptionTryCount=0;this.subscribe()}},{key:"stop",value:function(){lt.removeHandler(window.self,"message",this.onMessage);lt.removeHandler(window.self,"beforeunload",this.onBeforeunload);this.unsubscribe()}},{key:"listen",value:function(t){if("object"===Pi(t.data)){var e=t.data;switch(e.type){case Ii.ACKNOWLEDGE:clearTimeout(this.subscribeTimeoutID);e.propertyValues&&this.propertyValueTranslationRepository.updateSavedPropertyValues(e.propertyValues);this.hideWidget();break;case Ii.SWAP:e.lang&&this.lang.setDocLang(e.lang)}}}},{key:"subscribe",value:function(){var t,e=this;if(this.parentWindow&&"frame"!==(null===(t=window.self.frameElement)||void 0===t||null===(t=t.nodeName)||void 0===t?void 0:t.toLowerCase())){this.subscriptionTryCount+=1;this.postMessageToParent(Ii.SUBSCRIBE);this.subscribeTimeoutID=setTimeout(function(){e.subscribe()},1e3*this.subscriptionTryCount)}}},{key:"unsubscribe",value:function(){clearTimeout(this.subscribeTimeoutID);this.postMessageToParent(Ii.UNSUBSCRIBE)}},{key:"hideWidget",value:function(){be(document.querySelector("html"),"wovn-is-child-frame")}},{key:"postMessageToParent",value:function(t){var e=Ei({type:t},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});this.parentWindow.postMessage(e,"*")}}])}(),Ui=n(680),Vi=n.n(Ui);function Hi(t){return Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hi(t)}function Mi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bi(r.key),r)}}function Bi(t){var e=function(t,e){if("object"!=Hi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hi(e)?e:e+""}var Fi=function(){return t=function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.label=e;this.node=n;this.isClose=r;this.textNormalizer=o},(e=[{key:"normalizedSrc",get:function(){return this.textNormalizer.normalizeText(this.src)}}])&&Mi(t.prototype,e),n&&Mi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Wi(t){return Wi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wi(t)}function qi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zi(r.key),r)}}function zi(t){var e=function(t,e){if("object"!=Wi(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Wi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Wi(e)?e:e+""}function Gi(t,e,n){return e=$i(e),function(t,e){if(e&&("object"==Wi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ji()?Reflect.construct(e,n||[],$i(t).constructor):e.apply(t,n))}function Ji(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ji=function(){return!!t})()}function $i(t){return $i=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$i(t)}function Ki(t,e){return Ki=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ki(t,e)}var Xi={"'":"&#39;","&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"},Zi=new RegExp("["+Object.keys(Xi).join("")+"]","g"),Yi=function(t){function e(t,n,r,o,i,a,u,s,l,c){var f;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(f=Gi(this,e,[t,n,!1,s])).original=r;f.nodes=o;f.lookahead=i;f.skipCount=a;f.isHtml=u;f.unifiedValueComments=l;f.ignoreType=c;return f}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ki(t,e)}(e,t);return n=e,(r=[{key:"isText",get:function(){return!0}},{key:"escapedSrc",get:function(){return this.htmlEscapeTextForKeyLookup(this.label)}},{key:"escapedLabel",get:function(){return this.isHtml?this.label:this.htmlEscapeText(this.label)}},{key:"src",get:function(){return this.escapedSrc}},{key:"isTranslated",get:function(){return this.node&&null!=this.unifiedValueComments.getOriginalSrcFromComment(this.node)}},{key:"translationDataSrcKey",get:function(){var t=this.node?this.unifiedValueComments.getOriginalSrcFromComment(this.node):null;return null!==t?this.htmlEscapeTextForKeyLookup(this.textNormalizer.normalizeText(t)):this.src}},{key:"removeComment",value:function(){this.node&&this.unifiedValueComments.removeOriginalSrcComment(this.node)}},{key:"removeNode",value:function(){if(this.node){this.unifiedValueComments.removeOriginalSrcComment(this.node);me(this.node)}}},{key:"htmlEscapeTextForKeyLookup",value:function(t){return this.htmlEscapeText(t).replace(/\u200b/g,"")}},{key:"htmlEscapeText",value:function(t){return t.replace(Zi,function(t){return Xi[t]})}}])&&qi(n.prototype,r),o&&qi(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Fi);function Qi(t){return t.isText}function ta(t){return ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ta(t)}function ea(t,e,n){return e=oa(e),function(t,e){if(e&&("object"==ta(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,na()?Reflect.construct(e,n||[],oa(t).constructor):e.apply(t,n))}function na(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(na=function(){return!!t})()}function ra(){return ra="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=oa(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},ra.apply(null,arguments)}function oa(t){return oa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},oa(t)}function ia(t,e){return ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},ia(t,e)}function aa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ua(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,la(r.key),r)}}function sa(t,e,n){return e&&ua(t.prototype,e),n&&ua(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function la(t){var e=function(t,e){if("object"!=ta(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ta(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ta(e)?e:e+""}var ca="wovn-src:",fa=function(){return sa(function t(){aa(this,t)},[{key:"getOriginalSrcFromComment",value:function(t){var e=this.getOriginalSrcCommentNode(t);return e?this.extractSrcFromComment(e.data):null}},{key:"getOriginalSrcCommentNode",value:function(t){var e=this.previousNonTextSibling(t);if(pa(e))return e}},{key:"hasOriginalSrcComment",value:function(t){return null!=this.getOriginalSrcFromComment(t)}},{key:"insertOriginalSrcComment",value:function(t,e){if(!this.hasOriginalSrcComment(t)){var n=t.parentElement||t.parentNode;if(n){var r=document.createComment(ca+e);"TITLE"===n.nodeName?n.parentNode.insertBefore(r,n):n.insertBefore(r,t)}}}},{key:"removeOriginalSrcComment",value:function(t){var e=this.getOriginalSrcCommentNode(t);e&&e.parentNode.removeChild(e)}},{key:"previousNonTextSibling",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=t.parentElement||t.parentNode;if(n&&"TITLE"===n.nodeName)return n.previousSibling;var r=t.previousSibling;return r?"#text"==r.nodeName?this.previousNonTextSibling(r,t):r:e}},{key:"extractSrcFromComment",value:function(t){if(t){var e=t.indexOf(",wovn-actual-lang:");return-1==e?t.substring(9):t.substring(9,e)}return null}}])}();function pa(t){return function(t){return t&&t.nodeType==Node.COMMENT_NODE}(t)&&0===t.data.indexOf(ca)}var da=function(t){function e(){aa(this,e);return ea(this,e,arguments)}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ia(t,e)}(e,t);return sa(e,[{key:"getOriginalSrcFromComment",value:function(t){var n,r,o,i,a,u=(n=e,r="getOriginalSrcFromComment",o=this,a=ra(oa(1&(i=3)?n.prototype:n),r,o),2&i&&"function"==typeof a?function(t){return a.apply(o,t)}:a)([t]);return u?lt.decodeHTMLEntities(u):null}}])}(fa);function ha(t){return"data-"+ca+"-original-"+t}function ya(t){return ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ya(t)}function ga(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,va(r.key),r)}}function va(t){var e=function(t,e){if("object"!=ya(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ya(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ya(e)?e:e+""}var ma=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]],ba=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"escape",value:function(t){for(var e=t,n=0;n<ma.length;++n){var r=ma[n][0],o=ma[n][1];e=e.replace(new RegExp(r,"g"),o)}return e}},{key:"unescape",value:function(t){for(var e=t,n=ma.length-1;n>=0;--n){var r=ma[n][0],o=ma[n][1];e=e.replace(new RegExp(o,"g"),r)}return e}}])&&ga(t.prototype,e),n&&ga(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),wa=new ba;function Sa(t){return Sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sa(t)}function ka(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ta(r.key),r)}}function Ta(t){var e=function(t,e){if("object"!=Sa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sa(e)?e:e+""}var Ca=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return e=t,r=[{key:"detectAllImageTypes",value:function(e,n){var r=t.isSrcsetImage(e,n),o=t.isInputImage(e),i=t.isMetaImage(e);return{isSrcsetImage:r,isInputImage:o,isMetaImage:i,isAnyImage:i||r||t.isImageUrl(e,n)}}},{key:"isImageUrl",value:function(e,n){return!(!e||!n)&&t.isImage(e)&&"src"===n}},{key:"isImage",value:function(e){return!!e&&("IMG"===e.nodeName||t.isInputImage(e))}},{key:"isSrcsetImage",value:function(t,e){return!(!t||!e||"IMG"!==t.nodeName&&"SOURCE"!==t.nodeName||"srcset"!==e)}},{key:"isInputImage",value:function(t){var e=t.getAttribute("type");return"INPUT"===t.nodeName&&"string"==typeof e&&"image"===e.toLowerCase()}},{key:"isMetaImage",value:function(t){var e=t.getAttribute("property");return vt.includes(["og:image","og:image:url","og:image:secure_url","twitter:image"],e)}}],(n=null)&&ka(e.prototype,n),r&&ka(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}(),Oa=Ca;function Ea(t){return Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ea(t)}function Pa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_a(r.key),r)}}function _a(t){var e=function(t,e){if("object"!=Ea(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ea(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ea(e)?e:e+""}var Aa="wovn-on-demand",xa="wovn-on-demand-trigger",ja="wovn-on-demand-source",La="wovn-on-demand-result";var Ia=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.domainOptions=e;this.onDemandTranslationController=n;this.widget=r},e=[{key:"bindOdtClickEvent",value:function(t){var e=this;this.isOnDemandTranslationActive()&&Oe(t)&&this.isValidOdtElement(t)&&(t.querySelector("[".concat(xa,"], [data-").concat(xa,"]")).onclick=function(t){return e.onTriggerClick(t)})}},{key:"isValidOdtElement",value:function(t){return Pe(t,Aa)&&t.querySelectorAll("[".concat(ja,"], [data-").concat(ja,"]")).length>0&&t.querySelectorAll("[".concat(xa,"], [data-").concat(xa,"]")).length>0&&t.querySelectorAll("[".concat(La,"], [data-").concat(La,"]")).length>0}},{key:"onTriggerClick",value:function(t){var e=this;t.stopPropagation();t.preventDefault();t.target.setAttribute("disabled",!0);var n=this.getOdtContainer(t.target);if(n){var r=n.querySelector("[".concat(ja,"], [data-").concat(ja,"]")),o=this.langComponent.getActualLang();this.translateNode(r,o).then(function(r){e.insertTranslationResult(n,r);t.target.removeAttribute("disabled")})["catch"](function(){t.target.removeAttribute("disabled")})}}},{key:"getOdtContainer",value:function(t){if(!this.isOnDemandTranslationActive())return null;for(var e=t.parentElement;e;){if(Pe(e,Aa))return e;e=e.parentElement}}},{key:"langComponent",get:function(){return this.widget.c("Lang")}},{key:"getOdtResultNode",value:function(t){var e=t.querySelector("[".concat(La,"], [data-").concat(La,"]"));e.setAttribute("style","");return e}},{key:"insertTranslationResult",value:function(t,e){var n=this.getOdtResultNode(t);n.innerHTML=e[0].dst;n.focus()}},{key:"clearOdtResults",value:function(){if(this.isOnDemandTranslationActive())for(var t=document.querySelectorAll("[".concat(La,"], [data-").concat(La,"]")),e=0;e<t.length;e++){var n=t[e];n.innerHTML="";n.setAttribute("style","display: none")}}},{key:"translateNode",value:function(t,e){if(this.isOnDemandTranslationActive()){var n=[t.innerHTML.replace(/(<\w+)(\s+?)[^>]*/g,"$1")];return this.translateTexts(n,e)}}},{key:"isOnDemandTranslationActive",value:function(){return this.domainOptions.hasFeature("on_demand_translation")}},{key:"translateTexts",value:function(t,e){if(e&&t&&t.length>0)return this.onDemandTranslationController.translateTexts(t,e).then(function(t){return t.body.translations})}}],e&&Pa(t.prototype,e),n&&Pa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();var Da=function(t){t[t["IGNORE"]=1]="IGNORE";t[t["INLINE"]=2]="INLINE";t[t["INLINE_IGNORED"]=3]="INLINE_IGNORED";t[t["TEXT"]=4]="TEXT";t[t["TAG"]=5]="TAG";t[t["BLOCK"]=6]="BLOCK";return t}({}),Na={symbol:{title:!0,desc:!0}};function Ra(t,e){return"IMG"===e&&/googlesyndication\.com/i.test(t.getAttribute("src"))}function Ua(t,e){return"A"===e&&i(t.hostname,"buysellads.com")}function Va(t,e){var n;return!(n=t.nodeName.toLowerCase(),Na[n]||{})[e.nodeName.toLowerCase()]}function Ha(t){return function(e){return ve(e)?Pe(e,"wovn-instant-translation")?ir.All:Ma(e,t):ir.None}}function Ma(t,e){return function(t){return function(t){return Pe(t,"wovn-ignore")}(t)||function(t){return 1===t.naturalWidth&&1===t.naturalHeight}(t)||function(t){return Pe(t,La)||Pe(t,ja)}(t)||function(t){return e=t,n=t.nodeName,[Ra,Ua].some(function(t){return t(e,n)});var e,n}(t)}(t)||function(t,e){return e.ignoreInlineDisplayNoneElements&&function(t){var e=t.getAttribute("style"),n=/display:\s*none;?/;return null!=e&&n.test(e)}(t)}(t,e)?ir.All:function(t){return Pe(t,"wovn-ignore-content")}(t)?ir.TagContent:function(t){return Pe(t,"wovn-ignore-attrs")}(t)?ir.Attributes:ir.None}function Ba(t){return Ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ba(t)}function Fa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wa(r.key),r)}}function Wa(t){var e=function(t,e){if("object"!=Ba(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ba(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ba(e)?e:e+""}var qa=function(t){t[t["Path"]=0]="Path";t[t["Query"]=1]="Query";t[t["Subdomain"]=2]="Subdomain";t[t["CustomDomain"]=3]="CustomDomain";return t}({});function za(t){return t==qa.Subdomain||t==qa.CustomDomain}var Ga="wovn",Ja=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.token=null;this.isBackend=!1;this.defaultLang=null;this.currentLang=null;this.urlPattern=null;this.sitePrefixPaths=[];this.langParamName=Ga;this.customDomainLangs=null;this.langCodeAliases={};this.snippetType=n;this.token=this.readSetting(e,"key");if(!this.token)throw new Error("WovnWidgetError - Missing snippet setting: key (token)");this.isCreeper=vt.includes(["true","creeper","toolbox","activator"],this.readSetting(e,"creeper"));this.isBackend="true"===this.readSetting(e,"backend");this.isCrawlerScrapingEnabled="true"===this.readSetting(e,"wovnScrape");this.isShopify="true"===this.readSetting(e,"shopify");this.isFromAppSdk="nativeSdk"===this.readSetting(e,"appType")||"app.wovn.io"===(null==r?void 0:r.host);this.topWindowOnly="true"===this.readSetting(e,"topWindowOnly");this.traceId=this.readSetting(e,"traceId");this.langParamName=this.readSetting(e,"langParamName")||Ga;if(this.isBackend){this.defaultLang=this.readSetting(e,"defaultLang");this.currentLang=this.readSetting(e,"currentLang");switch(this.readSetting(e,"urlPattern")){case"path":this.urlPattern=qa.Path;var o=this.readSetting(e,"sitePrefixPath")||this.readSetting(e,"site_prefix_path")||"";this.sitePrefixPaths=""===o?[""]:o.split(",").map(function(t){return p(t.trim(),"/")}).sort(function(t,e){return e.length-t.length});break;case"query":this.urlPattern=qa.Query;break;case"subdomain":this.urlPattern=qa.Subdomain;break;case"custom_domain":this.urlPattern=qa.CustomDomain;this.customDomainLangs=this.readCustomDomainLangs(e);break;default:throw new Error("Invalid urlPattern snippet setting")}this.langCodeAliases=this.readLangCodeAliases(e)}},(e=[{key:"readSetting",value:function(t,e){var n=new RegExp(e+"=([^&]+)","i"),r=t.match(n);return r?r[1]:null}},{key:"readLangCodeAliases",value:function(t){var e=this.readSetting(t,"langCodeAliases");return this.parseJsonValue(e)}},{key:"readCustomDomainLangs",value:function(t){var e=this.readSetting(t,"customDomainLangs");return this.parseJsonValue(e)}},{key:"parseJsonValue",value:function(t){try{var e=JSON.parse(t);return e&&Object.keys(e).length>0?e:{}}catch(t){return{}}}}])&&Fa(t.prototype,e),n&&Fa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),$a=/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?(([+-]\d{2}:\d{2})|Z)?$/i;function Ka(t){return Ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ka(t)}function Xa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Za(r.key),r)}}function Za(t){var e=function(t,e){if("object"!=Ka(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ka(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ka(e)?e:e+""}var Ya=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},(e=[{key:"reportSchemaTags",value:function(t){var e=this,n=[];lt.toArrayFromDomList(t.querySelectorAll('script[type="application/ld+json"]:not([data-wovn-ignore]):not([wovn-ignore])')).forEach(function(t){try{var r=JSON.parse(t.textContent);n=n.concat(e.recursiveTraverse(r))}catch(t){}});return n}},{key:"recursiveTraverse",value:function(t){var e=this,n=[];this.isArray(t)?t.forEach(function(t){n=n.concat(e.recursiveTraverse(t))}):this.isObject(t)?Object.keys(t).forEach(function(r){if(e.isTranslatableKey(r)){var o=t[r];n=n.concat(e.recursiveTraverse(o))}}):this.isTranslatableContent(t)&&n.push(t);return n}},{key:"isTranslatableKey",value:function(t){return!t.startsWith("@")}},{key:"isArray",value:function(t){return Array.isArray(t)}},{key:"isObject",value:function(t){return"object"===Ka(t)}},{key:"isTranslatableContent",value:function(t){return"string"==typeof t&&!x(t)&&!this.isNumber(t)&&!this.isDate(t)}},{key:"isNumber",value:function(t){return/^[0-9.]+$/.test(t)}},{key:"isDate",value:function(t){return e=t,$a.test(e);var e}}])&&Xa(t.prototype,e),n&&Xa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Qa(t){return Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qa(t)}function tu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eu(r.key),r)}}function eu(t){var e=function(t,e){if("object"!=Qa(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qa(e)?e:e+""}var nu=function(){return t=function t(e,n,r){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.xpath=e;this.element=n;this.ignoreType=r;this.isInsideCssBackgroundImageScope=o;this.isThirdParty=i;this._nodeName=null;this._computedStyle=null;this._backgroundImageProperty=null},(e=[{key:"style",get:function(){return this.element.style}},{key:"hasAttribute",value:function(t){return this.element.hasAttribute(t)}},{key:"getAttribute",value:function(t){return this.element.getAttribute(t)}},{key:"setAttribute",value:function(t,e){this.element.setAttribute(t,e)}},{key:"setAttributeIfNeeded",value:function(t,e){this.element.getAttribute(t)!=e&&this.element.setAttribute(t,e)}},{key:"nodeName",get:function(){this._nodeName||(this._nodeName=this.element.nodeName);return this._nodeName}},{key:"computedStyle",get:function(){this._computedStyle||(this._computedStyle=window.getComputedStyle(this.element));return this._computedStyle}},{key:"backgroundImageProperty",get:function(){null===this._backgroundImageProperty&&(this._backgroundImageProperty=this.computedStyle.getPropertyValue("background-image"));return this._backgroundImageProperty}}])&&tu(t.prototype,e),n&&tu(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function ru(t){return ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ru(t)}function ou(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,iu(r.key),r)}}function iu(t){var e=function(t,e){if("object"!=ru(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ru(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ru(e)?e:e+""}var au=new RegExp("^(".concat(["description","title","og:description","og:title","twitter:description","twitter:title"].join("|"),")$"),"i"),uu=new RegExp("^(".concat(["og:description","og:title","og:site_name","twitter:description","twitter:title"].join("|"),")$"),"i"),su=["placeholder"],lu={search:["value","placeholder"],button:["value","placeholder","data-confirm","data-disable-with"],submit:["value","placeholder","data-confirm","data-disable-with"],image:["src","alt","placeholder","data-confirm","data-disable-with"],reset:["value"]},cu={option:["label"],a:["title"],optgroup:["label"],img:["alt","srcset","src"],textarea:["placeholder"],source:["srcset"]},fu={a:["href"],div:["onclick"],area:["src"],iframe:["src"]},pu=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.domainOptionsWrapper=e;this.attrs=this.buildAttrs();this.tagAttrs=this.buildTagAttrs();this.tagAttrsCondition=this.buildTagAttrsCondition()},(e=[{key:"getReportOnlyAttributes",value:function(t){var e=t.nodeName.toLowerCase();return fu[e]||[]}},{key:"getSwappableAttributes",value:function(t){var e=t.nodeName.toLowerCase(),n=[];function r(t){n.push(t)}this.attrs.forEach(r);(this.tagAttrs[e]||[]).forEach(r);((this.tagAttrsCondition[e]||function(){})(t)||[]).forEach(r);return n}},{key:"buildTagAttrsCondition",value:function(){return{meta:this.metaAttrs,input:this.inputAttrs}}},{key:"metaAttrs",value:function(t){var e=au.test(t.getAttribute("name"))||uu.test(t.getAttribute("property")),n=Oa.isMetaImage(t);return e||n?["content"]:[]}},{key:"inputAttrs",value:function(t){var e=t.getAttribute("type"),n=su;e&&(e=e.toLowerCase())in lu&&(n=lu[e]);return n}},{key:"buildAttrs",value:function(){return[].concat(this.commonCustomAttributes)}},{key:"buildTagAttrs",value:function(){var t=lt.assign({},cu),e=this.tagSpecificCustomAttributes;for(var n in e){var r=e[n];t[n]=(t[n]||[]).concat(r)}return t}},{key:"customTagAttributes",get:function(){return this.domainOptionsWrapper.getCustomAttributes()}},{key:"commonCustomAttributes",get:function(){return this.customTagAttributes["*"]||[]}},{key:"tagSpecificCustomAttributes",get:function(){var t={};for(var e in this.customTagAttributes)"*"!==e&&(t[e]=this.customTagAttributes[e]);return t}}])&&ou(t.prototype,e),n&&ou(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function du(t){return(n=d.FASTLY_IMAGE_PREFIX,"string"==typeof(e=t)&&"string"==typeof n&&-1!==e.indexOf(n))||/^https:\/\/[\w-]*wovn\.global\.ssl\.fastly\.net/.test(t);var e,n}function hu(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return yu(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?yu(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function yu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var gu=function(t){t["PlainText"]="text";t["Html"]="html";t["PageSpecificHtml"]="page_html";t["Image"]="image";return t}({});function vu(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=t[e];i||(i=t[e]={});var a=i[r];if(a){a[0].data=n;o&&(a[0].published_dst=n)}else{var u={data:n};o&&(u.published_dst=n);i[r]=[u]}}function mu(t,e){delete t[e]}function bu(t){var e,n={},r=hu(t);try{for(r.s();!(e=r.n()).done;)for(var o=e.value,i=0,a=Object.keys(o);i<a.length;i++){var u=a[i];n[u]=n[u]||{};for(var s=0,l=Object.keys(o[u]);s<l.length;s++){var c=l[s];n[u][c]=n[u][c]||[];n[u][c]=o[u][c]}}}catch(t){r.e(t)}finally{r.f()}return n}function wu(t){return wu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wu(t)}function Su(t){return function(t){if(Array.isArray(t))return ku(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return ku(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ku(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ku(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Tu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cu(r.key),r)}}function Cu(t){var e=function(t,e){if("object"!=wu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wu(e)?e:e+""}var Ou=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{creationTime:void 0,manualPublishedDate:void 0};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.textVals=e;this.imgVals=n;this.htmlTextVals=r;this.pageTextVals=o;this.metadata=i}return e=t,n=[{key:"isEmpty",get:function(){return 0===Object.keys(this.textVals).length&&0===Object.keys(this.imgVals).length&&0===Object.keys(this.htmlTextVals).length&&0===Object.keys(this.pageTextVals).length}},{key:"merge",value:function(e){var n=bu([this.textVals,e.textVals]),r=bu([this.htmlTextVals,e.htmlTextVals]),o=bu([this.pageTextVals,e.pageTextVals]);return new t(n,bu([this.imgVals,e.imgVals]),r,o,{manualPublishedDate:e.metadata.manualPublishedDate,creationTime:this.metadata.creationTime?Math.min(this.metadata.creationTime,e.metadata.creationTime):void 0})}},{key:"allTextTranslations",value:function(){function t(t){var e=Object.keys(t).map(function(e){return n=t[e],Object.keys(n).map(function(t){return n[t]});var n});return vt.flatten(e).map(function(t){return t["data"]})}return[].concat(Su(t(this.textVals)),Su(t(this.htmlTextVals)),Su(t(this.pageTextVals)))}},{key:"getTranslationHash",value:function(t){switch(t){case gu.PlainText:return this.textVals;case gu.Html:return this.htmlTextVals;case gu.PageSpecificHtml:return this.pageTextVals;case gu.Image:return this.imgVals}}},{key:"removeSourceKey",value:function(t){mu(this.textVals,t);mu(this.imgVals,t);mu(this.htmlTextVals,t);mu(this.pageTextVals,t)}},{key:"filterLanguages",value:function(e){return new t(this.filterByLangs(e,this.textVals),this.filterByLangs(e,this.imgVals),this.filterByLangs(e,this.htmlTextVals),this.filterByLangs(e,this.pageTextVals),this.metadata)}},{key:"filterByLangs",value:function(t,e){var n={},r=function(){var r=e[o],i=Object.keys(r).filter(function(e){return-1!=t.indexOf(e)}),a={};i.forEach(function(t){a[t]=r[t]});Object.keys(a).length>0&&(n[o]=a)};for(var o in e)r();return n}}],r=[{key:"createFromServer",value:function(e){return new t(e.text_vals||{},e.img_vals||{},e.html_text_vals||{},e.page_text_vals||{})}}],n&&Tu(e.prototype,n),r&&Tu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function Eu(t){return Eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(t)}function Pu(t){return function(t){if(Array.isArray(t))return _u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return _u(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_u(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Au(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ju(r.key),r)}}function xu(t,e,n){return(e=ju(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ju(t){var e=function(t,e){if("object"!=Eu(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Eu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Eu(e)?e:e+""}var Lu=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);xu(this,"attributes",[]);xu(this,"images",[]);xu(this,"valuesStacks",[])}return e=t,(n=[{key:"merge",value:function(e){var n=new t;n.attributes=vt.distinctBy([].concat(Pu(this.attributes),Pu(e.attributes)),function(t){return t.sourceKey});n.images=vt.distinctBy([].concat(Pu(this.images),Pu(e.images)),function(t){return t.sourceKey});n.valuesStacks=vt.distinctBy([].concat(Pu(this.valuesStacks),Pu(e.valuesStacks)),function(t){return t.translationDataSrcKey});return n}}])&&Au(e.prototype,n),r&&Au(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}(),Iu=JSON.parse('{"inlineElements":["a","abbr","b","bdi","bdo","button","cite","code","data","dfn","em","i","kbd","label","legend","mark","meter","option","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var"],"inlineIgnoredElements":["script"],"emptyElements":["br","input","param","source","track","wbr"],"skipElements":["base","command","link","noscript","style","template"],"skipElementsWithoutAttributes":["textarea"]}');function Du(t){return!vt.includes(Iu.emptyElements,t)}var Nu=Iu;function Ru(t){return Ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(t)}function Uu(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Vu(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vu(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Vu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Hu(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mu(r.key),r)}}function Mu(t){var e=function(t,e){if("object"!=Ru(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ru(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ru(e)?e:e+""}var Bu=function(){function t(e,n,r,o,i,a,u,s,l,c,f,p,d,h,y,g,v,m,b,w,S,k,T,C){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widget=e;this.widgetData=n;this.srcSetUtils=r;this.attributes=o;this.textNormalizer=i;this.instantTranslationController=a;this.snippetSettings=u;this.valuesStackBalancer=s;this.domTraversalFactory=l;this.unifiedValueComments=c;this.valuesStackGenerator=f;this.reportHelper=p;this.lang=d;this.translationChangeDetector=h;this.urlFormatterFactory=y;this.translationDataStorage=g;this.url=v;this.liveEditorSettings=m;this.translationLookup=b;this.imageTranslationLookup=w;this.translationManager=S;this.dynamicLoadingManager=k;this.clientLocation=T;this.widgetPreview=C}return e=t,n=[{key:"swapUnifiedValue",value:function(t,e,n){this.beforeSwapUnifiedValue(t);return this._swapUnifiedValue(t,e,n,this.widgetData.getIgnoredPatterns())}},{key:"_swapUnifiedValue",value:function(t,e,n,r){var o=this,i=this.lang.getDefaultCodeIfExists();e===n&&(e=i);e=e||this.lang.getActualLang();var a=this.setup(e,n,i);if(a){var u=this.domTraversalFactory.create(),s=new Lu;this.widgetData.domainOptions.hasFeature("schema_translation")&&(new Ya).reportSchemaTags(t).forEach(function(t){o.translationLookup.hasTranslation(t,n)||o.reportHelper.markHasNewMissedSrcIfFirstSeen(t);o.addSrcOfReportHelper(t,'//script[@type="application/ld+json"]/text()',!0)});this.widgetData.domainOptions.hasFeature("instant_translation")&&this.swapInstantTranslationNodes(t,u,r,a,n);var l=Ha(r),c=u.run(t,l);s.valuesStacks=c.valuesStacks;if(this.widgetData.domainOptions.hasFeature("widget_translation_change_detection")&&!this.liveEditorSettings.isEnabled){this.translationChangeDetector.removeOrphanedComments(t);this.translationChangeDetector.removeCommentsFromModifiedTextNodes(c.valuesStacks,a)}if(n===a.defaultLangCode){c.valuesStacks.forEach(function(t){o.reportValueStack(t,a);t.textFragments.forEach(function(t){o.restoreOriginalText(t)})});c.tags.forEach(function(t){o.restoreOriginalTag(a,t)})}else{c.tags.forEach(function(t){o.storeOriginalTag(a,t)});c.valuesStacks.forEach(function(t){var e=t.path,r=t.translationDataSrcKey;if(!t.isFullyTranslated)if(o.translationLookup.hasTranslation(r,n))o.storeOriginalValueStackTexts(t);else{o.reportHelper.markHasNewMissedSrcIfFirstSeen(r);o.dynamicLoadingManager.addTranslationRequest(r,n)}o.addSrcOfReportHelper(r,e,!0,o.debugHtmlForUvReport(t))})}this.reportTags(c,a,s);c.tags.forEach(function(t){sr(t.ignoreType)||o.shouldLeaveChildIframeToApplyPropVals(t)||o.propertyValueSwapper.swap(t.element,n,n!==e)});if(n!==a.defaultLangCode){c.tags.forEach(function(t){o.changeTag(a,t)});c.valuesStacks.forEach(function(t){o.changeUv(a,t)})}return s}}},{key:"shouldLeaveChildIframeToApplyPropVals",value:function(t){var e;return t.xpath.indexOf("iframe")>=0&&(null===(e=t.element.ownerDocument.defaultView)||void 0===e?void 0:e.WOVN)}},{key:"swapInstantTranslationNodes",value:function(t,e,n,r,o){var i=this,a=function(t){return lt.toArrayFromDomList(t.querySelectorAll("[wovn-instant-translation], [data-wovn-instant-translation]")||[])}(t);if(!(a.length<1)){var u=function(t){return function(e){return ve(e)?Ma(e,t):ir.None}}(n);a.forEach(function(t){var n=e.run(t,u);o===r.defaultLangCode?n.valuesStacks.forEach(function(t){t.textFragments.forEach(function(t){i.restoreOriginalText(t)});i.reportValueStack(t,r)}):n.valuesStacks.forEach(function(t){var e=t.path,n=t.translationDataSrcKey;t.isFullyTranslated||i.translationLookup.hasTranslation(n,o)||i.reportHelper.markHasNewMissedSrcIfFirstSeen(n);i.addSrcOfReportHelper(n,e,!0,i.debugHtmlForUvReport(t));i.changeInstantUv(o,t)})})}}},{key:"reportValueStack",value:function(t,e){var n=t.path,r=t.translationDataSrcKey;this.translationLookup.hasTranslation(r,e.toLangCode)||this.reportHelper.markHasNewMissedSrcIfFirstSeen(r);this.addSrcOfReportHelper(r,n,!0,this.debugHtmlForUvReport(t))}},{key:"debugHtmlForUvReport",value:function(t){return this.widgetData.domainOptions.hasFeature("swappers_diagnostics")?t.debugHtml:""}},{key:"reportTags",value:function(t,e,n){var r=this,o=/^location.href=['"]([^'"]+)/;t.tags.forEach(function(t){if(!sr(t.ignoreType)){r.reportBackgroundImages(t,e,n);r.widgetData.domainOptions.isReportLinksEnabled()&&r.attributes.getReportOnlyAttributes(t).forEach(function(n){var i=r.getAttr(t,n,e.defaultLangCode,e);if(i&&!Oa.detectAllImageTypes(t,n).isAnyImage)if("onclick"===n){var a=i.match(o);if(a){var u=a[1];r.reportPageLink(u)}}else"href"!==n&&"src"!==n||r.reportPageLink(i)},r);r.attributes.getSwappableAttributes(t).forEach(function(o){var i=r.getAttr(t,o,e.defaultLangCode,e);if(i){var a=Oa.detectAllImageTypes(t,o),u=a.isSrcsetImage,s=a.isInputImage,l=a.isMetaImage;if(a.isAnyImage)(u?r.srcSetUtils.parseSrcSetUrls(i):[i]).forEach(function(a){var c=t.xpath;l&&(c+=r.getMetaTagXpathAttributeSelector(t));(l||s)&&(c+="[@image]");u&&(c+="[@srcset]");var f=r.getImageTranslationDataSrcKey(a);r.imageTranslationLookup.find(f,e.toLangCode)||r.reportHelper.markHasNewMissedSrcIfFirstSeen(i);r.addReportableImage(t.element,o,f,c,n)},r);else{var c="META"==t.nodeName?t.xpath+r.getMetaTagXpathAttributeSelector(t):"".concat(t.xpath,"[@").concat(o,"]"),f=r.getAttributeTranslationDataSrcKey(i);if(!r.translationLookup.hasTranslation(f,e.toLangCode)){r.reportHelper.markHasNewMissedSrcIfFirstSeen(f);r.dynamicLoadingManager.addTranslationRequest(f,e.toLangCode)}r.addReportableAttribute(t.element,o,f,c,n)}}},r)}},this)}},{key:"reportPageLink",value:function(t){if(L(t,location)){var e=P(t),n=P(this.widget.getLocation(e.href));e.origin!==location.origin||this.url.isExcludedUrl(n)||this.reportHelper.addLink(n.href)}}},{key:"getMetaTagXpathAttributeSelector",value:function(t){var e=t.getAttribute("name"),n=t.getAttribute("property");return null!=e?"[@name=".concat(e,"]"):"[@property=".concat(n,"]")}},{key:"getImageTranslationDataSrcKey",value:function(t){var e=this.urlFormatterFactory.convertToFullUrl(t),n=this.urlFormatterFactory.createFromUrl(e).getNormalizedPageUrl(this.widget.isBackend(),this.widget.getBackendUrlPattern());return this.applyImageDomainOverride(n)}},{key:"applyImageDomainOverride",value:function(t){if(null===this.clientLocation)return t;var e=P(t);e.host=this.clientLocation.hostWithoutLangCode;return _(e)}},{key:"addReportableImage",value:function(t,e,n,r,o){this.addReportableAttributeGeneric(o.images,t,e,n,r)}},{key:"addReportableAttribute",value:function(t,e,n,r,o){this.addReportableAttributeGeneric(o.attributes,t,e,n,r)}},{key:"addReportableAttributeGeneric",value:function(t,e,n,r,o){t.push({attributeName:n,element:e,sourceKey:r,xpath:o});this.addSrcOfReportHelper(r,o,!1)}},{key:"reportBackgroundImages",value:function(t,e,n){var r=this;this.widgetData.domainOptions.canTranslateCssBackgroundImages()&&t.isInsideCssBackgroundImageScope&&lt.canStyleChange(t)&&this.getBackgroundImagesForKeyLookup(t).forEach(function(o){var i=r.getImageTranslationDataSrcKey(o);r.imageTranslationLookup.find(i,e.toLangCode)||r.reportHelper.markHasNewMissedSrcIfFirstSeen(i);r.addReportableImage(t.element,"style",i,t.xpath+"[@background-image]",n)})}},{key:"findTranslation",value:function(t,e,n){var r=this.lang.getDefaultCodeIfExists();this.setup(e,n,r);var o=this.translationLookup.findTranslation(t,n);return o?{src:o.src,created_at:o.created_at}:null}},{key:"findImageTranslation",value:function(t,e,n){var r=this.lang.getDefaultCodeIfExists(),o=this.setup(e,n,r),i=this.getImageTranslationDataSrcKey(t),a=this.imageTranslationLookup.find(i,o.toLangCode);return a?{src:a.dst_url,created_at:a.created_at}:null}},{key:"findDstFragments",value:function(t,e,n){var r=this.lang.getDefaultCodeIfExists();this.setup(e,n,r);var o=t,i=null,a="",u=!1,s=!0,l=this.translationLookup.findTranslation(t.src,n);if(l){s=l.is_html;u=l.is_page_translation;i=(o=l).created_at;a=o.published_dst;o.fragments.length!==t.fragments.length&&(o=this.valuesStackBalancer.addEmptyTextNodes(o))}return{is_html:s,published_dst:a,is_page_translation:u,created_at:i,fragments:o.fragments,src:o.src}}},{key:"setup",value:function(t,e,n){var r=this,o=this.liveEditorSettings.isEnabled,i=t===e&&t===n,a=!1;if(this.translationLookup.isEmpty&&this.imageTranslationLookup.isEmpty){this.refreshCache();a=this.snippetSettings.isBackend&&this.snippetSettings.currentLang!==n&&i}return{defaultLangCode:n,fromLangCode:t,toLangCode:e,tags:{a:o||i&&!a?this.noop:function(t){return r.replaceHref(e,t)},area:o||i&&!a?this.noop:function(t){return r.replaceHref(e,t)},form:function(t){return r.replaceForm(e,t)},iframe:function(t){return r.replaceIframeSrc(e,t)}}}}},{key:"getAttr",value:function(t,e,n,r){var i=this.getOriginalStoredAttrValue(r,t,e);if("src"===e){if(null!==i)return i;var a=t.getAttribute("src");return o(a,"#")?null:this.snippetSettings.urlPattern!==qa.Path||/^(https?:\/\/|\/)/.test(a)?a:this.url.getUrl(n,a,!0)}return null!==i?i:t.getAttribute(e)}},{key:"changeTag",value:function(e,n){var r=this;if(!sr(n.ignoreType)){var o=n.nodeName.toLowerCase(),i=e.tags[o];i&&i(n);for(var a=this.attributes.getSwappableAttributes(n),u=0;u<a.length;++u){var s=a[u],l=Oa.isSrcsetImage(n,s),c=l||Oa.isImageUrl(n,s);if(!c||!this.imageTranslationLookup.isEmpty){var f=this.getAttr(n,s,e.defaultLangCode,e);if(f){var p=this.getAttributeTranslationDataSrcKey(f);if(c)if(l){var d=this.translateSrcset(f,e.toLangCode);n.setAttributeIfNeeded("srcset",d)}else{var h=this.getImageTranslationDataSrcKey(p),y=this.imageTranslationLookup.find(h,e.toLangCode);if(null==y||!y.dst_url){this.restoreOriginalAttribute(e,n,s);continue}n.setAttributeIfNeeded(s,y.dst_url)}else{var g=this.translationLookup.findTranslation(p,e.toLangCode);if(!g){this.restoreOriginalAttribute(e,n,s);continue}var v=t.toText(g);n.setAttribute(s,wa.unescape(v))}}}}if(this.widgetData.domainOptions.canTranslateCssBackgroundImages()&&n.isInsideCssBackgroundImageScope&&lt.canStyleChange(n)){var m=this.getBackgroundImagesForKeyLookup(n);if(m.length>0){var b=!1,w=m.map(function(t){var n=r.getImageTranslationDataSrcKey(t),o=r.imageTranslationLookup.find(n,e.toLangCode);o&&(b=!0);return o?o.dst_url:t});b?this.replaceBackgroundImages(n,w):this.restoreBackgroundImage(n)}}}}},{key:"getAttributeTranslationDataSrcKey",value:function(t){return this.textNormalizer.normalizeText(t)}},{key:"replaceBackgroundImages",value:function(t,e){var n=t.style.getPropertyPriority("background-image"),r=e.map(function(t){return"url("+t+")"}).join(", ");t.style.setProperty("background-image",r,n)}},{key:"setOriginalBackgroundImageAttributeIfNeeded",value:function(t){var e=ha("background-image");if(!t.hasAttribute(e)){var n=t.style.getPropertyValue("background-image")||"";if(n||!/^(none)?$/.test(t.backgroundImageProperty)){"important"===t.style.getPropertyPriority("background-image")&&(n+="!important");t.setAttribute(e,n)}}}},{key:"forceBackgroundImages",value:function(t,e){var n=new nu("",t,ir.None),r="";this.setOriginalBackgroundImageAttributeIfNeeded(n);e.length>0&&(r=e.map(function(t){return"url(".concat(t,")")}).join(", "));n.style["backgroundImage"]=r}},{key:"getBackgroundImagesForKeyLookup",value:function(t){var e=t.style.getPropertyValue("background-image")||"",n=t.style.getPropertyPriority("background-image");this.restoreBackgroundImage(t);var r=ha("background-image"),o=t.hasAttribute(r)?t.getAttribute(r).split("!")[0]:"",i=o.length>0?o:t.backgroundImageProperty;t.style.setProperty("background-image",e,n);return i?function(t){var e=[];t.split(/,\s+/).forEach(function(t){var n=/^url\(["']?([^"']+?)["']?\)?$/.exec(t);n&&e.push(n[1])});return e}(i).map(function(t){return P(t).href}):[]}},{key:"changeUv",value:function(t,e){var n=e.translationDataSrcKey,r=this.translationLookup.findTranslation(n,t.toLangCode);r?this.unifiedValuesReplace(e,r):this.fragmentedValueReplace(e,t)}},{key:"changeInstantUv",value:function(t,e){var n=this,r=e.translationDataSrcKey,o=this.translationLookup.findTranslation(r,t);if(o){this.storeOriginalValueStackTexts(e);this.unifiedValuesReplace(e,o)}else this.instantTranslationController.translate(r,t).then(function(i){var a=i.body;o=n.valuesStackGenerator.createValuesStackFromHtml(a.dst);n.translationManager.addInstantTranslation(r,a.dst,t);n.storeOriginalValueStackTexts(e);n.unifiedValuesReplace(e,o)})}},{key:"unifiedValuesReplace",value:function(e,n){var r=t.extractTextNodes(e),o=t.extractTextNodes(n);if(r.length===o.length)for(var i=e.fragments[0].node.parentNode,s=0;s<r.length;++s){var l=r[s],c=o[s];if(l.isText){l.lookahead.forEach(function(t){t.nodeValue=""});var f=c.isText?c.label:"",p=c?t.keepWhiteSpace(l.original,f):"";l.node.nodeValue!==p&&(l.node.nodeValue=p)}else if(c.isText){var d=a(c.label)?u(c.label):c.label,h=document.createTextNode(d);if(l.isOpen||l.isSentinel){var y=l.node?l.node.parentNode:i;if(l.isOpen)y.insertBefore(h,l.node);else if(l.isSentinel&&l.fragment.isOpen&&Du(l.fragment.node.nodeName.toLowerCase()))l.fragment.node.insertBefore(h,l.fragment.node.firstChild);else if(l.isSentinel){var g=xe(l.fragment.node);y.insertBefore(h,g)}}else l.isClose&&l.node.appendChild(h);this.putComment(h,"")}}}},{key:"fragmentedValueReplace",value:function(e,n){var r=this;e.fragments.forEach(function(e){if(Qi(e)){var o=e.translationDataSrcKey,i=r.translationLookup.findTranslation(o,n.toLangCode);if(i&&0!==i.fragments.length){var a=i.fragments[0].label;if(a){r.storeOriginalText(e.nodes);var u=t.keepWhiteSpace(e.original,a);e.node.nodeValue!==u&&(e.node.nodeValue=u)}}else r.restoreOriginalText(e)}})}},{key:"getOriginalStoredAttrValue",value:function(t,e,n){var r=this.getStoredAttrValue(t.fromLangCode,t.toLangCode,t.defaultLangCode,e,n);if(!r.hasOriginal)return null;if(r.changed){e.element.removeAttribute(r.originalSrcAttr);this.storeOriginalAttr(t,e,r.attr);return null}return r.original}},{key:"getStoredAttrValue",value:function(t,e,n,r,o){var i,a=ha(o),u=r.getAttribute(a),s=this.textNormalizer.normalizeText(u,!0),l=!!u,c=r.getAttribute(o),f=t==n?e:t,p=this.translationLookup.findTranslation(s,f),d=Oa.isSrcsetImage(r,o),h=Oa.isImage(r)||d;if(!p&&l&&h){if("src"===o){var y=this.getImageTranslationDataSrcKey(u),g=this.imageTranslationLookup.find(y,f);p=null==g?void 0:g.dst_url}else d&&(p=this.translateSrcset(u,f));var v=null==p||du(c)&&du(p);i=l&&c!==u&&p!==c&&!v}else{var m=this.liveEditorSettings.isEnabled||this.widgetPreview.isEnabled;i=l&&c!==u&&p&&p.fragments[0]&&wa.unescape(p.fragments[0].label)!==c&&!m}return{attr:o,originalSrcAttr:a,hasOriginal:l,changed:!!i,current:c,original:u}}},{key:"storeOriginalTag",value:function(t,e){if(!sr(e.ignoreType)){var n,r=Uu(this.attributes.getSwappableAttributes(e));try{for(r.s();!(n=r.n()).done;){var o=n.value;this.storeOriginalAttr(t,e,o)}}catch(t){r.e(t)}finally{r.f()}this.widgetData.domainOptions.canTranslateCssBackgroundImages()&&e.isInsideCssBackgroundImageScope&&lt.canStyleChange(e)&&this.setOriginalBackgroundImageAttributeIfNeeded(e)}}},{key:"storeOriginalAttr",value:function(t,e,n){if(!sr(e.ignoreType)){var r=Oa.isSrcsetImage(e,n);if(!(Oa.isMetaImage(e)||r||Oa.isImageUrl(e,n))||!this.imageTranslationLookup.isEmpty){var o=this.getStoredAttrValue(t.fromLangCode,t.toLangCode,t.defaultLangCode,e,n);!o.hasOriginal&&o.current&&e.setAttribute(o.originalSrcAttr,o.current)}}}},{key:"restoreOriginalTag",value:function(t,e){if(!sr(e.ignoreType)){var n=t.tags[e.nodeName.toLowerCase()];n&&n(e);for(var r=this.attributes.getSwappableAttributes(e),o=0;o<r.length;++o)this.restoreOriginalAttribute(t,e,r[o]);this.restoreBackgroundImage(e)}}},{key:"restoreOriginalAttribute",value:function(t,e,n){var r=this.getOriginalStoredAttrValue(t,e,n);if(null!==r){e.setAttributeIfNeeded(n,r);e.element.removeAttribute(ha(n))}}},{key:"restoreBackgroundImage",value:function(t){if(lt.canStyleChange(t)){var e=ha("background-image");if(t.hasAttribute(e)){var n=t.getAttribute(e).split("!"),r=n[0],o=n[1]||"";r!==(t.style.getPropertyValue("background-image")||"")&&t.style.setProperty("background-image",r,o)}}}},{key:"storeOriginalValueStackTexts",value:function(t){var e=this;t.fragments.forEach(function(t){Qi(t)&&e.storeOriginalText(t.nodes)})}},{key:"storeOriginalText",value:function(t){var e=t[0];this.putComment(e,vt.reduce(t,function(t,e){return t+e.data},""))}},{key:"putComment",value:function(t,e){this.unifiedValueComments.insertOriginalSrcComment(t,e)}},{key:"restoreOriginalText",value:function(e){var n=e.nodes,r=n[0],o=this.unifiedValueComments.getOriginalSrcFromComment(r);if(null!==o){e.label=this.textNormalizer.normalizeText(o);r.data=t.keepWhiteSpace(r.data,o);for(var i=1;i<n.length;++i)n[i].data="";this.unifiedValueComments.removeOriginalSrcComment(r)}}},{key:"addSrcOfReportHelper",value:function(t,e,n,r){this.textNormalizer.isNormalizedEmpty(t)||this.reportHelper.addSrc(t,e,n,r)}},{key:"refreshCache",value:function(){var t=this.widgetData.pageData.getTranslationData(),e=this.translationDataStorage.load()||new Ou,n=Ou.createFromServer(this.dynamicLoadingManager.getLoadedTranslations());this.translationManager.setInitialState(e,t,n)}},{key:"replaceHref",value:function(t,e){this.replaceLinkTag(t,e,"href")}},{key:"replaceIframeSrc",value:function(t,e){this.replaceLinkTag(t,e,"src")}},{key:"replaceLinkTag",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"href",r=e.element,o=this.linkTranslationsManager.findTranslation(r,t,n);if(o)this.linkTranslationsManager.applyTranslation(r,o,n);else{this.linkTranslationsManager.isPreviouslyTranslated(r)&&this.linkTranslationsManager.removeTranslation(r,n);var i=this.url.langUrl(t,r,n);if(i){var a=e.getAttribute(n);i!==a&&i!==this.urlFormatterFactory.convertToFullUrl(a)&&e.setAttribute(n,i)}}}},{key:"translateSrcset",value:function(t,e){var n=this,r=this.srcSetUtils.parseAndResolveSrcSetUrls(t),o=t;Object.keys(r).forEach(function(t){var i=n.getImageTranslationDataSrcKey(t),a=n.imageTranslationLookup.find(i,e),u=null==a?void 0:a.dst_url;if(u){var s=Vi()(r[t]),l=new RegExp(s,"g");o=o.replace(l,u)}});return o}},{key:"replaceForm",value:function(t,e){var n=e.getAttribute("method"),r=e.getAttribute("action");if(!r||0==r.length){e.setAttribute("action",this.urlFormatterFactory.convertToFullUrl(location.href));r=location.href}if(this.snippetSettings.urlPattern!==qa.Query||n&&"GET"!==n.toUpperCase())this.replaceLinkTag(t,e,"action");else{if(this.url.shouldIgnoreLink(r))return;for(var o=this.lang.getLangIdentifier(t),i=this.snippetSettings.langParamName,a=e.element.children,u=a.length-1;u>=0;u--){var s=a[u];if("INPUT"===s.tagName&&s.getAttribute("name")===i&&"hidden"===s.getAttribute("type")){s.setAttribute("value",o);return}}var l=document.createElement("input");l.setAttribute("type","hidden");l.setAttribute("name",i);l.setAttribute("value",o);e.element.appendChild(l)}}},{key:"noop",value:function(){}},{key:"beforeSwapUnifiedValue",value:function(t){Ot("beforeSwapUnifiedValue",{rootNode:t})}},{key:"propertyValueSwapper",get:function(){return this.widget.c("PropertyValueSwapper")}},{key:"linkTranslationsManager",get:function(){return this.widget.c("LinkTranslationsManager")}}],r=[{key:"keepWhiteSpace",value:function(t,e){return!e&&a(t)?t:e&&a(e)?u(e):wa.unescape(e)||""}},{key:"extractTextNodes",value:function(t){if(0==t.fragments.length)return[];for(var e=[],n=0;n<t.fragments.length;++n){var r=t.fragments[n];e.push(r);r.isText&&++n}t.lastFragment.isText||e.push({isSentinel:!0,fragment:t.lastFragment,node:t.lastFragment.node});return e}},{key:"toText",value:function(t){return t.fragments.filter(function(t){return t.isText}).map(function(t){return t.label}).join("")}}],n&&Hu(e.prototype,n),r&&Hu(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function Fu(){if(!window["_wovnWrappedHistoryApi"]){window["_wovnWrappedHistoryApi"]=!0;history.pushState=Wu(history.pushState);history.replaceState=Wu(history.replaceState);window.addEventListener("popstate",function(){Ot(qu.HISTORY_STATE_CHANGED)})}}function Wu(t){return function(e,n,r){var o=t.apply(this,arguments);Ot(qu.HISTORY_STATE_CHANGED,{newHistoryState:{data:e,title:n,url:r}});return o}}var qu={HISTORY_STATE_CHANGED:"wovnHistoryStateChanged"};function zu(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Gu(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gu(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Gu(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Ju(t,e,n,r,i,a,u,s){this.location=u;this.history=s;var l=!1;this.reset=function(){l=!1};var c={urlPattern:null};this.getOptions=function(){if(l)return c;var e=t.getBackendUrlPattern();if(null!=e){c.urlPattern=e;l=!0}else{var n=i.domainOptions.getLangPath();if(n){if("query"===n)c.urlPattern="query";l=!0}}return c};this.setOptions=function(t){var e=this.getOptions();for(var n in t)e.hasOwnProperty(n)&&(e[n]=t[n])};this.getLangCode=function(t){t=t||this.location.href;var r,o=P(t),a=o.href,u=null,s=null;switch(this.getOptions().urlPattern){case"query":var l=e.langParamName;r=new RegExp("((\\?.*&)|\\?)"+l+"=([^#&]+)(#|&|$)");s=(u=a.match(r))?u[3]:null;break;case"hash":var c=e.langParamName;r=new RegExp("((\\#.*&)|\\#)"+c+"=([^&]+)(&|$)");s=(u=a.match(r))?u[3]:null;break;case"subdomain":r=new RegExp("://([^.]+).");s=(u=a.match(r))?u[1]:null;break;case"custom_domain":s=this._customDomainUrlHandler().getLanguage(t);break;case"path":var f,p=[],d=zu(e.sitePrefixPaths);try{for(d.s();!(f=d.n()).done;){var h=f.value,y=h.length>0?"/".concat(h,"/"):"/";p.push(new RegExp(y+"([^/#?]+)","i"))}}catch(t){d.e(t)}finally{d.f()}for(var g=0,v=p;g<v.length;g++){var m=v[g];if(s=(u=o.pathname.match(m))?u[1]:null)break}}if(s){var b=n.find(s);if(b){var w=!b.alias||s==b.displayLanguage,S=vt.includes(i.domainOptions.getDomainLangs(),b.languageInfo.code);if(w&&S)return b.languageInfo.code}}return this._langComponent().getDefaultCodeIfExists()};this.getFlags=function(t){var n=(t=t||this.location.href).match(/#[^?]*$/);n=n?n[0]:"#";var r=e.langParamName,o=new RegExp("(^|#|&)"+r+"=([^#&]*)(&|#|$)"),i=n.match(o);return!i||i.length<3||""===(i=i[2].replace(/,(,+)/g,",").replace(/^,|,$/g,""))?[]:i.split(",")};this.hasFlag=function(t,e){e=e||this.location.href;return-1!==this.getFlags(e).indexOf(t)};this.getUrl=function(t,e,n){var r=w(e=e||this.location.href,this.location);if("http"!==r&&"https"!==r)return e;if(!n&&E(e))return e;var o=this.getLangCode(e),i=this._langComponent().getCode(t),a=this.getOptions().urlPattern;return this._urlFormatterFactory().createFromUrl(e).getConvertedLangUrl(o,i,a)};this._isTranslatableHref=function(t){var e=w(t,this.location);return"http"!==e&&"https"!==e?null:!t.match(/\s*\{\{.+\}\}\s*$/)&&!o(t,"#")};this.langUrl=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"href",o=n.getAttribute(r),i=this.getOptions();if(!i.urlPattern||!o||!this._isTranslatableHref(o))return null;var a,u,s=P(o),l=P(this.getLocationWithoutBackendLanguage(s));if(this.isExcludedUrl(l)||E(o))return(u=e.urlPattern)!=qa.Path&&u!=qa.CustomDomain||x(a=o)||j(a)?za(e.urlPattern)&&!x(o)?l:null:l;if(this._hostAliasMatcher().isMatch(s.host.toLowerCase())||"subdomain"===i.urlPattern||"custom_domain"===i.urlPattern){if(""===o||o.match(/^[#?]/))return null;var c=s.href;if("subdomain"===i.urlPattern){if(s.host.toLowerCase()!==this.location.host.toLowerCase()){c=c.replace(new RegExp("://"+this._langComponent().getLangIdentifier(this.getLangCode(c))+"\\.","i"),"://");var f=P(c),p=this.location.href.replace(new RegExp("://"+this._langComponent().getLangIdentifier(this.getLangCode(this.location.href))+"\\.","i"),"://"),d=P(p);if(f.host.toLowerCase()!==d.host)return null}}else"custom_domain"===i.urlPattern&&(c=l.href);return this.getUrl(t,c)}return null};this.isExcludedUrl=function(t){var e=i.domainOptions.getExcludedPaths(),n=i.domainOptions.getExcludedUrls();return e.some(function(e){return o(t.pathname,e)},this)||n.some(function(e){return this._matchesExcludedUrl(e,t)},this)};this._matchesExcludedUrl=function(t,e){return this._hostAliasMatcher().isMatch(e.toString())&&this._hostAliasMatcher().isMatch(t.toString())&&e.pathname===t.pathname};this.changeUrlIfNeeded=function(t){a.isEnabled||r.disableNavigation||this._urlShouldHaveLangCodeAdded(t)&&this._changeUrl(t)};this._urlShouldHaveLangCodeAdded=function(t){return!i.domainOptions.hasFeature("no_automatic_redirection")&&(("query"===i.domainOptions.getLangPath()||e.isBackend&&null!=e.urlPattern)&&this.getLangCode()!==t)};this._changeUrl=function(t){var e=this.getUrl(t);try{if(i.domainOptions.isForceReloadEnabled())throw new Error("dummy exception");var n=this.history.state||{};n["wovn"]=t;this.history.replaceState(n,null,e)}catch(t){this.location.href=e}};this.getEncodedLocation=function(e){return t.getEncodedLocation(e)};this.getLocationWithoutBackendLanguage=function(e){return t.getLocation(e)};this.getDomainPort=function(t){return function(t){var e=m.DOMAIN_AND_PORT.exec(t);return e?e[2]:""}(t)};this.shouldIgnoreLink=function(e){if(t.isBackend()){e=this._urlFormatterFactory().createFromUrl(e).getNormalizedPageUrl(t.isBackend(),t.getBackendUrlPattern())}var n=P(e).host;return!this._hostAliasMatcher().isMatch(n)};this._hostAliasMatcher=function(){return t.c("HostAliasMatcher")};this._urlFormatterFactory=function(){return t.c("UrlFormatter")};this._langComponent=function(){return t.c("Lang")};this._customDomainUrlHandler=function(){return t.c("CustomDomainUrlHandler")}}function $u(t){return $u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(t)}function Ku(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zu(r.key),r)}}function Xu(t,e,n){return(e=Zu(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zu(t){var e=function(t,e){if("object"!=$u(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$u(e)?e:e+""}var Yu=function(){return t=function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Xu(this,"lastHref",null);Xu(this,"onUrlChangedCallback",function(){});Xu(this,"onHistoryStateChanged",function(t){if(!t.newHistoryState||!(e=t.newHistoryState.data)||"string"!=typeof e.wovn){var e;r.refreshWidget()}});Xu(this,"onTurbolinksPageChanged",function(){return r.refreshWidget()});Xu(this,"onHashChanged",function(){return r.refreshWidget()});this.widget=e;this.urlComponent=n},(e=[{key:"refreshWidget",value:function(){var t=this.widget.getLocation();if(!this.hasUrlNotChanged(t)){this.lastHref=t;this.onUrlChangedCallback()}}},{key:"hasUrlNotChanged",value:function(t){return this.lastHref===t||this.isUrlLanguageUnchanged(t)}},{key:"listen",value:function(t){this.onUrlChangedCallback=t;this.lastHref||(this.lastHref=this.widget.getLocation());lt.onEvent(window,"hashchange",this.onHashChanged);window.Turbolinks?lt.onEvent(document,"turbolinks:load",this.onTurbolinksPageChanged):lt.onEvent(document,qu.HISTORY_STATE_CHANGED,this.onHistoryStateChanged)}},{key:"stop",value:function(){lt.removeHandler(document,qu.HISTORY_STATE_CHANGED,this.onHistoryStateChanged);lt.removeHandler(document,"turbolinks:load",this.onTurbolinksPageChanged);lt.removeHandler(window,"hashchange",this.onHashChanged)}},{key:"destroy",value:function(){this.stop()}},{key:"isUrlLanguageUnchanged",value:function(t){var e=this.urlComponent.getLangCode(t),n=this.urlComponent.getUrl(e,this.lastHref);return this.urlsAreEquivalentIgnoringTrailingSlash(t,n)}},{key:"urlsAreEquivalentIgnoringTrailingSlash",value:function(t,e){var n=P(t),r=P(e),o="/"==n.pathname?"":n.pathname,i="/"==r.pathname?"":r.pathname;return n.protocol===r.protocol&&n.host===r.host&&o===i&&n.search===r.search&&n.hash===r.hash}}])&&Ku(t.prototype,e),n&&Ku(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Qu(t){var e=t.querySelector("script[data-wovnio]");if(e)return e;for(var n=new RegExp("\\/\\/j\\.(dev-|staging\\d-)?wovn\\.(io|com)"),r=t.querySelectorAll("script"),o=0;o<r.length;o++)if(n.test(r[o].getAttribute("src")))return r[o];return null}function ts(t){return ts="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(t)}function es(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ns(r.key),r)}}function ns(t){var e=function(t,e){if("object"!=ts(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ts(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ts(e)?e:e+""}var rs=function(){return t=function t(e,n,r,o,i,a,u,s,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widget=e;this.data=n;this.textNormalizer=r;this.inSiteSearcher=o;this.auditTrigger=i;this.lang=a;this.cookieStore=u;this.supportedLanguages=s;this.apiStatus=l},e=[{key:"unifiedValueTranslationLookup",get:function(){return this.widget.c("UnifiedValueTranslationLookup")}},{key:"urlComponent",get:function(){return this.widget.c("Url")}},{key:"widgetInterface",get:function(){return this.widget.c("Interface")}},{key:"domAuditor",get:function(){return this.widget.c("DomAuditor")}},{key:"widgetInit",get:function(){return this.widget.c("WidgetInit")}},{key:"srcChildTextContentExtractor",get:function(){return this.widget.c("SrcChildTextContentExtractor")}},{key:"changeLang",value:function(t){var e=this;if(!this.isApiReady())return!1;var n=this.lang.getProjectLangCode(t);if(!n)return!1;this.widgetInterface.changeLangByCode(n,function(t){e.urlComponent.changeUrlIfNeeded(t)});return!0}},{key:"getCurrentLang",value:function(){return this.isApiReady()?this.lang.get(this.lang.getActualLang()):this.lang.get("en")}},{key:"getWovnUrl",value:function(t){if(!this.isApiReady())return t;var e=this.lang.getActualLang();return this.urlComponent.getUrl(e,t)}},{key:"swap",value:function(t){if(this.isApiReady()){var e=this.getCurrentLang();if(e){var n=e.code;this.domAuditor.supervisedSwapVals(n,t)}}}},{key:"manualStart",value:function(){var t=this;this.isApiReady()?this.widgetInit.startSwapping():addEventListener("wovnApiReady",function(){t.widgetInit.startSwapping()})}},{key:"overrideDomainOptions",value:function(t){var e=this;this.isApiReady()?this.data.domainOptions.setOverrides(t):addEventListener("wovnApiReady",function(){e.data.domainOptions.setOverrides(t)})}},{key:"optOut",value:function(){var t=this,e=function(){t.cookieStore.optOut()};this.isApiReady()?e():addEventListener("wovnApiReady",function(){return e()})}},{key:"optInCookies",value:function(){var t=this,e=function(){t.cookieStore.optIn()};this.isApiReady()?e():addEventListener("wovnApiReady",function(){return e()})}},{key:"getSourceText",value:function(t){return this.isApiReady()?this.srcChildTextContentExtractor.extract(t):null}},{key:"getSourceAttribute",value:function(t,e){if(!this.isApiReady())return null;var n=ha(e);return t.getAttribute(n)||t.getAttribute(e)}},{key:"getTextTranslation",value:function(t,e){var n;if(!this.isApiReady())return t;var r=this.textNormalizer.normalizeText(t,!0),o=this.unifiedValueTranslationLookup.findTranslation(r,e);return null!==(n=null==o?void 0:o.src)&&void 0!==n?n:t}},{key:"translateTexts",value:function(t,e,n){var r=this;if(!this.isApiReady())return vt.toObject(n,function(t){return t},function(t){return t});var o=this.lang.getDefaultCodeIfExists();if(t!==o){console.warn("Deprecated API usage. fromLang must be the source language of the page (".concat(o,")"));return vt.toObject(n,function(t){return t},function(t){return t})}return vt.toObject(n,function(t){return t},function(t){return r.getTextTranslation(t,e)})}},{key:"isPublished",value:function(t){if(!this.isApiReady())return null;var e=this.supportedLanguages.find(t);return!!e&&this.data.pageData.isPublished(e.languageInfo.code)}},{key:"search",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(!r)throw new Error("errorCallback is required");if(n)if(e){if(t)return this.inSiteSearcher.search(t,e,o,i).then(function(t){n(t);return t},r);r("query is required")}else r("language is required");else r("callback is required")}},{key:"isApiReady",value:function(){return this.apiStatus.isApiReady()}},{key:"triggerAudit",value:function(){this.isApiReady()&&this.auditTrigger.refresh()}},{key:"version",value:function(){return{hash:d.BUILD_HASH,build_id:d.BUILD_ID,build_time:d.BUILD_TIME}}},{key:"stop",value:function(){var t=this;return this.lang.setDocLang(this.lang.getDefaultCodeIfExists()).then(function(){t.widget.destroy();t.destroyWidgetApi()})}},{key:"destroyWidgetApi",value:function(){var t=window;t.WOVN=void 0;t.Wovnio=void 0;document.WOVNIO=void 0}},{key:"start",value:function(){ow(document,location,localStorage)}},{key:"restartInit",value:function(){return this.widgetInit.restart()}},{key:"reloadPageData",value:function(){return this.widgetInit.reload()}},{key:"restart",value:function(t){var e=this;return this.stop().then(function(){t&&e.replaceToken(t);e.start()})}},{key:"replaceToken",value:function(t){var e=Qu(document.documentElement),n=e.getAttribute("data-wovnio");if(n){n=n.replace(/key=[^&]+/,"key=".concat(t));e.setAttribute("data-wovnio",n)}}}],e&&es(t.prototype,e),n&&es(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function os(t){return os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(t)}function is(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return as(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?as(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function as(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function us(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ss(r.key),r)}}function ss(t){var e=function(t,e){if("object"!=os(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=os(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==os(e)?e:e+""}var ls=function(){return t=function t(e){var n,r,o,i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);n=this,o=[],(r=ss(r="readyCallbacks"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o;this.liveEditorSettings=e;this.apiReady=!1;this.readyCallbacks.push(function(){i.liveEditorSettings.isEnabledV1||Pt(i.wovnApiReadyEvent)});this.wovnApiReadyEvent=Et("wovnApiReady",!0,!0)},(e=[{key:"makeReady",value:function(){this.apiReady=!0;this.dispatchWovnApiReadyEvent()}},{key:"addReadyCallback",value:function(t){this.apiReady||this.readyCallbacks.push(t)}},{key:"isApiReady",value:function(){return this.apiReady}},{key:"dispatchWovnApiReadyEvent",value:function(){var t,e=is(this.readyCallbacks);try{for(e.s();!(t=e.n()).done;)(0,t.value)()}catch(t){e.e(t)}finally{e.f()}this.dispatchWovnApiReadyEvent=function(){};this.readyCallbacks.length=0}}])&&us(t.prototype,e),n&&us(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function cs(t){return cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(t)}function fs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||hs(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ps(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=hs(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function ds(t){return function(t){if(Array.isArray(t))return ys(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||hs(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hs(t,e){if(t){if("string"==typeof t)return ys(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ys(t,e):void 0}}function ys(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function gs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ms(r.key),r)}}function vs(t,e,n){return(e=ms(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ms(t){var e=function(t,e){if("object"!=cs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=cs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cs(e)?e:e+""}var bs="wovn-translate-widget",ws="wovn-languages",Ss="wovn-detect-plugin",ks=function(t){t[t["Standard"]=0]="Standard";t[t["Custom"]=1]="Custom";return t}(ks||{}),Ts=function(){return t=function t(e,n,r,o,i,a,u,s,l,c,f,p,d,h,y,g){var v=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);vs(this,"WIDGET_ID",bs);vs(this,"CUSTOM_WIDGET_ID",ws);vs(this,"appendedChildren",[]);vs(this,"scrollTop",0);vs(this,"scrollTopBefore",0);vs(this,"documentScrollTop",0);vs(this,"onHoldAnim",null);vs(this,"isChangingLang",!1);vs(this,"renderedAdditionalButtons",[]);this.data=e;this.lang=n;this.agent=r;this.performanceMonitor=o;this.externalComponentLoader=i;this.pageChecker=a;this.url=u;this.liveEditorSettings=s;this.liveEditButtonBuilder=l;this.translationFeedbackButtonBuilder=c;this.previewModeButtonBuilder=f;this.browserLanguageProvider=p;this.reportValuesButtonBuilder=d;this.wovnElementProvider=h;this.internalApi=y;this.widgetPreview=g;this.wovnElementProvider.registerWovnElement(function(){return v.getWidgetElements().map(function(t){return t.element}).concat(Ne())})},e=[{key:"setWidgetLangChangeWord",value:function(t,e){if(this.data.domainOptions.useGenericLangWord()){var n=this.data.domainOptions.genericLangWord();this.setInnerHTMLByClass(t,"wovn-current-lang",n||"Language")}else this.setInnerHTMLByClass(t,"wovn-current-lang",e||"Language")}},{key:"setInnerHTMLByClass",value:function(t,e,n){lt.toArrayFromDomList(t.getElementsByClassName(e)).forEach(function(t){t.innerHTML=n})}},{key:"disableBrowserTranslation",value:function(){if(!lt.getMetaElement("google",{value:"notranslate"})){var t=document.createElement("meta");t.setAttribute("name","google");t.setAttribute("value","notranslate");document.head.appendChild(t);this.appendedChildren.push(t)}}},{key:"animHideWidget",value:function(t){t&&(t.className=t.className.replace(/wovn--slide-in/,"wovn--slide-out"))}},{key:"animShowWidget",value:function(t){t&&(t.className=t.className.replace(/wovn--slide-out/,"wovn--slide-in"))}},{key:"scrollWidgetAction",value:function(){this.documentScrollTop=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);var t=this.getStandardWidgetElement(),e=document.getElementsByClassName("wovn-lang-container")[0];this.documentScrollTop<=this.scrollTop?this.animScrollUp(t.element,e):this.animScrollDown(t.element,e);this.scrollTop=this.documentScrollTop}},{key:"scrollStopWidgetAction",value:function(){this.documentScrollTop=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0);var t=this.getStandardWidgetElement(),e=document.getElementsByClassName("wovn-lang-container")[0];this.documentScrollTop<=this.scrollTopBefore?this.animScrollUpThenStop(t.element,e):this.animScrollDownThenStop(t.element,e);this.scrollTopBefore=this.scrollTop;this.scrollTop=this.documentScrollTop}},{key:"animScrollUp",value:function(t,e){var n=this;null!==this.onHoldAnim&&clearTimeout(this.onHoldAnim);if(t&&!Se(e,"is-open")){this.animShowWidget(t);this.onHoldAnim=setTimeout(function(){n.animHideWidget(t)},1e3)}}},{key:"animScrollDown",value:function(t,e){var n=this;null!==this.onHoldAnim&&clearTimeout(this.onHoldAnim);t&&(Se(e,"is-open")||(this.onHoldAnim=setTimeout(function(){n.animHideWidget(t)},1e3)))}},{key:"animScrollUpThenStop",value:function(t,e){var n=this;null!==this.onHoldAnim&&clearTimeout(this.onHoldAnim);if(t&&!Se(e,"is-open")){this.animShowWidget(t);this.onHoldAnim=setTimeout(function(){n.animHideWidget(t)},4e3)}}},{key:"animScrollDownThenStop",value:function(t,e){var n=this;null!==this.onHoldAnim&&clearTimeout(this.onHoldAnim);if(t&&!Se(e,"is-open")){this.animShowWidget(t);this.onHoldAnim=setTimeout(function(){n.animHideWidget(t)},4e3)}}},{key:"scrollStop",value:function(t){var e;lt.onEvent(window,"scroll",function(){window.clearTimeout(e);e=setTimeout(function(){t()},300)},!0)}},{key:"projectLangs",get:function(){var t=this.data.getConvertedLangs();return t=this.ensureDefaultLangInList(t)}},{key:"ensureDefaultLangInList",value:function(t){var e=this.data.pageData.getLang(),n=ds(t);if(e){var r=this.lang.get(e);t.some(function(t){return t.code===r.code})||n.unshift(r)}return n}},{key:"buildWidgetLangList",value:function(t){var e=t.className.match(/\bwovn-lang-list\b/)?t:t.getElementsByClassName("wovn-lang-list")[0];if(e){var n,r,o=this.projectLangs,i=this.url.getLangCode();i!=this.lang.getDocLang()&&(i=this.lang.getDocLang());-1===lt.findIndex(o,function(t){return t.code===i})&&(i=this.lang.getDefaultCodeIfExists());var a,u=ps(o);try{for(u.s();!(a=u.n()).done;){var s=a.value;(n=document.createElement("li")).setAttribute("class","wovn-switch");n.innerHTML=s.name;n.setAttribute("data-value",s.code);if(s.code==i){n.setAttribute("class","wovn-switch selected");r=s.name}e.appendChild(n)}}catch(t){u.e(t)}finally{u.f()}this.setWidgetLangChangeWord(t,r)}}},{key:"changeLangByCode",value:function(t,e){this.changeLang(t,e)}},{key:"onLanguageSwitchClicked",value:function(t){var e=t.getAttribute("data-value");this.changeLang(e,null,Bt.WidgetLangSwitch)}},{key:"changeLang",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.performanceMonitor.mark(Kr.ChangeLangStart,{newLang:t});if(this.isChangingLang)setTimeout(function(){n.changeLang(t,e,r)},100);else{this.isChangingLang=!0;this.lang.setDocLang(t,r);this.performanceMonitor.mark(Kr.ChangeLangEnd,{newLang:t});e&&e(t);var o,i=ps(this.getWidgetElements());try{for(i.s();!(o=i.n()).done;){var a=o.value;this.updateSelectedLanguage(a.element,t)}}catch(t){i.e(t)}finally{i.f()}this.isChangingLang=!1}}},{key:"updateSelectedLanguage",value:function(t,e){for(var n=t.getElementsByClassName("wovn-switch"),r=null,o=0;o<n.length;o++){we(n[o],"selected");if(n[o].getAttribute("data-value")===e){be(n[o],"selected");r=n[o]}}r&&this.isStandardWidgetElement(t)&&this.setWidgetLangChangeWord(t,r.textContent||r.innerText)}},{key:"attachLangClickHandlers",value:function(t){var e=this;if(t){var n=lt.toArrayFromDomList(t.getElementsByClassName("wovn-switch"));0===n.length&&(n=lt.toArrayFromDomList(t.getElementsByTagName("a")));0===n.length&&(n=lt.toArrayFromDomList(t.getElementsByTagName("li")));if(0!==n.length){var r,o=ps(n);try{var i=function(){var t=r.value;lt.onEvent(t,"click",function(){e.onLanguageSwitchClicked(t)})};for(o.s();!(r=o.n()).done;)i()}catch(t){o.e(t)}finally{o.f()}}}}},{key:"listenForDynamicallyAddedCustomWidget",value:function(){var t=this;this.dynamicallyAddedCustomWidgetDetector||(this.dynamicallyAddedCustomWidgetDetector=function(){t.checkForDynamicallyAddedCustomWidget()});_t(Ke.AUDIT_COMPLETED,this.dynamicallyAddedCustomWidgetDetector)}},{key:"checkForDynamicallyAddedCustomWidget",value:function(){var t=this.getCustomWidgetElements().filter(function(t){return!t.element.getAttribute("data-ready")}),e=this.getStandardWidgetElement();if(t.length>0){e&&me(e.element);this.shouldInsertWidgetElement()&&this.configureCustomWidget();this.renderedAdditionalButtons.forEach(function(t){return t.appendToDom(null==e?void 0:e.element)})}}},{key:"configureCustomWidget",value:function(){var t,e=ps(this.getCustomWidgetElements());try{for(e.s();!(t=e.n()).done;){var n=t.value;this.renderCustomWidget(n.element)}}catch(t){e.e(t)}finally{e.f()}}},{key:"renderCustomWidget",value:function(t){if("true"!==t.getAttribute("data-ready")){t.setAttribute("data-ready","true");t.setAttribute("data-theme","built-in");var e=t.getElementsByClassName("wovn-switch-template");if(0!==e.length){var n=e[0],r=n.className.match(/(^| )wovn-switch( |$)/i)||function(){for(var t=0;t<n.children.length;t++)if(n.children[t].className.match(/(^| )wovn-switch( |$)/i))return!0;return!1}();r||be(n,"wovn-switch");var o,i=document.createElement("div");i.appendChild(n.cloneNode(!0));var a,u=ps(this.projectLangs);try{for(u.s();!(a=u.n()).done;){var s=a.value;(o=document.createElement("div")).innerHTML=i.innerHTML.replace(/wovn-lang-name/g,s.name);o.getElementsByClassName("wovn-switch")[0].setAttribute("data-value",s.code);n.parentNode.insertBefore(o.children[0],n)}}catch(t){u.e(t)}finally{u.f()}me(n)}else if(0===t.getElementsByClassName("wovn-switch").length)if(0===t.getElementsByTagName("a").length){t.innerHTML="";if("ul"===t.nodeName.toLowerCase()||"ol"===t.nodeName.toLowerCase())be(t,"wovn-lang-list");else{var l=document.createElement("ul");l.className="wovn-lang-list";t.appendChild(l)}this.buildWidgetLangList(t)}else for(var c=t.getElementsByTagName("a"),f=0;f<c.length;f++)c[f].className=c[f].className+(c[f].className.length>0?c[f].className+" ":"")+"wovn-switch";this.attachLangClickHandlers(t);this.updateSelectedLanguage(t,this.lang.getDocLang())}}},{key:"applyPosition",value:function(t,e){this.addPositionClass(t,e)}},{key:"addPositionClass",value:function(t,e){var n=fs(e.split("_"),2),r=n[0],o=n[1];be(t,"wovn--position-"+r);be(t,"wovn--position-"+o)}},{key:"shouldAutoHideWidget",value:function(){var t=this.data.pageData.getLang(),e=this.browserLanguageProvider.getLanguage(),n=this.lang.getDocLang();return this.data.domainOptions.autoHideWidget()&&null!==e&&t===e.code&&t===n&&e.isFirstUserPreference}},{key:"embeddedWidgetElement",get:function(){if(!this.data.domainOptions.isEmbeddedWidget)return null;var t=this.data.domainOptions.getWidgetStyle();return!this.agent.isMobile()||"default"!==t.type&&"slate"!==t.type?void 0!==this._embeddedWidgetElement?this._embeddedWidgetElement:this._embeddedWidgetElement=this.createEmbeddedWidgetElement():null}},{key:"createEmbeddedWidgetElement",value:function(){var t=document.querySelector(this.data.domainOptions.getEmbeddedWidgetSelector());if(!t)return null;var e=document.createElement("div");e.classList.add("wovn-embedded-widget");switch(this.data.domainOptions.getEmbeddedWidgetInsertionBehavior()){case tr.FIRST_CHILD:t.prepend(e);break;case tr.LAST_CHILD:t.appendChild(e);break;case tr.PREVIOUS_SIBLING:if(!t.parentNode)return null;t.parentNode.insertBefore(e,t);break;case tr.NEXT_SIBLING:if(!t.parentNode)return null;t.parentNode.insertBefore(e,t.nextSibling);break;default:e=null}return e}},{key:"isEmbedded",get:function(){return!!this.embeddedWidgetElement}},{key:"insertCustomColorVariables",value:function(){var t=function(t){var e=[];for(var n in t)t[n]&&e.push("--wovn-".concat(n,": ").concat(t[n],";"));return e.length>0?"#wovn-translate-widget[wovn] {\n    ".concat(e.join("\n"),"\n  }"):""}(this.data.domainOptions.getWidgetCustomColors());if(t){var e=Te(t);document.head.appendChild(e)}}},{key:"applyStandardWidgetOptions",value:function(t){this.isEmbedded||this.applyStandardWidgetPosition(t);var e=this.data.domainOptions.getWidgetStyle();be(t,"type-".concat(e.type));be(t,"wovn--color wovn--color-".concat(e.color));this.insertCustomColorVariables();this.data.domainOptions.hideLogo()&&be(t,"hide-logo");this.data.domainOptions.showTranslatedByMachine()&&be(t,"show-tbm");this.buildWidgetLangList(t);this.attachLangClickHandlers(t)}},{key:"applyUniversalWidgetOptions",value:function(){var t=this.data.domainOptions.getParcelForwardingProvider();t&&"JP"!==this.data.domainOptions.getCountryCode()&&this.externalComponentLoader.loadExternalComponents(["ParcelForwarding"]).then(function(e){fs(e,1)[0].start(t)});this.data.domainOptions.notFoundUnpublish()&&this.data.pageData.getPublishedLangs().length>0&&this.pageChecker.notifyWovnIfNotFound()}},{key:"applyStandardWidgetPosition",value:function(t){this.agent.isMobile()?this.applyPosition(t,this.data.domainOptions.getMobilePosition()):this.applyPosition(t,this.data.domainOptions.getDesktopPosition())}},{key:"shouldInsertWidgetElement",value:function(){return this.data.pageData.hasPublishedLang()&&!this.liveEditorSettings.isEnabled}},{key:"build",value:function(){var t;me(null===(t=this.getStandardWidgetElement())||void 0===t?void 0:t.element);me(this.getHiddenTranslatePluginDetector());me(Ne());for(;;){var e=document.getElementsByClassName("wovn-style");if(0==e.length)break;me(e[0])}var n=this.data.domainOptions.getWidgetDisplayType(),r="widget"===n||"auto"===n&&0==this.getCustomWidgetElements().length;this.insertHiddenTranslatePluginDetector();if(this.shouldInsertWidgetElement()){this.applyUniversalWidgetOptions();r?this.shouldAutoHideWidget()||this.insertStandardWidgetElementsAndStyles():this.configureCustomWidget();this.refresh()}}},{key:"insertHiddenTranslatePluginDetector",value:function(){var t=document.createElement("div");t.id=Ss;t.setAttribute("wovn-ignore","");t.setAttribute("style","visibility: hidden !important; position: fixed !important;");var e,n=ps(this.projectLangs);try{for(n.s();!(e=n.n()).done;){var r=e.value,o=document.createElement("div");o.innerHTML=r.name;t.appendChild(o)}}catch(t){n.e(t)}finally{n.f()}document.body.appendChild(t);this.appendedChildren.push(t)}},{key:"getHiddenTranslatePluginDetector",value:function(){return document.getElementById(Ss)}},{key:"insertStandardWidgetElementsAndStyles",value:function(){var t=this,e=Te("#".concat(bs,"[wovn] { display: none; }")),n=this.embeddedWidgetElement||document.createElement("div");n.innerHTML=te.languageSelector.standardHtml;n.appendChild(e);n.id=bs;n.setAttribute("wovn","");this.configureStandardWidgetHtml(n);this.isEmbedded&&document.head.appendChild(Te(this.data.domainOptions.getEmbeddedWidgetCustomCss(),"wovn-embedded-widget-css"));var r=n.getElementsByClassName("wovn-lang-selector")[0],o=n.getElementsByClassName("wovn-lang-container")[0],i=document.querySelector(".wovn-click-catcher");setTimeout(function(){t.animShowWidget(n)},1e3);if(this.agent.isMobile()){n.className+=" mobile wovn--slide-out";lt.onEvent(window,"scroll",function(){return t.scrollWidgetAction()},!0);lt.onEvent(window,"click",function(){return t.scrollStopWidgetAction()});this.scrollStop(function(){return t.scrollStopWidgetAction()});lt.pageIsWidgetPreview()||(this.onHoldAnim=setTimeout(function(){t.animHideWidget(n)},5e3))}lt.onEvent(r,"click",function(e){return t.openDropdown(e,o,i)});lt.onEvent(o,"click",function(e){return t.closeDropDown(e,o,i,n)});n.setAttribute("data-ready","true");this.applyStandardWidgetOptions(n);this.showWidgetIfNeeded({element:n,type:ks.Standard});this.isEmbedded||document.body.appendChild(n);this.hasRenderedStandardWidget=!0;this.appendedChildren.push(n);i||(i=this.addClickCatcher(n,o))}},{key:"configureStandardWidgetHtml",value:function(t){"floating"==this.data.domainOptions.getWidgetStyle().type?me(t.querySelector("#wovn-logo--default")):me(t.querySelector("#wovn-logo--floating"))}},{key:"openDropdown",value:function(t,e,n){null!==this.onHoldAnim&&clearTimeout(this.onHoldAnim);t.stopPropagation?t.stopPropagation():t.returnValue=!1;if(Se(e,"is-open")){we(e,"is-open");n.style.display="none"}else{be(e,"is-open");n.style.display="block"}}},{key:"closeDropDown",value:function(t,e,n,r){var o=this;this.onHoldAnim=setTimeout(function(){o.animHideWidget(r)},4e3);t.stopPropagation?t.stopPropagation():t.returnValue=!1;we(e,"is-open");n.style.display="none"}},{key:"addClickCatcher",value:function(t,e){var n=this,r=document.createElement("div");r.setAttribute("style","z-index:2147483646;position:fixed;display:none;top:0;right:0;bottom:0;left:0;background:transparent;pointer-events: auto;");r.setAttribute("class","wovn-click-catcher");lt.onEvent(r,"click",function(o){return n.closeDropDown(o,e,r,t)});t.parentNode.insertBefore(r,t);return r}},{key:"getWidgetElements",value:function(){return[this.getStandardWidgetElement()].concat(this.getCustomWidgetElements()).filter(function(t){return null!=t})}},{key:"getStandardWidgetElement",value:function(){var t=document.getElementById(bs);return t?{element:t,type:ks.Standard}:null}},{key:"getCustomWidgetElements",value:function(){return this.data.domainOptions.canShowCustomWidgets()?lt.toArrayFromDomList(document.querySelectorAll("#"+ws+",."+ws)).map(function(t){return{element:t,type:ks.Custom}}):[]}},{key:"clearStandardWidgetLangList",value:function(){var t=this.getStandardWidgetElement();if(t){var e,n=ps(lt.toArrayFromDomList(t.element.getElementsByTagName("li")));try{for(n.s();!(e=n.n()).done;)me(e.value)}catch(t){n.e(t)}finally{n.f()}}}},{key:"reload",value:function(){this.clearStandardWidgetLangList();this.hasRenderedStandardWidget&&!this.getStandardWidgetElement()&&this.build();this.refresh()}},{key:"refresh",value:function(){var t,e=this,n=ps(this.getWidgetElements());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(0===r.element.getElementsByClassName("wovn-switch").length){this.buildWidgetLangList(r.element);this.attachLangClickHandlers(r.element)}this.showWidgetIfNeeded(r)}}catch(t){n.e(t)}finally{n.f()}this.renderedAdditionalButtons.forEach(function(t){var n;return t.appendToDom(null===(n=e.getStandardWidgetElement())||void 0===n?void 0:n.element)})}},{key:"showWidgetIfNeeded",value:function(t){if(this.shouldShowWidget(t.element)){be(t.element,"wovn-is-visible");t.type===ks.Custom&&(t.element.style.display="block");this.disableBrowserTranslation()}else{we(t.element,"wovn-is-visible");t.type===ks.Custom&&(t.element.style.display="none")}}},{key:"shouldShowWidget",value:function(t){return t.getElementsByClassName("wovn-switch").length>1&&!this.shouldAutoHideWidget()&&this.data.domainOptions.hasDomainOptions()}},{key:"isWidgetElement",value:function(t){return Oe(t)&&(this.isStandardWidgetElement(t)||this.isCustomWidgetElement(t))}},{key:"isStandardWidgetElement",value:function(t){return t.id===bs}},{key:"isCustomWidgetElement",value:function(t){return t.id===ws||Se(t,ws)}},{key:"destroy",value:function(){lt.destroy();for(var t=0;t<this.appendedChildren.length;t++){me(this.appendedChildren[t]);me(document.querySelector(".wovn-live-edit-button"))}xt(Ke.AUDIT_COMPLETED,this.dynamicallyAddedCustomWidgetDetector)}},{key:"addPreviewModeButton",value:function(){var t=this.getStandardWidgetElement(),e=fs(this.previewModeButtonBuilder.setWidgetStyle(this.data.domainOptions.getWidgetStyle(),this.isEmbedded).build(),2),n=e[0],r=e[1];n.appendToDom(null==t?void 0:t.element);this.widgetPreview.isEnabled&&r.appendToDom(null==t?void 0:t.element);this.renderedAdditionalButtons.push(n)}},{key:"addSessionTools",value:function(t){var e=this.internalApi.getTranslatePageLink();this.setWovnLink(e);this.addPreviewModeButton();this.addEditButton(t);this.data.domainOptions.hasFeature("send_translation_feedback")&&this.addTranslationFeedbackButton();this.addReportButton();this.data.domainOptions.hasFeature("draggable_widget")&&this.makeWidgetDraggable()}},{key:"setWovnLink",value:function(t){var e=this.getStandardWidgetElement();if(e)for(var n=e.element.querySelectorAll("a.wovn-logo"),r=0;r<n.length;++r)n[r].href=t}},{key:"addEditButton",value:function(t){var e=this,n=this.getStandardWidgetElement();n&&be(n.element,"show-live-edit-button");this.liveEditButtonBuilder.setWidgetStyle(this.data.domainOptions.getWidgetStyle(),this.isEmbedded).build(t).forEach(function(t){t.appendToDom(null==n?void 0:n.element);e.renderedAdditionalButtons.push(t)})}},{key:"addTranslationFeedbackButton",value:function(){var t=this.getStandardWidgetElement();t&&be(t.element,"show-translation-feedback-button");var e=fs(this.translationFeedbackButtonBuilder.setWidgetStyle(this.data.domainOptions.getWidgetStyle(),this.isEmbedded).build(),2),n=e[0];e[1].appendToDom(null==t?void 0:t.element);n.appendToDom(null==t?void 0:t.element);this.renderedAdditionalButtons.push(n)}},{key:"addReportButton",value:function(){var t=this.getStandardWidgetElement();t&&be(t.element,"show-report-value-button");var e=fs(this.reportValuesButtonBuilder.setWidgetStyle(this.data.domainOptions.getWidgetStyle(),this.isEmbedded).build(),1)[0];e.appendToDom(null==t?void 0:t.element);this.renderedAdditionalButtons.push(e)}},{key:"makeWidgetDraggable",value:function(){var t=this,e=Ne(),n=e.parentElement,r=e.querySelector("svg");r.style.cursor="move";r.addEventListener("mousedown",function(e){return t.onDragElement(e,n)})}},{key:"onDragElement",value:function(t,e){t.preventDefault();t.stopPropagation();var n=e.getBoundingClientRect().top,r=0,o=t.clientY,i=t.clientY,a=function(t){r=o-i;a=e,["wovn--position-top","wovn--position-bottom"].forEach(function(t){return we(a,t)});var a;e.style.top="".concat(n+r,"px");o=t.clientY};_t("mousemove",a);At("mouseup",function(){return xt("mousemove",a)})}},{key:"isWovnLanguageSwitchesTranslated",value:function(){var t=this.getHiddenTranslatePluginDetector();if(t){var e,n=ps(this.projectLangs);try{for(n.s();!(e=n.n()).done;){var r=e.value;if(-1===t.innerHTML.indexOf(r.name))return!0}}catch(t){n.e(t)}finally{n.f()}}return!1}}],e&&gs(t.prototype,e),n&&gs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Cs(t){return Cs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(t)}function Os(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Es(r.key),r)}}function Es(t){var e=function(t,e){if("object"!=Cs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Cs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cs(e)?e:e+""}var Ps=function(){return e=function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);a=this,s=0,(u=Es(u="consecutiveErrorCount"))in a?Object.defineProperty(a,u,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[u]=s;var a,u,s;this.dynamicLoadingController=e;this.data=n;this.wovnWaitAuditListener=r;this.translationManager=o;this.liveEditorSettings=i;this.resetState()},(n=[{key:"resetState",value:function(){this.pendingTranslations={};this.loadedTranslations={};this.allDynamicLoadingResults={img_vals:{},text_vals:{},html_text_vals:{},page_text_vals:{}};clearTimeout(this.fallbackTimeout)}},{key:"destroy",value:function(){this.resetState()}},{key:"pendingSrcTexts",get:function(){return Object.keys(this.pendingTranslations)}},{key:"getLoadedTranslations",value:function(){return this.allDynamicLoadingResults}},{key:"handledSrcTexts",get:function(){return Object.keys(this.loadedTranslations)}},{key:"addTranslationRequest",value:function(t,e){e!==this.data.pageData.getLang()&&(this.liveEditorSettings.isEnabled||this.data.pageData.isPublished(e))&&(this.loadedTranslations[t]||null!=this.pendingTranslations[t]||(this.pendingTranslations[t]=!0))}},{key:"loadRequestedTranslations",value:function(){var e=this;if(this.consecutiveErrorCount>=20)return t.Promise.resolve();for(var n=Object.keys(this.pendingTranslations),r=[],o=0,i=n;o<i.length;o++){var a=i[o];if(r.length>=100)break;if(this.pendingTranslations[a]){r.push(a);this.pendingTranslations[a]=!1}}if(r.length>0){this.wovnWaitAuditListener.pause();this.fallbackTimeout=setTimeout(function(){e.wovnWaitAuditListener.removeWovnWait()},5e3);return this.dynamicLoadingController.findTranslations(r).then(function(t){e.consecutiveErrorCount=0;r.forEach(function(t){e.loadedTranslations[t]=!0;delete e.pendingTranslations[t]});var n=t.body;e.allDynamicLoadingResults=e.mergeDynamicLoadingResults(e.allDynamicLoadingResults,n);e.translationManager.updateDynamicLoadingTranslations(Ou.createFromServer(e.allDynamicLoadingResults))})["catch"](function(){e.consecutiveErrorCount++;r.forEach(function(t){e.pendingTranslations[t]=!0})})["finally"](function(){e.wovnWaitAuditListener.resumeOnNextAudit();clearTimeout(e.fallbackTimeout)})}}},{key:"mergeDynamicLoadingResults",value:function(t,e){return{img_vals:lt.assign({},t.img_vals,e.img_vals),text_vals:lt.assign({},t.text_vals,e.text_vals),html_text_vals:lt.assign({},t.html_text_vals,e.html_text_vals),page_text_vals:lt.assign({},t.page_text_vals,e.page_text_vals)}}}])&&Os(e.prototype,n),r&&Os(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function _s(t){return _s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_s(t)}function As(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xs(r.key),r)}}function xs(t){var e=function(t,e){if("object"!=_s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_s(e)?e:e+""}var js=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.domAccessStrategy=null},(e=[{key:"setDomAccessStrategy",value:function(t){if(t&&this.domAccessStrategy)throw new Error("Concurrent use of CustomDomAccessor.");this.domAccessStrategy=t}},{key:"getParentNode",value:function(t){return this.domAccessStrategy?this.domAccessStrategy.getParentNode(t):t.parentNode}},{key:"getChildNodes",value:function(t){return this.domAccessStrategy?this.domAccessStrategy.getChildNodes(t):lt.toArrayFromDomList(t.childNodes||[])}}])&&As(t.prototype,e),n&&As(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),Ls="data-wovn-original-property";function Is(t,e,n){Ns(e);var r=t["style"];n=n||{style:{}};for(var o=0,i=Object.keys(r);o<i.length;o++){var a=i[o];0==n.style.hasOwnProperty(a)&&(n.style[a]=e.style[a]);e.style[a]=r[a];Us(e,a)}!function(t,e){e.setAttribute(Ls,Z(t))}(n,e)}function Ds(t){if(t.getAttribute){var e=t.getAttribute(Ls);if(e)return JSON.parse(e)}return null}function Ns(t){var e=Ds(t);if(e&&e["style"])for(var n=e["style"],r=0,o=Object.keys(n);r<o.length;r++){var i=o[r];t.style[i]=n[i]}}function Rs(t,e){Is(t,e,Ds(e))}function Us(t,e){var n=e.replace(/([A-Z])/,"-$1").toLowerCase(),r=new RegExp("(("+n+": [^;]+?)( !important)?);","g");t.style.cssText=t.style.cssText.replace(r,"$1 !important;")}function Vs(t){return Vs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vs(t)}function Hs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ms(r.key),r)}}function Ms(t){var e=function(t,e){if("object"!=Vs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vs(e)?e:e+""}var Bs=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.translationRepository=e},(e=[{key:"swap",value:function(t,e,n){n&&Ns(t);var r=this.translationRepository.find(t,e);r&&Is(r,t,null)}}])&&Hs(t.prototype,e),n&&Hs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Fs(t){return Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fs(t)}function Ws(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return qs(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qs(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function qs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function zs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gs(r.key),r)}}function Gs(t){var e=function(t,e){if("object"!=Fs(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fs(e)?e:e+""}var Js=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.customDomAccessor=e;this.unifiedValueComments=n},(e=[{key:"extract",value:function(t){var e,n="",r=Ws(this.customDomAccessor.getChildNodes(t));try{for(r.s();!(e=r.n()).done;){var o=e.value,i=new Qt(o);"#text"===i.nodeName&&(n+=this.unifiedValueComments.getOriginalSrcFromComment(o)||i.data||"")}}catch(t){r.e(t)}finally{r.f()}return n}}])&&zs(t.prototype,e),n&&zs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function $s(t){return $s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$s(t)}function Ks(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Xs(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xs(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Xs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Zs(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ys(r.key),r)}}function Ys(t){var e=function(t,e){if("object"!=$s(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$s(e)?e:e+""}var Qs=function(){return t=function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.customDomAccessor=e;this.srcChildTextContentExtractor=n;this.textNormalizer=r},(e=[{key:"select",value:function(t,e){var n=this,r=-1,o=null;t.forEach(function(t){if(n.isValidCandidatePropertyValue(t,e)){var i=t["dst"]["selectors"],a=n.getEstimationPoint(i,e);if(a>0&&r<=a){r=a;o=t}}});return o||null}},{key:"isValidCandidatePropertyValue",value:function(t,e){for(var n=0,r=Object.keys(t["src_property"]);n<r.length;n++){var o=r[n],i=t["src_property"][o];if("childTextContent"===o){var a=this.srcChildTextContentExtractor.extract(e),u=this.textNormalizer.removeNormalizedWhitespace(a);return this.textNormalizer.removeNormalizedWhitespace(i)===u}if(i!==window.getComputedStyle(e)[o])return!1}return!0}},{key:"getEstimationPoint",value:function(t,e){var n,r=e,o=0,i=Ks(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if((r=this.customDomAccessor.getParentNode(r)).nodeName.toUpperCase()!==a["tag_name"].toUpperCase())return-1;if(r.parentNode&&r.parentNode["children"])for(var u=r.parentNode.children,s=a["position"]||0,l=0,c=0;c<u.length;c++){var f=u[c];if(f.nodeName.toUpperCase()==a["tag_name"].toUpperCase()){if(l===s){if(r!==f)return-1;break}l++}}o++;r.getAttribute&&r.getAttribute("id")==a["element_id"]&&(o+=10);if(a["classes"]&&r.className){var p,d=a["classes"],h=vt.toObject(r.className.split(/\s+/),function(t){return t},function(){return!0}),y=Ks(d);try{for(y.s();!(p=y.n()).done;)h[p.value]&&(o+=10/d.length)}catch(t){y.e(t)}finally{y.f()}}}}catch(t){i.e(t)}finally{i.f()}return o}}])&&Zs(t.prototype,e),n&&Zs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),tl=n(5364),el=n.n(tl);function nl(t){return nl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nl(t)}function rl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return ol(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ol(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ol(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function il(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,al(r.key),r)}}function al(t){var e=function(t,e){if("object"!=nl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=nl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==nl(e)?e:e+""}var ul=function(){return t=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.propertyValues=e;this.bestPropertyValueSelector=n},e=[{key:"getPropertyValues",value:function(){return this.propertyValues}},{key:"find",value:function(t,e){var n=this.findPropertyValue(t,e);return n?n["dst"]:null}},{key:"findPropertyValue",value:function(t,e){var n=(this.propertyValues[e]||{})[t.nodeName]||[];return this.bestPropertyValueSelector.select(n,t)}},{key:"updatePropertyValueIndex",value:function(t,e,n){var r,o,i,a=e.nodeName,u=this.findPropertyValue(e,t);if(u){var s=this.propertyValues[t][a].findIndex(function(t){return e=t,n=u,JSON.stringify(e)===JSON.stringify(n);var e,n});if(-1!==s)if(""===n.dst.style.fontSize){this.propertyValues[t][a].splice(s,1);0===this.propertyValues[t][a].length&&delete this.propertyValues[t][a]}else this.propertyValues[t][a][s]=n}else t in this.propertyValues&&a in this.propertyValues[t]?this.propertyValues[t][a].push(n):t in this.propertyValues?this.propertyValues[t][a]=[n]:this.propertyValues[t]=(r={},i=[n],(o=al(o=a))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i,r)}},{key:"updateSavedPropertyValues",value:function(t){el()(this.propertyValues,t)}},{key:"getChangedPropertyValues",value:function(){this.initializeChangedPropertyMap();return Array.from(this.changedPropertyValues,function(t){var e=rl(t,2);e[0];return e[1]})}},{key:"setChangedPropertyValues",value:function(t,e){this.initializeChangedPropertyMap();this.changedPropertyValues.set(t,e)}},{key:"resetChangedPropertyValues",value:function(){this.changedPropertyValues=new Map}},{key:"initializeChangedPropertyMap",value:function(){this.changedPropertyValues=this.changedPropertyValues||new Map}}],e&&il(t.prototype,e),n&&il(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function sl(t){return sl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(t)}function ll(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function cl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ll(Object(n),!0).forEach(function(e){fl(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ll(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function fl(t,e,n){return(e=dl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dl(r.key),r)}}function dl(t){var e=function(t,e){if("object"!=sl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sl(e)?e:e+""}var hl=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.executor=e},e=[{key:"get",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.executor.get(f(t,"/")+e,n,r,o)}},{key:"getAndParseJson",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.get(t,e,n,r,o).then(function(t){return cl(cl({},t),{},{body:JSON.parse(t.body)})})}},{key:"post",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.executor.post(f(t,"/")+e,n,r,o)}},{key:"postAndParseJson",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.post(t,e,n,r,o).then(function(t){return cl(cl({},t),{},{body:JSON.parse(t.body)})})}},{key:"put",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.executor.put(f(t,"/")+e,n,r,o)}},{key:"putAndParseJson",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return this.put(t,e,n,r,o).then(function(t){return cl(cl({},t),{},{body:JSON.parse(t.body)})})}}],e&&pl(t.prototype,e),n&&pl(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function yl(t){return yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yl(t)}function gl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vl(r.key),r)}}function vl(t){var e=function(t,e){if("object"!=yl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=yl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==yl(e)?e:e+""}function ml(t,e,n){return e=wl(e),function(t,e){if(e&&("object"==yl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,bl()?Reflect.construct(e,n||[],wl(t).constructor):e.apply(t,n))}function bl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(bl=function(){return!!t})()}function wl(t){return wl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},wl(t)}function Sl(t,e){return Sl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Sl(t,e)}var kl=function(t){function e(t,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(o=ml(this,e,[n])).wovnContext=t;o.projectToken=r;return o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Sl(t,e)}(e,t);return n=e,r=[{key:"translate",value:function(t,e){return this.getAndParseJson(this.wovnContext.cdnCacheHost,"/v0/instant_translate",{token:this.projectToken,src:t,tgt_lang:e,unified:!0},Do.FormUrlEncoded)}}],r&&gl(n.prototype,r),o&&gl(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(hl);function Tl(t){return Tl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tl(t)}function Cl(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ol(r.key),r)}}function Ol(t){var e=function(t,e){if("object"!=Tl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Tl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Tl(e)?e:e+""}function El(t,e,n){return e=_l(e),function(t,e){if(e&&("object"==Tl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Pl()?Reflect.construct(e,n||[],_l(t).constructor):e.apply(t,n))}function Pl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Pl=function(){return!!t})()}function _l(t){return _l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_l(t)}function Al(t,e){return Al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Al(t,e)}var xl=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(r=El(this,e,[n])).wovnContext=t;return r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Al(t,e)}(e,t);return n=e,(r=[{key:"reportError",value:function(t,e,n,r,o){return this.post(this.wovnContext.apiHost,"/v0/widget_errors",{error_title:t,error_info:e,user_token:n,url:r,stack_trace:o},Do.FormUrlEncoded)}}])&&Cl(n.prototype,r),o&&Cl(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(hl);function jl(t){return jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jl(t)}function Ll(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Il(r.key),r)}}function Il(t){var e=function(t,e){if("object"!=jl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=jl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==jl(e)?e:e+""}function Dl(t,e,n){return e=Rl(e),function(t,e){if(e&&("object"==jl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Nl()?Reflect.construct(e,n||[],Rl(t).constructor):e.apply(t,n))}function Nl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Nl=function(){return!!t})()}function Rl(t){return Rl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Rl(t)}function Ul(t,e){return Ul=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ul(t,e)}var Vl=function(t){function e(t,n,r,o,i){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(a=Dl(this,e,[n])).wovnContext=t;a.projectToken=r;a.lang=o;a.data=i;return a}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ul(t,e)}(e,t);return n=e,(r=[{key:"findTranslations",value:function(t){var e=this.lang.getDefaultCodeIfExists();return this.postAndParseJson(this.wovnContext.eeHost,"/values/translate",{token:this.projectToken,srcs:t,defaultLang:e,pageId:this.data.pageData.getPageId()},Do.JsonAsText)}}])&&Ll(n.prototype,r),o&&Ll(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(hl);function Hl(t){return Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hl(t)}function Ml(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fl(r.key),r)}}function Bl(t,e,n){return(e=Fl(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fl(t){var e=function(t,e){if("object"!=Hl(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hl(e)?e:e+""}var Wl=function(t){t["Idle"]="Idle";t["Sending"]="Sending";t["Success"]="Success";t["Failed"]="Failed";return t}({}),ql=function(){return t=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Bl(this,"_status",Wl.Idle);Bl(this,"_subscribers",[])},(e=[{key:"status",get:function(){return this._status}},{key:"update",value:function(t){this._status=t;this.notifySubscribers()}},{key:"subscribe",value:function(t){this._subscribers.push(t)}},{key:"unsubscribe",value:function(t){this._subscribers=this._subscribers.filter(function(e){return e!==t})}},{key:"notifySubscribers",value:function(){var t=this;this._subscribers.forEach(function(e){return e(t.status)})}}])&&Ml(t.prototype,e),n&&Ml(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}(),zl=function(t){t["Audit"]="audit";t["ManualCustom"]="manual_custom";t["AutomaticCustom"]="automatic_custom";return t}({}),Gl=function(t){t["Audit"]="audit";t["Custom"]="custom";return t}({});function Jl(t){switch(t){case zl.Audit:return Gl.Audit;case zl.ManualCustom:case zl.AutomaticCustom:return Gl.Custom;default:throw new Error("unknown report source '".concat(t,"'"))}}function $l(t){return $l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$l(t)}function Kl(t,e,n){return e=Zl(e),function(t,e){if(e&&("object"==$l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Xl()?Reflect.construct(e,n||[],Zl(t).constructor):e.apply(t,n))}function Xl(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Xl=function(){return!!t})()}function Zl(t){return Zl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zl(t)}function Yl(t,e){return Yl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yl(t,e)}function Ql(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nc(r.key),r)}}function ec(t,e,n){return e&&tc(t.prototype,e),n&&tc(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nc(t){var e=function(t,e){if("object"!=$l(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$l(e)?e:e+""}var rc=function(){return ec(function t(e,n){Ql(this,t);this.inner=e;this.reportStatusMonitor=n},[{key:"reportValues",value:function(t){function e(e,n,r,o,i,a,u){return t.apply(this,arguments)}e.toString=function(){return t.toString()};return e}(function(t,e,n,r,o,i,a){var u=this;this.reportStatusMonitor.update(Wl.Sending);return this.inner.reportValues(t,e,n,r,o,i,a).then(function(){u.reportStatusMonitor.update(Wl.Success)})["catch"](function(t){u.reportStatusMonitor.update(Wl.Failed);throw t})["finally"](function(){u.reportStatusMonitor.update(Wl.Idle)})})}])}(),oc=function(){return ec(function t(e,n){Ql(this,t);this.secureReportController=e;this.reportController=n},[{key:"reportValues",value:function(t){function e(e,n,r,o,i,a,u){return t.apply(this,arguments)}e.toString=function(){return t.toString()};return e}(function(t,e,n,r,o,i,a){return(u=i)===zl.ManualCustom||u===zl.AutomaticCustom?this.secureReportController.reportValues(t,e,n,r,o,i,a):this.reportController.reportValues(t,e,n,r,o,i,a);var u})}])}(),ic=function(t){function e(t,n,r,o,i,a,u,s,l,c,f){var p;Ql(this,e);(p=Kl(this,e,[t])).api_path=n;p.projectToken=r;p.url=o;p.data=i;p.snippetSettings=a;p.clientLocation=u;p.uuidCookie=s;p.baseUrl=l;p.contentType=c;p.canUseXhrWidgetSession=f;return p}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yl(t,e)}(e,t);return ec(e,[{key:"reportValues",value:function(t){function e(e,n,r,o,i,a,u){return t.apply(this,arguments)}e.toString=function(){return t.toString()};return e}(function(t,e,n,r,o,i,a){var u=this.buildRequestParameters(t,e,n,r,o,i,a),s=this.api_path+this.projectToken;return this.post(this.baseUrl,s,u,this.contentType,this.canUseXhrWidgetSession).then(function(){})})},{key:"buildRequestParameters",value:function(t,e,n,r,o,i,a){var u=this.clientLocation?this.clientLocation.hrefWithoutLangCode:this.url.getLocationWithoutBackendLanguage(),s={session_id:this.uuidCookie.cookie||"",browser_id:window.navigator.userAgent,timestamp:(new Date).getTime()},l={build_hash:d.BUILD_HASH,finger_print:s,custom_block_config:{classes:this.data.domainOptions.getCustomBlockClasses().join(","),tags:this.data.domainOptions.getCustomBlockTags().join(",")}};this.data.domainOptions.hasFeature("snippet_info_in_report")&&(l["snippet_settings"]={token:this.snippetSettings.token,is_creeper:this.snippetSettings.isCreeper,is_backend:this.snippetSettings.isBackend,default_lang:this.snippetSettings.defaultLang,current_lang:this.snippetSettings.currentLang,url_pattern:this.snippetSettings.urlPattern,site_prefix_paths:this.snippetSettings.sitePrefixPaths,lang_param_name:this.snippetSettings.langParamName,custom_domain_langs:this.snippetSettings.customDomainLangs,lang_code_aliases:this.snippetSettings.langCodeAliases,is_crawler_scraping_enabled:this.snippetSettings.isCrawlerScrapingEnabled,snippet_type:this.snippetSettings.snippetType});var c={url:u,page_id:this.data.pageData.getPageId(),no_record_vals:Z(t,4),links:Z(e,4),diagnostics:Z(l,4),report_count:r,source:Jl(i),page_metadata:Z(a,4)};o&&(c["supervised_detected"]=!0);n&&(c["high_priority"]=!0);return c}}])}(hl);function ac(t){return ac="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ac(t)}function uc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sc(r.key),r)}}function sc(t){var e=function(t,e){if("object"!=ac(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ac(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ac(e)?e:e+""}function lc(t,e,n){return e=fc(e),function(t,e){if(e&&("object"==ac(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,cc()?Reflect.construct(e,n||[],fc(t).constructor):e.apply(t,n))}function cc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(cc=function(){return!!t})()}function fc(t){return fc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},fc(t)}function pc(t,e){return pc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},pc(t,e)}var dc=function(t){function e(t,n,r,o,i){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(a=lc(this,e,[n])).wovnContext=t;a.projectToken=r;a.url=o;a.clientLocation=i;return a}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pc(t,e)}(e,t);return n=e,(r=[{key:"notifyCurrentPageNotFound",value:function(){var t={url:this.clientLocation?this.clientLocation.hrefWithoutLangCode:this.url.getLocationWithoutBackendLanguage()};return this.post(this.wovnContext.eeHost,"/page_not_found/"+this.projectToken,t,Do.FormUrlEncoded)}}])&&uc(n.prototype,r),o&&uc(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(hl);function hc(t){return hc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(t)}function yc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gc(r.key),r)}}function gc(t){var e=function(t,e){if("object"!=hc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hc(e)?e:e+""}function vc(t,e,n){return e=bc(e),function(t,e){if(e&&("object"==hc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,mc()?Reflect.construct(e,n||[],bc(t).constructor):e.apply(t,n))}function mc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(mc=function(){return!!t})()}function bc(t){return bc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bc(t)}function wc(t,e){return wc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},wc(t,e)}var Sc=function(e){function n(t,e,r,o,i,a,u){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);(s=vc(this,n,[e])).wovnContext=t;s.projectToken=r;s.clientLocation=o;s.widget=i;s.browserLocation=a;s.performance=u;return s}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wc(t,e)}(n,e);return r=n,(o=[{key:"pageData",value:function(){var e,n=this,r=this.clientLocation?this.widget.getLocation(this.clientLocation.href):this.widget.getLocation(),o={u:r,browser_url:"data:"===this.browserLocation.protocol?r:this.browserLocation.href,page_status_code:null!==(e=this.getPageHttpResponseStatusCode())&&void 0!==e?e:""},i="/js_data/json/1/".concat(this.projectToken,"/");return this.getAndParseJson(this.wovnContext.cdnCacheHost,i,o,Do.FormUrlEncoded)["catch"](function(e){return 204!==e.status?n.getAndParseJson(n.wovnContext.cdnOriginHost,i,o,Do.FormUrlEncoded):t.Promise.reject(e)})}},{key:"previewData",value:function(t){var e={u:this.clientLocation?this.widget.getLocation(this.clientLocation.href):this.widget.getLocation(),signature:t},n="/js_preview_data/".concat(this.projectToken);return this.getAndParseJson(this.wovnContext.eeHost,n,e,Do.FormUrlEncoded)}},{key:"domainOptions",value:function(){var t=this,e=this.clientLocation?this.clientLocation.host:P(this.widget.getLocation()).hostname,n={host:y().toASCII(e)},r="/domain/options/".concat(this.projectToken);return this.getAndParseJson(this.wovnContext.cdnCacheHost,r,n,Do.FormUrlEncoded)["catch"](function(){return t.getAndParseJson(t.wovnContext.cdnOriginHost,r,n,Do.FormUrlEncoded)})}},{key:"previewDomainOptions",value:function(t){var e=this.clientLocation?this.clientLocation.host:P(this.widget.getLocation()).hostname,n={host:y().toASCII(e),signature:t},r="/domain/options_preview/".concat(this.projectToken);return this.getAndParseJson(this.wovnContext.eeHost,r,n,Do.FormUrlEncoded)}},{key:"getPageHttpResponseStatusCode",value:function(){var t,e;if(null===(t=this.performance)||void 0===t||!t.getEntriesByType)return null;var n=null===(e=this.performance.getEntriesByType("navigation"))||void 0===e||null===(e=e[0])||void 0===e?void 0:e["responseStatus"];return void 0!==n?n:null}}])&&yc(r.prototype,o),i&&yc(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(hl);function kc(t){return kc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(t)}function Tc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cc(r.key),r)}}function Cc(t){var e=function(t,e){if("object"!=kc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=kc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==kc(e)?e:e+""}function Oc(t,e,n){return e=Pc(e),function(t,e){if(e&&("object"==kc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ec()?Reflect.construct(e,n||[],Pc(t).constructor):e.apply(t,n))}function Ec(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ec=function(){return!!t})()}function Pc(t){return Pc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pc(t)}function _c(t,e){return _c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_c(t,e)}var Ac=function(e){function n(t,e,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);(o=Oc(this,n,[e])).wovnContext=t;o.projectToken=r;return o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_c(t,e)}(n,e);return r=n,o=[{key:"search",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];Object.keys(r).forEach(function(t){Array.isArray(r[t])?r[t]=r[t].map(function(t){return t.toString()}):r[t]=[r[t].toString()]});var i={q:e,lang:n,filter:JSON.stringify(r)},a="/domains/".concat(this.projectToken,"/search");if(o.length>0){i["domain_tokens"]=o.join(",");a="/domains/search_multi"}return this.getAndParseJson(this.wovnContext.eeHost,a,i,Do.FormUrlEncoded)["catch"](function(e){if(!(e.status>=400&&e.status<500))return t.Promise.reject("Server error");try{var n=JSON.parse(e.body);return t.Promise.reject(n["message"]||"Server error")}catch(e){return t.Promise.reject("Server error")}})}}],o&&Tc(r.prototype,o),i&&Tc(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(hl);function xc(t){return xc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(t)}function jc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lc(r.key),r)}}function Lc(t){var e=function(t,e){if("object"!=xc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=xc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==xc(e)?e:e+""}function Ic(t,e,n){return e=Nc(e),function(t,e){if(e&&("object"==xc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Dc()?Reflect.construct(e,n||[],Nc(t).constructor):e.apply(t,n))}function Dc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Dc=function(){return!!t})()}function Nc(t){return Nc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Nc(t)}function Rc(t,e){return Rc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Rc(t,e)}var Uc=function(t){function e(t,n,r,o,i,a){var u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(u=Ic(this,e,[n])).wovnContext=t;u.projectToken=r;u.clientLocation=o;u.widget=i;u.liveEditorSettings=a;return u}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Rc(t,e)}(e,t);return n=e,(r=[{key:"liveEditorSavedJsonData",value:function(){var t={u:this.clientLocation?this.widget.getLocation(this.clientLocation.href):this.widget.getLocation(),session_token:this.liveEditorSettings.session},e="/in_page/saved_json_data/".concat(this.projectToken);return this.getAndParseJson(this.wovnContext.eeHost,e,t,Do.FormUrlEncoded)}}])&&jc(n.prototype,r),o&&jc(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(hl);function Vc(t){return Vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(t)}function Hc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mc(r.key),r)}}function Mc(t){var e=function(t,e){if("object"!=Vc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vc(e)?e:e+""}function Bc(t,e,n){return e=Wc(e),function(t,e){if(e&&("object"==Vc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Fc()?Reflect.construct(e,n||[],Wc(t).constructor):e.apply(t,n))}function Fc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Fc=function(){return!!t})()}function Wc(t){return Wc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Wc(t)}function qc(t,e){return qc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},qc(t,e)}var zc=function(t){function e(t,n,r,o,i,a,u){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(s=Bc(this,e,[n])).wovnContext=t;s.domainOptions=r;s.pageData=o;s.projectToken=i;s.canUseXhrWidgetSession=a;s.liveEditorSettings=u;return s}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qc(t,e)}(e,t);return n=e,r=[{key:"getTranslatePageTexts",value:function(t){var e,n=t.dstLangCode,r="/pages/".concat(null===(e=this.pageData)||void 0===e?void 0:e.getPageId(),"/translate_page/").concat(n,"/texts");return this.getAndParseJson(this.wovnContext.cdnOriginHost,r,{},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getTranslatePageImages",value:function(t){var e,n=t.dstLangCode,r="/pages/".concat(null===(e=this.pageData)||void 0===e?void 0:e.getPageId(),"/translate_page/").concat(n,"/images");return this.getAndParseJson(this.wovnContext.cdnOriginHost,r,{},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getTranslatePagePropVals",value:function(){var t,e="/pages/".concat(null===(t=this.pageData)||void 0===t?void 0:t.getPageId(),"/live_editor/v2/prop_vals");return this.getAndParseJson(this.wovnContext.cdnOriginHost,e,{},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getTranslateHistory",value:function(t,e,n){var r=this.pageData.getPageId(),o="/pages/".concat(r,"/translate_page/translation_changes/").concat(t,"/").concat(e,"/").concat(n);return this.getAndParseJson(this.wovnContext.cdnOriginHost,o,{},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getLastChangeTranslateHistory",value:function(t,e){return this.getTranslateHistory(t,e,"last_change")}},{key:"getUserRole",value:function(){var t=["session_token="+encodeURIComponent(this.liveEditorSettings.session),"domain_id="+this.domainOptions.getDomainId()].join("&"),e="/in_page/user_role?".concat(t);return this.getAndParseJson(this.wovnContext.cdnOriginHost,e,{},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"publishNewLanguage",value:function(t){var e={lang:t.dstLangCode},n="/pages/".concat(this.pageData.getPageId(),"/translate_page/add_language");return this.postAndParseJson(this.wovnContext.cdnOriginHost,n,e,Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getCDNImagePrefix",value:function(){var t=this.domainOptions.getDomainId(),e="/projects/".concat(t,"/cdn_image_prefix");return this.getAndParseJson(this.wovnContext.cdnOriginHost,e,{},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"removeValues",value:function(t){var e=t.valueIds,n=this.domainOptions.getDomainId(),r="/projects/".concat(n,"/remove_values"),o={page_id:this.pageData.getPageId(),values:e};return this.postAndParseJson(this.wovnContext.cdnOriginHost,r,o,Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"restoreValues",value:function(t){var e=t.valueIds,n=t.dstLangCode,r=this.domainOptions.getDomainId(),o="/projects/".concat(r,"/restore_values"),i={page_id:this.pageData.getPageId(),values:e,target_lang_code:n};return this.postAndParseJson(this.wovnContext.cdnOriginHost,o,i,Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"saveAndPublishTexts",value:function(t){var e=t.dstLangCode,n=t.texts,r=t.properties,o=t.publish,i=t.dynamic_srcs,a={page_id:this.pageData.getPageId(),target_lang_code:e,texts:n,properties:r,dynamic_srcs:i},u="/pages/".concat(a.page_id,"/translate_page/").concat(a.target_lang_code,"/save").concat(o?"_and_publish":"");return this.postAndParseJson(this.wovnContext.cdnOriginHost,u,a,Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"machineTranslateValues",value:function(t){var e=t.values,n=t.isAiPostEdit,r=this.pageData.getPageId(),o={values:e,ai_post_edit:n},i="/pages/".concat(r,"/translate_page/").concat(e[0].targetLang,"/machine_translate");return this.postAndParseJson(this.wovnContext.cdnOriginHost,i,o,Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getPreviewSignatureUrl",value:function(){var t=["host="+location.host,"user_token="+this.projectToken].join("&"),e="/pages/".concat(this.pageData.getPageId(),"/translate_page/preview_signature?").concat(t);return this.getAndParseJson(this.wovnContext.cdnOriginHost,e,{},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"fetchTranslationSuggestions",value:function(t){var e=t.src,n=t.srcLangCode,r=t.dstLangCode,o=this.pageData.getPageId(),i={url:decodeURIComponent(Jt.widgetGetOriginalUrl()),user_token:this.projectToken,session_token:encodeURIComponent(this.liveEditorSettings.session),src:e,source_lang:n},a="/pages/".concat(o,"/translate_page/").concat(r,"/translation_suggestions");return this.postAndParseJson(this.wovnContext.cdnOriginHost,a,i,Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getDynamicValueTranslation",value:function(t,e){var n=this.pageData.getPageId(),r={srcs:t,target_lang_code:e},o="/pages/".concat(n,"/live_editor/v2/get_all_translations_by_srcs");return this.postAndParseJson(this.wovnContext.cdnOriginHost,o,r,Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getTranslationProviders",value:function(){var t=this.pageData.getPageId(),e="/pages/".concat(t,"/live_editor/v2/translation_providers");return this.getAndParseJson(this.wovnContext.cdnOriginHost,e,{},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getUntrustedValuesOnPage",value:function(t){var e=this.pageData.getPageId(),n="/pages/".concat(e,"/translate_page/").concat(t,"/untrusted_values?limit=100&page=1&search=&sort_by=created_at&sort_order=desc");return this.getAndParseJson(this.wovnContext.cdnOriginHost,n,{},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"logEvent",value:function(t,e){var n,r=this.pageData.getPageId(),o="/pages/".concat(r,"/live_editor/").concat(t,"/event");e.user_agent=null===(n=window)||void 0===n||null===(n=n.navigator)||void 0===n?void 0:n.userAgent;return this.postAndParseJson(this.wovnContext.cdnOriginHost,o,e,Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"uploadImageTranslation",value:function(t,e,n){var r={page_id:this.pageData.getPageId(),file:t,image_meta_data:JSON.stringify(e),language:n};return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/image_value/upload_temp",r,Do.MultipartFormData,this.canUseXhrWidgetSession)}},{key:"updatePatterns",value:function(t){var e=this.domainOptions.getDomainId(),n={domain_id:e,pattern_values:t};return this.putAndParseJson(this.wovnContext.cdnOriginHost,"/projects/".concat(e,"/pattern_values"),n,Do.ApplicationJson,this.canUseXhrWidgetSession)}},{key:"updateAssignmentValues",value:function(t){var e=this.domainOptions.getDomainId();return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/lap/".concat(e,"/node_value_assignment/update_values"),t,Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"fetchValueMessages",value:function(t){var e=this.pageData.getPageId();return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/pages/".concat(e,"/node_value_messages/chat_thread"),t,Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"postValueMessages",value:function(t){var e=this.pageData.getPageId();return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/pages/".concat(e,"/node_value_messages"),t,Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"evaluateTranslationQuality",value:function(t,e){var n=this.pageData.getPageId();return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/pages/".concat(n,"/translate_page/").concat(t,"/evaluate_translation_quality"),{page_id:n,target_lang_code:t,values:e},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"evaluateAndPostEditTranslationQualityByPage",value:function(t,e){var n={domain_id:this.domainOptions.getDomainId(),skip_post_edit:t,selected_pages:[this.pageData.getPageId()],target_langs:e};return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/pages/ai_evaluate_and_post_edit",n,Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"postEditPageValues",value:function(t){return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/pages/".concat(this.pageData.getPageId(),"/live_editor/v2/ai_post_edit_page/").concat(t),{},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"fetchMessageNotificationCountsForPage",value:function(t){var e=this.pageData.getPageId(),n="/pages/".concat(e,"/node_value_message_accesses/fetch_message_notification_counts_for_page");return this.postAndParseJson(this.wovnContext.cdnOriginHost,n,{tgt_lang_code:t},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"updateMessageLastSeenTimestamp",value:function(t,e){var n=this.pageData.getPageId(),r="/pages/".concat(n,"/node_value_message_accesses/update_last_seen");return this.postAndParseJson(this.wovnContext.cdnOriginHost,r,{tgt_lang_code:t,src:e},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"fetchAiPostEditSummary",value:function(t){var e=this.pageData.getPageId(),n="/pages/".concat(e,"/live_editor/v2/fetch_ai_post_edit_summary/").concat(t);return this.getAndParseJson(this.wovnContext.cdnOriginHost,n,{},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"pollAiOperationStatus",value:function(t){var e=this.pageData.getPageId(),n="/pages/".concat(e,"/live_editor/v2/page_evaluation_job_status/").concat(t);return this.getAndParseJson(this.wovnContext.cdnOriginHost,n,{},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"verifyValue",value:function(t){var e=t.nodeValues,n=t.verify,r=t.targetLangCode,o=this.domainOptions.getDomainId(),i="/translation_verifications/update_verified/".concat(o,"/").concat(r);return this.postAndParseJson(this.wovnContext.cdnOriginHost,i,{node_value_ids:e,verify:n},Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"saveGlossaryData",value:function(t){var e=this.domainOptions.getDomainId(),n="/term_dictionary/".concat(e,"/le2/save");return this.postAndParseJson(this.wovnContext.cdnOriginHost,n,t,Do.JsonAsText,this.canUseXhrWidgetSession)}},{key:"getPlanInfo",value:function(){var t=this.domainOptions.getDomainId(),e="/projects/".concat(t,"/plan");return this.getAndParseJson(this.wovnContext.cdnOriginHost,e,{},Do.JsonAsText,this.canUseXhrWidgetSession)}}],r&&Hc(n.prototype,r),o&&Hc(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(hl);function Gc(t){return Gc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gc(t)}function Jc(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$c(r.key),r)}}function $c(t){var e=function(t,e){if("object"!=Gc(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gc(e)?e:e+""}function Kc(t,e,n){return e=Zc(e),function(t,e){if(e&&("object"==Gc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Xc()?Reflect.construct(e,n||[],Zc(t).constructor):e.apply(t,n))}function Xc(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Xc=function(){return!!t})()}function Zc(t){return Zc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Zc(t)}function Yc(t,e){return Yc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Yc(t,e)}var Qc=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(r=Kc(this,e,[t])).wovnContext=n;return r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yc(t,e)}(e,t);return n=e,(r=[{key:"createSession",value:function(){return this.postAndParseJson(this.wovnContext.cdnOriginHost,"/in_page/sessions",{},Do.FormUrlEncoded)}}])&&Jc(n.prototype,r),o&&Jc(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(hl);function tf(t){return tf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tf(t)}function ef(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nf(r.key),r)}}function nf(t){var e=function(t,e){if("object"!=tf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tf(e)?e:e+""}function rf(t,e,n){return e=af(e),function(t,e){if(e&&("object"==tf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,of()?Reflect.construct(e,n||[],af(t).constructor):e.apply(t,n))}function of(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(of=function(){return!!t})()}function af(t){return af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},af(t)}function uf(t,e){return uf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},uf(t,e)}var sf=function(e){function n(t,e,r,o,i){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);(a=rf(this,n,[t])).wovnContext=e;a.projectToken=r;a.widget=o;a.browserLocation=i;return a}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uf(t,e)}(n,e);return r=n,(o=[{key:"authenticate",value:function(){var e={token:this.projectToken,original_url:this.browserLocation.origin,url_without_lang:this.browserOriginWithoutWovnLangCode()};return this.getAndParseJson(this.wovnContext.jHost,"/widget_session_auth",e,Do.FormUrlEncoded,!0).then(function(e){return e.body["authorized"]?t.Promise.resolve():t.Promise.reject(e.body["reason"]||"Server error")})}},{key:"createSession",value:function(){return this.postAndParseJson(this.wovnContext.eeHost,"/in_page/xhr_sessions",{url:this.browserLocation.origin},Do.FormUrlEncoded,!0)}},{key:"browserOriginWithoutWovnLangCode",value:function(){return this.widget.getLocation(this.browserLocation.origin)}}])&&ef(r.prototype,o),i&&ef(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(hl);function lf(t){return lf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lf(t)}function cf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ff(r.key),r)}}function ff(t){var e=function(t,e){if("object"!=lf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lf(e)?e:e+""}function pf(t,e,n){return e=hf(e),function(t,e){if(e&&("object"==lf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,df()?Reflect.construct(e,n||[],hf(t).constructor):e.apply(t,n))}function df(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(df=function(){return!!t})()}function hf(t){return hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hf(t)}function yf(t,e){return yf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yf(t,e)}var gf=function(t){function e(t,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(o=pf(this,e,[n])).wovnContext=t;o.canUseXhrWidgetSession=r;return o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yf(t,e)}(e,t);return n=e,(r=[{key:"create",value:function(t,e,n,r,o,i,a,u,s,l){var c=this.canUseXhrWidgetSession?"/xhr_translation_feedback":"/translation_feedback",f={domain_id:t,page_id:e,selected_text:n,selected_srcs:JSON.stringify(r),category:o,priority:i,src_lang_code:a,tgt_lang_code:u,comment:s};l&&(f["screenshot"]=l);return this.post(this.wovnContext.cdnOriginHost,c,f,Do.FormUrlEncoded,!0)}}])&&cf(n.prototype,r),o&&cf(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(hl);function vf(t){return vf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vf(t)}function mf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bf(r.key),r)}}function bf(t){var e=function(t,e){if("object"!=vf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vf(e)?e:e+""}function wf(t,e,n){return e=kf(e),function(t,e){if(e&&("object"==vf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Sf()?Reflect.construct(e,n||[],kf(t).constructor):e.apply(t,n))}function Sf(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Sf=function(){return!!t})()}function kf(t){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},kf(t)}function Tf(t,e){return Tf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Tf(t,e)}var Cf=function(t){function e(t,n,r,o,i,a,u){var s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(s=wf(this,e,[u])).wovnContext=t;s.projectToken=n;s.pageData=r;s.clientLocation=o;s.widget=i;s.canUseXhrWidgetSession=a;return s}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Tf(t,e)}(e,t);return n=e,(r=[{key:"getPreviewSignature",value:function(){var t=this.pageData.getPageId(),e=["host="+(this.clientLocation?this.clientLocation.host:P(this.widget.getLocation()).hostname),"user_token="+this.projectToken].join("&"),n="/pages/".concat(t,"/translate_page/preview_signature?").concat(e);return this.getAndParseJson(this.wovnContext.cdnOriginHost,n,{},Do.JsonAsText,this.canUseXhrWidgetSession)}}])&&mf(n.prototype,r),o&&mf(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(hl);function Of(t){return Of="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Of(t)}function Ef(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pf(r.key),r)}}function Pf(t){var e=function(t,e){if("object"!=Of(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Of(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Of(e)?e:e+""}function _f(t,e,n){return e=xf(e),function(t,e){if(e&&("object"==Of(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Af()?Reflect.construct(e,n||[],xf(t).constructor):e.apply(t,n))}function Af(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Af=function(){return!!t})()}function xf(t){return xf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},xf(t)}function jf(t,e){return jf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},jf(t,e)}var Lf=function(t){function e(t,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(o=_f(this,e,[n])).wovnContext=t;o.projectToken=r;return o}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jf(t,e)}(e,t);return n=e,(r=[{key:"translateTexts",value:function(t,e){var n={token:this.projectToken,tgt_lang:e,texts:t};return this.postAndParseJson(this.wovnContext.apiHost,"/v0/on_demand_translation",n,Do.JsonAsText)}}])&&Ef(n.prototype,r),o&&Ef(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(hl);function If(t){return If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},If(t)}function Df(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nf(r.key),r)}}function Nf(t){var e=function(t,e){if("object"!=If(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=If(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==If(e)?e:e+""}var Rf="/report_values/",Uf="/report/",Vf="/xhr_report/",Hf=function(){return t=function t(e,n,r,o,i,a,u,s,l,c,f,p,d,h,y){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.data=e;this.projectToken=n;this.wovnContext=r;this.serviceExecutor=o;this.url=i;this.clientLocation=a;this.widget=u;this.uuidCookie=s;this.lang=l;this.snippetSettings=c;this.liveEditorSettings=f;this.sessionProxyHttpRequestExecutor=p;this.reportStatusMonitor=d;this.browserLocation=h;this.performance=y},(e=[{key:"instantTranslation",get:function(){return new kl(this.wovnContext,this.serviceExecutor,this.projectToken)}},{key:"onDemandTranslation",get:function(){return new Lf(this.wovnContext,this.serviceExecutor,this.projectToken)}},{key:"translationFeedback",get:function(){var t=this.data.domainOptions.canUseXhrWidgetSession();return new gf(this.wovnContext,t?this.serviceExecutor:this.sessionProxyHttpRequestExecutor,t)}},{key:"translatePage",get:function(){var t=this.data.domainOptions.canUseXhrWidgetSession(),e=t?this.serviceExecutor:this.sessionProxyHttpRequestExecutor;return new Cf(this.wovnContext,this.projectToken,this.data.pageData,this.clientLocation,this.widget,t,e)}},{key:"api",get:function(){return new xl(this.wovnContext,this.serviceExecutor)}},{key:"dynamicLoading",get:function(){return new Vl(this.wovnContext,this.serviceExecutor,this.projectToken,this.lang,this.data)}},{key:"report",get:function(){var t=new ic(this.serviceExecutor,Rf,this.projectToken,this.url,this.data,this.snippetSettings,this.clientLocation,this.uuidCookie,this.wovnContext.eeHost,Do.FormUrlEncoded,!1),e=this.data.domainOptions.canUseXhrWidgetSession(),n=new ic(e?this.serviceExecutor:this.sessionProxyHttpRequestExecutor,e?Vf:Uf,this.projectToken,this.url,this.data,this.snippetSettings,this.clientLocation,this.uuidCookie,this.wovnContext.cdnOriginHost,Do.JsonAsText,e);return new rc(new oc(n,t),this.reportStatusMonitor)}},{key:"pageNotFound",get:function(){return new dc(this.wovnContext,this.serviceExecutor,this.projectToken,this.url,this.clientLocation)}},{key:"widgetData",get:function(){return new Sc(this.wovnContext,this.serviceExecutor,this.projectToken,this.clientLocation,this.widget,this.browserLocation,this.performance)}},{key:"inSiteSearch",get:function(){return new Ac(this.wovnContext,this.serviceExecutor,this.projectToken)}},{key:"liveEditor",get:function(){return new Uc(this.wovnContext,this.serviceExecutor,this.projectToken,this.clientLocation,this.widget,this.liveEditorSettings)}},{key:"inPageSession",get:function(){return new Qc(this.sessionProxyHttpRequestExecutor,this.wovnContext)}},{key:"xhrWidgetSession",get:function(){return new sf(this.serviceExecutor,this.wovnContext,this.projectToken,this.widget,this.browserLocation)}},{key:"authenticatedLiveEditorController",get:function(){var t=this.data.domainOptions.canUseXhrWidgetSession(),e=t?this.serviceExecutor:this.sessionProxyHttpRequestExecutor;return new zc(this.wovnContext,e,this.data.domainOptions,this.data.pageData,this.snippetSettings.token,t,this.liveEditorSettings)}}])&&Df(t.prototype,e),n&&Df(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function Mf(t){return Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mf(t)}function Bf(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Ff(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bf(Object(n),!0).forEach(function(e){Wf(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bf(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Wf(t,e,n){return(e=zf(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qf(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zf(r.key),r)}}function zf(t){var e=function(t,e){if("object"!=Mf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mf(e)?e:e+""}var Gf=function(){return e=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.cancellationTokenSource=e;this.defaultQueryParams={v:d.API_REQUEST_CACHE_KEY};n&&(this.defaultQueryParams["traceId"]=n)},n=[{key:"get",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(n===Do.JsonAsText)return this.sendWithRequestBody(t,"GET",e,n,r,o);e=Ff(Ff({},this.defaultQueryParams),e);var i=this.addUrlParameters(t,e);return this.send(i,"GET",n,"",r,o)}},{key:"post",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return this.sendWithRequestBody(t,"POST",e,n,r,o)}},{key:"put",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return this.sendWithRequestBody(t,"PUT",e,n,r,o)}},{key:"sendWithRequestBody",value:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=No(n,r),u=this.addUrlParameters(t,this.defaultQueryParams);return this.send(u,e,r,a,o,i)}},{key:"addUrlParameters",value:function(t,e){var n=No(e,Do.FormUrlEncoded),r=""!==P(t).search?"&":"?";return n?"".concat(t).concat(r).concat(n):t}},{key:"send",value:function(e,n,r,o){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;a=a||this.cancellationTokenSource.cancellationToken;return new t.Promise(function(t,u){var s;null!==(s=a)&&void 0!==s&&s.isCancelRequested&&u({body:"Request cancelled",headers:{}});var l=new XMLHttpRequest;l.withCredentials=i;l.onreadystatechange=function(){var e;null!==(e=a)&&void 0!==e&&e.isCancelRequested&&u({body:"Request cancelled",headers:{}});l.readyState===Y.DONE&&(200===this.status||304===this.status?t({body:l.responseText,headers:Io(l)}):u({body:l.responseText,status:this.status,headers:{}}))};d.CI_TEST&&console.log("WebServiceExecutor:",n,e);l.open(n,e,!0);l.timeout=6e4;l.ontimeout=function(){u({body:"Request timed out",headers:{}})};l.setRequestHeader&&r!==Do.MultipartFormData&&l.setRequestHeader("Content-Type",r);l.send(o)})}}],n&&qf(e.prototype,n),r&&qf(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function Jf(t){return Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jf(t)}function $f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kf(r.key),r)}}function Kf(t){var e=function(t,e){if("object"!=Jf(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jf(e)?e:e+""}var Xf=/[\n \t\u0020\u0009\u000C\u200B\u000D\u000A]+/g,Zf=/[\n \t\u0020\u0009\u000C\u000D\u000A]+/g,Yf=/[ \t\u0020\u0009\u000C\u200B\u000D]+/g,Qf=/[ \t\u0020\u0009\u000C\u000D]+/g,tp=/^[\s\u00A0\uFEFF\u1680\u180E\u2000-\u200A\u202F\u205F\u3000]+|[\s\u00A0\uFEFF\u1680\u180E\u2000-\u200A\u202F\u205F\u3000]+$/g,ep=/^[\f\r\t\v\u0020\u2028\u2029\u00A0\uFEFF\u1680\u180E\u2000-\u200A\u202F\u205F\u3000]+|[\f\r\t\v\u0020\u2028\u2029\u00A0\uFEFF\u1680\u180E\u2000-\u200A\u202F\u205F\u3000]+$/g,np=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);n=this,o="",(r=Kf(r="wovnEmptyCharacter"))in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o;var n,r,o;this.domainOptions=e;this.normalizeTextCache={};this.normalizeTextCacheWithoutZeroWidthSpace={}},e=[{key:"isNormalizedEmpty",value:function(t){return this.normalizeText(t)===this.wovnEmptyCharacter}},{key:"normalizeText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==t)return null;if(this.normalizeTextCache[t]){var n=this.normalizeTextCache[t];e&&n===this.wovnEmptyCharacter?n="":e||""!==n||(n=this.wovnEmptyCharacter);return n}var r=this.trimText(t,this.domainOptions.hasFeature("newline_support_in_source_language")?Yf:Xf);!1===e&&0===r.length&&(r=this.wovnEmptyCharacter);this.normalizeTextCache[t]=r;return r}},{key:"normalizeTextWithoutZeroWidthSpace",value:function(t){if(null==t)return null;if(this.normalizeTextCacheWithoutZeroWidthSpace[t])return this.normalizeTextCacheWithoutZeroWidthSpace[t];var e=this.trimText(t,this.domainOptions.hasFeature("newline_support_in_source_language")?Qf:Zf);this.normalizeTextCacheWithoutZeroWidthSpace[t]=e;return e}},{key:"removeNormalizedWhitespace",value:function(t){return null==t?t:this.trimText(t,this.domainOptions.hasFeature("newline_support_in_source_language")?Yf:Xf,"")}},{key:"trimText",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",r=this.domainOptions.hasFeature("newline_support_in_source_language"),o=t;$.mutatesTextNodeData()&&!r&&(o=o.replace(/([^\u0000-\u007F])\n([^\u0000-\u007F])/g,"$1$2"));var i=r&&/\S/.test(o)?ep:tp;return o.replace(e,n).replace(i,"")}}],e&&$f(t.prototype,e),n&&$f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function rp(t){return rp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rp(t)}function op(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ip(r.key),r)}}function ip(t){var e=function(t,e){if("object"!=rp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rp(e)?e:e+""}function ap(t){return"__wovn__."+t}var up=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.storage=e},(e=[{key:"getValue",value:function(t,e){var n=ap(t),r=this.getItem(n);if(!r)return null;var o=null;try{o=JSON.parse(r)}catch(t){this.removeItem(n);return null}var i=o["creationTime"],a=o["value"];if(!i||!a){this.removeItem(n);return null}if(i<e||(new Date).getTime()<i){this.removeItem(n);return null}return[i,a]}},{key:"setValue",value:function(t,e,n){var r={creationTime:n,value:e};this.setItem(ap(t),Z(r))}},{key:"removeValue",value:function(t){this.removeItem(ap(t))}},{key:"getItem",value:function(t){try{return this.storage.getItem(t)}catch(t){return null}}},{key:"setItem",value:function(t,e){try{this.storage.setItem(t,e)}catch(e){this.removeItem(t)}}},{key:"removeItem",value:function(t){try{this.storage.removeItem(t)}catch(t){}}},{key:"destroy",value:function(){this.storage.clear()}}])&&op(t.prototype,e),n&&op(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n}();function sp(t){return sp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sp(t)}function lp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cp(r.key),r)}}function cp(t){var e=function(t,e){if("object"!=sp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sp(e)?e:e+""}function fp(t,e,n){return e=dp(e),function(t,e){if(e&&("object"==sp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,pp()?Reflect.construct(e,n||[],dp(t).constructor):e.apply(t,n))}function pp(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(pp=function(){return!!t})()}function dp(t){return dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},dp(t)}function hp(t,e){return hp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},hp(t,e)}var yp=function(t){function e(t,n,r,o,i,a){var u;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(u=fp(this,e,[t,n,o,a])).isOpen=r;u.ignoreType=i;return u}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hp(t,e)}(e,t);return n=e,(r=[{key:"isText",get:function(){return!1}},{key:"src",get:function(){return this.label}},{key:"translationDataSrcKey",get:function(){return this.src}}])&&lp(n.prototype,r),o&&lp(n,o),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,o}(Fi);function gp(t){return!t.isText}function vp(t){return vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(t)}function mp(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return bp(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?bp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function bp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function wp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kp(r.key),r)}}function Sp(t,e,n){return(e=kp(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kp(t){var e=function(t,e){if("object"!=vp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vp(e)?e:e+""}var Tp=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Sp(this,"created_at",null);Sp(this,"published_dst","");Sp(this,"is_page_translation",!1);Sp(this,"is_html",!0);this.headPath=e;this.index=n;this._fragments=r}return e=t,(n=[{key:"fragments",get:function(){return this._fragments}},{key:"path",get:function(){if(this.headPath.match(/title$/))return this.headPath;var t="".concat(this.headPath,"/text()");return 1===this.index?t:"".concat(t,"[").concat(this.index,"]")}},{key:"add",value:function(t){0===this.fragments.length&&t.isClose||this.fragments.push(t)}},{key:"remove",value:function(t){this._fragments=this._fragments.filter(function(e){return-1===t.indexOf(e)})}},{key:"src",get:function(){return this.unignoredFragments.map(function(t){return t.src}).join("")}},{key:"label",get:function(){return this.unignoredFragments.map(function(t){return t.label}).join("")}},{key:"normalizedSrc",get:function(){return this.unignoredFragments.map(function(t){return t.normalizedSrc}).join("")}},{key:"hasTranslatedFragments",get:function(){return this.translatedTextFragments.length>0}},{key:"isFullyTranslated",get:function(){var t=this.textFragments,e=this.translatedTextFragments;return e.length>0&&e.length===t.length}},{key:"translationDataSrcKey",get:function(){return this.unignoredFragments.map(function(t){return t.translationDataSrcKey}).join("")}},{key:"debugHtml",get:function(){return this.fragments.map(function(t){if(gp(t)&&t.isOpen){var e=function(t){for(var e="",n=0;n<t.attributes.length;n++){var r=t.attributes[n];e+="".concat(r.name,'="').concat(r.value,'" ')}return e.trim()}(t.node),n="<".concat(t.node.nodeName.toLowerCase());e&&(n+=" ".concat(e));return n+=">"}return t.src}).join("")}},{key:"textFragments",get:function(){return this.unignoredFragments.filter(Qi)}},{key:"translatedTextFragments",get:function(){return this.textFragments.filter(function(t){return t.isTranslated})}},{key:"unignoredFragments",get:function(){for(var t=[],e=0;e<this.fragments.length;++e){var n=this.fragments[e];if(ur(n.ignoreType)){t.push(n);for(++e;e<this.fragments.length;++e)if(!(n=this.fragments[e]).isText){t.push(n);break}}else t.push(n)}return t}},{key:"lastFragment",get:function(){return this.fragments[this.fragments.length-1]}},{key:"withoutUntranslatedFragments",value:function(){for(var e=[],n=0;n<this.fragments.length;n++){var r=this.fragments[n];if(Qi(r)&&r.isTranslated)e.push(r);else if(gp(r))if(r.isOpen){var o=this.fragments[n+1],i=this.fragments[n+2];if(o&&Qi(o)&&i&&gp(i)&&i.isClose){if(o.isTranslated){e.push(r);e.push(o);e.push(i)}n+=2}else e.push(r)}else e.push(r)}return new t(this.headPath,this.index,e)}},{key:"hasText",value:function(){var t,e=mp(this.fragments);try{for(e.s();!(t=e.n()).done;)if(t.value.isText)return!0}catch(t){e.e(t)}finally{e.f()}return!1}},{key:"buildNextStack",value:function(){return new t(this.headPath,this.index+1)}}])&&wp(e.prototype,n),r&&wp(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function Cp(t){return Cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(t)}function Op(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ep(r.key),r)}}function Ep(t){var e=function(t,e){if("object"!=Cp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Cp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cp(e)?e:e+""}var Pp,_p,Ap,xp=function(t){t["DOM_TRAVERSAL_INTERRUPTED"]="An error has occurred while the widget is accessing the DOM. Some values might remain untranslated.";return t}({}),jp=function(t){t["DOM_TRAVERSAL"]="Dom Traversal";t["LIVE_EDITOR"]="Live Editor";return t}({}),Lp=function(){return e=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.apiController=e;this.snippetSettings=n;this.shouldSendReport=t.REPORT_RATIO>Math.random()},(n=[{key:"error",value:function(e,n,r){if(!this.shouldSendReport)return t.Promise.resolve();var o="",i=n;if(r){i+=r.toString();o=r.stack}return this.apiController.reportError(e,i,this.snippetSettings.token,window.location.href,o).then(function(){})}}])&&Op(e.prototype,n),r&&Op(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();Pp=Lp,Ap=.2,(_p=Ep(_p="REPORT_RATIO"))in Pp?Object.defineProperty(Pp,_p,{value:Ap,enumerable:!0,configurable:!0,writable:!0}):Pp[_p]=Ap;function Ip(t){return Ip="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(t)}function Dp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Np(r.key),r)}}function Np(t){var e=function(t,e){if("object"!=Ip(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ip(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ip(e)?e:e+""}var Rp=function(){},Up=function(){return function(t,e,n){return e&&Dp(t.prototype,e),n&&Dp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r,o,i,a,u,s,l,c){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.textNormalizer=e;this.nodeTypeSolver=n;this.unifiedValueComments=r;this.domTraversalParsableNodeFilterProvider=o;this.onDemandTranslator=i;this.widgetErrorLogger=a;this.excludedContentScope=u;this.widgetInterface=s;this.checkCssBackgroundImageScope=l;this.skipNewlineNormalization=c},[{key:"run",value:function(t,e){var n=function(t){for(var e=t,n="",r=0;e&&"#document"!==e.nodeName;){for(var o=e.previousSibling;o;){o.nodeName===e.nodeName&&r++;o=o.previousSibling}n="/"+e.nodeName.toLowerCase()+(r>0?"[".concat(r+1,"]"):"")+n;e=e.parentNode;r=0}return n}(t.parentNode);return this.startTraversal(t,e,n)}},{key:"startTraversal",value:function(t,e,n){var r=[],o=[],i={nodeName:"",hasAttribute:Rp},a=new Tp(n,1),u=[],s=function(t,e,n){return(e=Np(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}({},t.nodeName.toLowerCase(),Ae(t)),l=this.safeTraversalLoop(i,[t],n,u,a,r,o,e,ir.None,!1,s);l.hasText()&&u.push(l);return{tags:r.filter(function(t){return!sr(t.ignoreType)}),texts:o,valuesStacks:u}}},{key:"safeTraversalLoop",value:function(t,e,n,r,o,i,a,u,s,l,c){try{o=this.traversalLoop(t,e,n,r,o,i,a,u,s,l,c)}catch(t){this.widgetErrorLogger.error(jp.DOM_TRAVERSAL,xp.DOM_TRAVERSAL_INTERRUPTED,t)}return o}},{key:"traversalLoop",value:function(t,e,n,r,o,i,a,u,s,l,c){var f=this;if(s===ir.All||u(t)===ir.All)return o;if(this.widgetInterface.isWidgetElement(t))return o;var p,d=e.length;c=c||{};for(var h=0;h<d;++h){var y=e[h],g=u(y)|s,v=this.isNodeInCssBackgroundImageScope(y,l);this.onDemandTranslator.bindOdtClickEvent(y);var m=y.nodeName.toLowerCase(),b=null;if(c[m]>0){var w=c[m]+1;b=n+"/"+m+"["+w+"]";c[m]=w}else{b=n+"/"+m;c[m]=1}if(Va(t,y)&&!this.domTraversalParsableNodeFilterProvider.isNodeFilteredOut(y)){var S=void 0;if(y.shadowRoot){y.setAttribute("data-wovn-shadow-host","");S="shadow-host"}else S=this.nodeTypeSolver.getType(m,y.className);switch(S){case Da.IGNORE:break;case Da.TAG:i.push(new nu(b,y,g,v));break;case Da.INLINE_IGNORED:o.add(this.createUVOpenTag(y,m,ir.All));Du(m)&&o.add(this.createUVCloseTag(y,m));break;case Da.INLINE:i.push(new nu(b,y,g,v));o.add(this.createUVOpenTag(y,m,g));o=this.safeTraversalLoop(y,y.childNodes,b,r,o,i,a,u,g,v,null);Du(m)&&o.add(this.createUVCloseTag(y,m));break;case Da.TEXT:if(0==this.textNormalizer.normalizeTextWithoutZeroWidthSpace(y.data).length&&!this.unifiedValueComments.hasOriginalSrcComment(y))break;if(!ur(g)){var k=this.concatContinuousTextNodes(e,h+1,[y]);h+=k.skipCount;if(k.nodes.length>0){a.push(k.nodes);var T=k.original.length>0?this.textNormalizer.normalizeText(k.original):k.original;o.add(new Yi(T,y,k.original,k.nodes,k.lookahead,k.skipCount,!0,this.textNormalizer,this.unifiedValueComments,g))}}break;case"shadow-host":case Da.BLOCK:default:i.push(new nu(b,y,g,v));o.hasText()&&r.push(o);var C=o.buildNextStack();o=new Tp(b,1);var O=y.shadowRoot?[y.shadowRoot].concat(lt.toArrayFromDomList(y.childNodes)):y.childNodes;(o=this.safeTraversalLoop(y,O,b,r,o,i,a,u,g,v,null)).hasText()&&r.push(o);o=C}}}if("iframe"===(p=t).nodeName.toLowerCase()&&P(p.src).host===window.location.host)try{var E=u(t)|s,_=this.isNodeInCssBackgroundImageScope(t,l),A=t.contentDocument;if(A){var x=lt.toArrayFromDomList(A.childNodes).filter(function(t){return t.childNodes.length>0})[0];if(x)return this.excludedContentScope.run(A,function(){var e="".concat(n,"[@src='").concat(t.getAttribute("src"),"']");return f.safeTraversalLoop(x,x.childNodes,e,r,o,i,a,u,E,_,null)})}}catch(t){}return o}},{key:"createUVOpenTag",value:function(t,e,n){var r=ur(n);return new yp(r?"<"+e+" wovn-ignore>":"<"+e+">",t,!0,!1,n,this.textNormalizer)}},{key:"createUVCloseTag",value:function(t,e){return new yp("</"+e+">",t,!1,!0,ir.None,this.textNormalizer)}},{key:"concatContinuousTextNodes",value:function(t,e,n){for(var r="",o=[],i=[],a=0,u=0;u<n.length;++u){var s=n[u];r+=s.data;o.push(s)}for(var l=e;l<t.length;++l){var c=t[l],f=c.nodeName.toLowerCase();if("#text"==f){r+=c.data;o.push(c);i.push(c);++a}else{if("#comment"!=f)break;if(this.unifiedValueComments.hasOriginalSrcComment(c)){++a;break}++a}}return{original:r,nodes:o,lookahead:i,skipCount:a}}},{key:"isNodeInCssBackgroundImageScope",value:function(t,e){return!this.checkCssBackgroundImageScope||(e||ve(t)&&Pe(t,"wovn-bg-img"))}}])}();function Vp(t){return Vp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vp(t)}function Hp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mp(r.key),r)}}function Mp(t){var e=function(t,e){if("object"!=Vp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vp(e)?e:e+""}var Bp=function(){return function(t,e,n){return e&&Hp(t.prototype,e),n&&Hp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r,o,i,a,u,s,l){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.textNormalizer=e;this.nodeTypeSolverFactory=n;this.unifiedValueComments=r;this.domTraversalParsableNodeFilterProvider=o;this.onDemandTranslator=i;this.widgetErrorLogger=a;this.excludedContentScope=u;this.widgetInterface=s;this.domainOptions=l},[{key:"create",value:function(){var t=this.nodeTypeSolverFactory.create(),e=this.domainOptions.canTranslateCssBackgroundImages()&&this.domainOptions.getCssBackgroundImagesScope().length>0,n=this.domainOptions.hasFeature("newline_support_in_source_language");return new Up(this.textNormalizer,t,this.unifiedValueComments,this.domTraversalParsableNodeFilterProvider,this.onDemandTranslator,this.widgetErrorLogger,this.excludedContentScope,this.widgetInterface,e,n)}}])}();function Fp(t){return Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(t)}function Wp(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return qp(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function qp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function zp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gp(r.key),r)}}function Gp(t){var e=function(t,e){if("object"!=Fp(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fp(e)?e:e+""}var Jp=function(){return function(t,e,n){return e&&zp(t.prototype,e),n&&zp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.hostAliases=e.map(function(t){return n.toRegex(t)})},[{key:"isMatch",value:function(t){var e=function(t){var e=O(t).match(/^([^\/:?#]+)/);return e&&e[1]?e[1].toLowerCase():null}(t);if(e){var n,r=Wp(this.hostAliases);try{for(r.s();!(n=r.n()).done;){if(n.value.test(e))return!0}}catch(t){r.e(t)}finally{r.f()}}return!1}},{key:"toRegex",value:function(t){return new RegExp(t.replace(/\.\*/,"[^\\.]*"))}}])}();function $p(t){return $p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$p(t)}function Kp(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Xp(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xp(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Xp(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Zp(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yp(r.key),r)}}function Yp(t){var e=function(t,e){if("object"!=$p(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$p(e)?e:e+""}var Qp=function(){return function(t,e,n){return e&&Zp(t.prototype,e),n&&Zp(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.translationLookup=e;this.liveEditorApi=n},[{key:"removeOrphanedComments",value:function(t){var e,n=function(t){function e(t){return t.nodeType===Node.COMMENT_NODE?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}e.acceptNode=e;var n=document.createTreeWalker(t,NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_ELEMENT,e,!1),r=[];t.nodeType===Node.COMMENT_NODE&&r.push(t);for(;n.nextNode();)r.push(n.currentNode);return r}(t),r=Kp(n);try{for(r.s();!(e=r.n()).done;){var o=e.value;pa(o)&&((!o.nextSibling||Ee(o.nextSibling)&&!o.nextSibling.data)&&o.remove())}}catch(t){r.e(t)}finally{r.f()}}},{key:"removeCommentsFromModifiedTextNodes",value:function(t,e){var n=this;t.filter(function(t){return t.hasTranslatedFragments}).forEach(function(t){var r=t.withoutUntranslatedFragments(),o=n.findOriginalTranslationValueStack(e,r.translationDataSrcKey);if(o){var i=n.detectChangesInValueStack(r,o);if(i.length>0){n.liveEditorApi.lastModifiedSrcKey===r.translationDataSrcKey||n.revertChangedFragments(i,t)}}else if(1===r.textFragments.length){var a=r.textFragments[0],u=n.findOriginalTranslationValueStack(e,a.translationDataSrcKey);if(u){var s=n.detectChangesInValueStack(r,u);s.length>0&&n.revertChangedFragments(s,t)}else n.removeCommentFromFragment(a)}else{n.removeWovnAddedWhitespaceOrText(t);t.textFragments.forEach(function(t){return n.removeCommentFromFragment(t)})}})}},{key:"findOriginalTranslationValueStack",value:function(t,e){return this.translationLookup.findTranslation(e,t.fromLangCode)||this.translationLookup.findTranslation(e,t.toLangCode)}},{key:"detectChangesInValueStack",value:function(t,e){var n=this,r=e.textFragments,o=t.textFragments,i=r.length===o.length&&0===r.filter(function(t){return n.containsZeroWidthSpace(t)}).length;if(i){return o.filter(function(t,e){return!n.isSameAsOriginal(t,r[e])})}return[]}},{key:"revertChangedFragments",value:function(t,e){var n=this;this.removeWovnAddedWhitespaceOrText(e);t.forEach(function(t){return n.removeCommentFromFragment(t)})}},{key:"containsZeroWidthSpace",value:function(t){return-1!==t.label.indexOf("")}},{key:"isSameAsOriginal",value:function(t,e){return t.normalizedSrc===e.normalizedSrc||t.normalizedSrc===wa.unescape(e.normalizedSrc)}},{key:"removeCommentFromFragment",value:function(t){t.removeComment()}},{key:"removeWovnAddedWhitespaceOrText",value:function(t){var e=t.translatedTextFragments.filter(function(t){return(e=t.original,new RegExp("".concat(r,"\\s*").concat(r)).test(e))||""===t.translationDataSrcKey;var e});e.forEach(function(t){return t.removeNode()});t.remove(e)}}])}();function td(t){var e={};for(var n in t)try{var r=decodeURIComponent(n).split("-lang=");e[r[0].toLowerCase()+"-lang="+r[1]]=t[n]}catch(r){e[n]=t[n]}return e}function ed(t){return ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(t)}function nd(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function rd(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nd(Object(n),!0).forEach(function(e){od(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nd(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function od(t,e,n){return(e=ad(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function id(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ad(r.key),r)}}function ad(t){var e=function(t,e){if("object"!=ed(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ed(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ed(e)?e:e+""}var ud=function(){return function(t,e,n){return e&&id(t.prototype,e),n&&id(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},[{key:"sanitize",value:function(t){return rd(rd({},t),{},{html_text_vals:this.sanitizeHtmlTextVals(t.html_text_vals),page_text_vals:this.sanitizeHtmlTextVals(t.page_text_vals),link_translations:td(t.link_translations)})}},{key:"sanitizeHtmlTextVals",value:function(t){var e=this,n={};for(var r in t){n[r]={};var o=t[r];for(var i in o){var a=o[i].map(function(t){return e.sanitizeUnifiedValueTranslation(t)});n[r][i]=a}}return n}},{key:"sanitizeUnifiedValueTranslation",value:function(t){var e=this,n=[t.data].map(function(t){return e.removeSpacesAroundOptionElements(t)}).map(function(t){return e.removeContentOfWovnIgnoreTags(t)})[0];return rd(rd({},t),{},{data:n})}},{key:"removeSpacesAroundOptionElements",value:function(t){var e=t.trim(),n=e.indexOf("<option>"),r=e.indexOf("</option>");return 0===n&&r>n?function(t){var e="<[^/>]+>",n=t,r=new RegExp("(".concat(e,")[^<]+?(").concat(e,")"),"g"),o=new RegExp("(".concat("<\\/[^>]+>",")[^<]+?(").concat("<[^>]+>",")"),"g");n=c(n,r,"$1$2");return c(n,o,"$1$2")}(e):t}},{key:"removeContentOfWovnIgnoreTags",value:function(t){return t.replace(/(<\w+\s+wovn-ignore(?:=['"][^'"]*['"])?\s*>)[^>]*(<[^>]+>)/g,"$1$2")}}])}();function sd(t){return sd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(t)}function ld(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cd(r.key),r)}}function cd(t){var e=function(t,e){if("object"!=sd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sd(e)?e:e+""}var fd=function(){return function(t,e,n){return e&&ld(t.prototype,e),n&&ld(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.customDomainLanguages=e;this.langComponent=n},[{key:"getLanguage",value:function(t){return this.getLanguageFromUrl(P(t))}},{key:"getLanguageFromUrl",value:function(t){var e=this.customDomainLanguages.getCustomDomainLanguageByUrl(t);return e?e.language:null}},{key:"removeLanguage",value:function(t,e){return this.removeLanguageFromUrl(P(t),e).href}},{key:"removeLanguageFromUrl",value:function(t,e){var n=this.langComponent.getDefaultCodeIfExists();if(e==n)return t;var r=this.customDomainLanguages.getCustomDomainLanguageByUrl(t);if(!r||r.language==n||r.language!==e)return t;var i=this.customDomainLanguages.getCustomDomainLanguageByLang(n);if(!i)return t;var a=this.changeToNewCustomDomainLanguage(t,r,i);if(i.path.length>1&&o(a.pathname,i.path+p(i.path,"/"))){a.pathname=a.pathname.substring(i.path.length-1);a.href=_(a)}return a}},{key:"addLanguage",value:function(t,e){var n=P(t),r=this.customDomainLanguages.getCustomDomainLanguageByUrl(n),o=this.customDomainLanguages.getCustomDomainLanguageByLang(e);if(r&&o&&r.language!=o.language){return this.changeToNewCustomDomainLanguage(n,r,o).href}return n.href}},{key:"changeToNewCustomDomainLanguage",value:function(t,e,n){var r=t.host.replace(e.domain,n.domain),o=new RegExp("^".concat(f(e.path,"/"),"(/|$)")),i=t.pathname.replace(o,f(n.path,"/")+"$1"),a=t.search?"".concat(t.search):"",u=t.hash;return P("".concat(t.protocol,"//").concat(r).concat(i).concat(a).concat(u))}}])}();function pd(t){return pd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(t)}function dd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hd(r.key),r)}}function hd(t){var e=function(t,e){if("object"!=pd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=pd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==pd(e)?e:e+""}var yd=function(){return function(t,e,n){return e&&dd(t.prototype,e),n&&dd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.customDomainLanguages=e},[{key:"all",get:function(){return this.customDomainLanguages}},{key:"getCustomDomainLanguageByLang",value:function(t){return vt.find(this.customDomainLanguages,function(e){return e.language==t})}},{key:"getCustomDomainLanguageByUrl",value:function(t){var e=this.customDomainLanguages.slice().sort(function(t,e){return e.path.length-t.path.length});return vt.find(e,function(e){return e.isMatch(t)})}}])}();function gd(t){return gd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(t)}function vd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,md(r.key),r)}}function md(t){var e=function(t,e){if("object"!=gd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gd(e)?e:e+""}var bd=function(){return function(t,e,n){return e&&vd(t.prototype,e),n&&vd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.domain=e;this.path=n;this.language=r;this.path=i(n,"/")?n:n+"/"},[{key:"isMatch",value:function(t){return this.domain.toLowerCase()==t.hostname.toLowerCase()&&this.pathIsEqualOrSubsetOf(this.path,t.pathname)}},{key:"pathIsEqualOrSubsetOf",value:function(t,e){for(var n=t.split("/").filter(function(t){return t.length>0}),r=e.split("/").filter(function(t){return t.length>0}),o=0;o<n.length;o++)if(r[o]!==n[o])return!1;return!0}}])}();function wd(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Sd(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sd(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function kd(t){return encodeURIComponent(t.trim())}function Td(t){return decodeURIComponent(t)}function Cd(t){return Cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(t)}function Od(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ed(r.key),r)}}function Ed(t){var e=function(t,e){if("object"!=Cd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Cd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cd(e)?e:e+""}var Pd=function(){return function(t,e,n){return e&&Od(t.prototype,e),n&&Od(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.doc=e;this.location=n;this.domainOptions=r;this.isSecureContext="https:"===n.protocol},[{key:"getValue",value:function(t){var e=function(t){var e=t.split(";").map(function(t){return t.trim().split("=")}).filter(function(t){return 2===t.length}),n={};e.forEach(function(t){var e=wd(t,2),r=e[0],o=e[1];n[r]=o});return n}(this.doc.cookie||"")[kd(t)];return e?Td(e):null}},{key:"setValue",value:function(t,e,n){if(!this.cookieDomain)throw new Error("Unable to set cookie");this.setCookie(t,e,n,this.cookieDomain)}},{key:"eraseValue",value:function(t){this.setValue(t,"",-1)}},{key:"formatExpirationDate",value:function(t){var e=new Date;e.setTime(e.getTime()+24*t*60*60*1e3);return"; expires="+e.toUTCString()}},{key:"setCookie",value:function(t,e,n,r){var o=kd(t)+"=";o+=e?kd(e):"";o+="; path=/";o+=n?this.formatExpirationDate(n):"";o+=r?"; domain="+r:"";this.isSecureContext&&!this.domainOptions.hasFeature("force_insecure_cookies")?o+="; Secure; SameSite=None":o+="; SameSite=Lax";this.doc.cookie=o}},{key:"cookieDomain",get:function(){if(this._cookieDomain)return this._cookieDomain;var t=[],e=this.location.hostname,n=this.domainOptions.getCookieDomainPreference();n&&-1!==e.indexOf(n)&&t.push(n);this.domainOptions.hasFeature("widget_strict_cookie_domain")&&t.push(e);for(var r=e.split("."),o=r.length>1?2:1;o<=r.length;o++)t.push(r.slice(-o).join("."));for(var i=0,a=t;i<a.length;i++){var u=a[i];if(this.canStoreCookie(u)){this._cookieDomain=u;break}}return this._cookieDomain}},{key:"canStoreCookie",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.setCookie(Pr.VALIDATE.name,"ok",Pr.VALIDATE.expirationDays,t);var e="ok"===this.getValue(Pr.VALIDATE.name);this.setCookie(Pr.VALIDATE.name,"",-1,t);var n=!this.getValue(Pr.VALIDATE.name);return e&&n}}])}();function _d(t){return _d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(t)}function Ad(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xd(r.key),r)}}function xd(t){var e=function(t,e){if("object"!=_d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_d(e)?e:e+""}var jd="__wovn__.CookieStore",Ld=function(){return function(t,e,n){return e&&Ad(t.prototype,e),n&&Ad(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.storage=e},[{key:"getValue",value:function(t){var e=this.readAllCookies()[kd(t)];return e?Td(e):null}},{key:"setValue",value:function(t,e,n){var r=this.readAllCookies();r[kd(t)]=kd(e);this.writeAllCookies(r);if(this.getValue(t)!==e)throw new Error("Unable to set cookie")}},{key:"eraseValue",value:function(t){var e=this.readAllCookies();delete e[kd(t)];this.writeAllCookies(e)}},{key:"readAllCookies",value:function(){return JSON.parse(this.storage.getItem(jd)||"{}")}},{key:"writeAllCookies",value:function(t){this.storage.setItem(jd,Z(t))}}])}();function Id(t){return Id="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(t)}function Dd(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Nd(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nd(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Nd(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Rd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ud(r.key),r)}}function Ud(t){var e=function(t,e){if("object"!=Id(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Id(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Id(e)?e:e+""}var Vd=function(){return function(t,e,n){return e&&Rd(t.prototype,e),n&&Rd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.containers=e},[{key:"getValue",value:function(t){var e,n=Dd(this.containers);try{for(n.s();!(e=n.n()).done;){var r=e.value;try{var o=r.getValue(t);if(o)return o}catch(t){}}}catch(t){n.e(t)}finally{n.f()}return null}},{key:"setValue",value:function(t,e,n){var r,o=Dd(this.containers);try{for(o.s();!(r=o.n()).done;){var i=r.value;try{return i.setValue(t,e,n)}catch(t){}}}catch(t){o.e(t)}finally{o.f()}}},{key:"eraseValue",value:function(t){var e,n=Dd(this.containers);try{for(n.s();!(e=n.n()).done;){var r=e.value;try{return r.eraseValue(t)}catch(t){}}}catch(t){n.e(t)}finally{n.f()}}}])}();function Hd(t){return Hd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hd(t)}function Md(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bd(r.key),r)}}function Bd(t){var e=function(t,e){if("object"!=Hd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Hd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Hd(e)?e:e+""}var Fd=Pr.WOVN_UUID,Wd=function(){return function(t,e,n){return e&&Md(t.prototype,e),n&&Md(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.cookieStore=e},[{key:"cookie",get:function(){var t=this.cookieStore.get(Fd);if(t)return t;this.cookieStore.set(Fd,this.createUniqueId());return this.cookieStore.get(Fd)}},{key:"erase",value:function(){this.cookieStore.erase(Fd)}},{key:"createUniqueId",value:function(){return Math.random().toString(36).substr(2,9)}}])}();function qd(t){return qd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(t)}function zd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gd(r.key),r)}}function Gd(t){var e=function(t,e){if("object"!=qd(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=qd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==qd(e)?e:e+""}var Jd=function(){return function(t,e,n){return e&&zd(t.prototype,e),n&&zd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r,o,i,a,u){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.data=e;this.pageDataLoader=n;this.domainOptionsLoader=r;this.widgetSessionManager=o;this.widgetPreview=i;this.liveEditorSettings=a;this.debugSettings=u},[{key:"loadInitialPageAndDomainData",value:function(){var e=this;return this.widgetPreview.getSignature()||this.liveEditorSettings.isEnabled?this.widgetSessionManager.startAndAuthenticate().then(function(){return e.loadDomainOptions()}).then(function(){return e.loadPageData()}):this.debugSettings.loadDataSequentially?this.loadDomainOptions().then(function(){return e.loadPageData()}):t.Promise.all([this.loadDomainOptions(),this.loadPageData()]).then(function(){})}},{key:"loadPageData",value:function(){var t=this;return this.pageDataLoader.loadPageData().then(function(e){return t.data.pageData.set(e)})}},{key:"loadDomainOptions",value:function(){var t=this;return this.domainOptionsLoader.loadDomainOptions().then(function(e){return t.data.domainOptions.setOptions(e)})}}])}();function $d(t){return $d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(t)}function Kd(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xd(r.key),r)}}function Xd(t){var e=function(t,e){if("object"!=$d(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$d(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$d(e)?e:e+""}var Zd="wovn_preview_signature=([^&]+)",Yd=new RegExp(Zd),Qd="wovn_preview_signature",th=function(){return function(t,e,n){return e&&Kd(t.prototype,e),n&&Kd(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=Xd(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"signature",null);this.sessionStorage=e;this.location=n;this.snippetSettings=r;this.history=o},[{key:"isEnabled",get:function(){return!!this.getSignature()}},{key:"loadSignatureFromUrl",value:function(){var t=this.location.search.match(Yd);if(t){var e=t[1];this.signature=e;this.sessionStorage.setValue(Qd,e,Date.now())}}},{key:"removeSignatureFromUrl",value:function(){za(this.snippetSettings.urlPattern)||this.removeSignatureFromUrlInternal()}},{key:"removeSignatureFromUrlInternal",value:function(){var t=new RegExp("&?".concat(Zd));if(this.location.search.match(t)){var e=this.location.pathname+this.location.search.replace(t,"").replace(/^\?&/,"?").replace(/^\?$/,"")+this.location.hash;this.history.replaceState(this.history.state,"",e)}}},{key:"getSignature",value:function(){var t;return this.signature||(this.signature=null===(t=this.sessionStorage.getValue(Qd,0))||void 0===t?void 0:t[1])||null}},{key:"exit",value:function(){this.removeSignatureFromUrlInternal();this.sessionStorage.removeValue(Qd)}}])}();function eh(t){return eh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eh(t)}function nh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oh(r.key),r)}}function rh(t,e,n){return(e=oh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oh(t){var e=function(t,e){if("object"!=eh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=eh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eh(e)?e:e+""}var ih=function(){return function(t,e,n){return e&&nh(t.prototype,e),n&&nh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r,o,i,a,u,s,l,c,f,p){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);rh(this,"EXCLUDED_CLASS","wovn-excluded");rh(this,"INCLUDED_CLASS","wovn-included");rh(this,"DIAGNOSTICS_STYLE_CLASS","wovn-diagnostics");this.data=e;this.api=n;this.widget=r;this.wovnContext=o;this.supervisedContent=i;this.reportHelper=a;this._cookieStore=u;this.lang=s;this.langCookie=l;this.snippetSettings=c;this.pageMetadataManager=f;this.urlComponent=p},[{key:"cookieStore",get:function(){return this._cookieStore}},{key:"getDefaultLang",value:function(){return this.lang.getDefaultCodeIfExists()}},{key:"getSelectedLangCookie",value:function(){return this.langCookie.get()}},{key:"isBackend",value:function(){return this.snippetSettings.isBackend}},{key:"getProjectToken",value:function(){return this.snippetSettings.token}},{key:"showIgnoredTags",value:function(){var t=this;this.insertStyleSheetIfNeeded();var e=[];e=e.concat(Ce("[wovn-ignore], [data-wovn-ignore], [wovn-ignore-content], [data-wovn-ignore-content]"));this.data.getExcludedContent().forEach(function(t){e=e.concat(Ce(t.selector))});e.forEach(function(e){e.classList.add(t.EXCLUDED_CLASS)})}},{key:"showEnabledTags",value:function(){var t=this;this.insertStyleSheetIfNeeded();this.supervisedContent.getSupervisedNodes().forEach(function(e){e.classList.add(t.INCLUDED_CLASS)})}},{key:"customReport",value:function(e){return this.api.isApiReady()?this.reportHelper.immediateReportVals(zl.ManualCustom,e):t.Promise.resolve()}},{key:"getNormalizedPageUrl",value:function(){return this.widget.getLocation()}},{key:"pageReportedAtLeastOnce",value:function(){return this.api.isApiReady()&&this.reportHelper.getReportSuccessCount()>0}},{key:"getLastReportedValues",value:function(){return this.api.isApiReady()&&this.reportHelper.getLastReportedValues()}},{key:"getReportStats",value:function(){return this.api.isApiReady()&&this.reportHelper.getReportStats()}},{key:"getTranslatePageLink",value:function(){var t=this.wovnContext.wovnHost,e=this.data.domainOptions.getDomainId(),n=this.data.pageData.getPageId();return"".concat(t,"projects#/").concat(e,"/web/translate/").concat(n)}},{key:"addLiveEditorTranslation",value:function(t,e,n,r,o){this.translationManager.addLiveEditorTranslation(t,e,n,r,o);this.api.triggerAudit()}},{key:"updateLiveEditorTranslations",value:function(t){this.translationManager.updateLiveEditorTranslations(t);this.api.triggerAudit()}},{key:"addPageMetadata",value:function(t,e){this.pageMetadataManager.add(t,e)}},{key:"refreshUrl",value:function(){this.api.isApiReady()&&this.urlComponent.changeUrlIfNeeded(this.api.getCurrentLang().code)}},{key:"translationManager",get:function(){return this.widget.c("TranslationManager")}},{key:"insertStyleSheetIfNeeded",value:function(){if(Ce("style.".concat(this.DIAGNOSTICS_STYLE_CLASS)).length<=0){var t=document.createElement("style");t.classList.add(this.DIAGNOSTICS_STYLE_CLASS);t.innerHTML="\n      .".concat(this.EXCLUDED_CLASS," { background-color: rgb(255,255,0) !important; color: rgb(0,0,0) !important; outline: 4px solid rgb(160,160,0) !important; }\n      .").concat(this.INCLUDED_CLASS," { background-color: rgb(0,255,255) !important; color: rgb(0,0,0) !important; outline: 4px solid rgb(0,160,160) !important; }\n      .").concat(this.EXCLUDED_CLASS,".").concat(this.INCLUDED_CLASS,",\n      .").concat(this.EXCLUDED_CLASS," .").concat(this.INCLUDED_CLASS,",\n      .").concat(this.INCLUDED_CLASS," .").concat(this.EXCLUDED_CLASS,"\n      { background-color: rgb(255,0,255) !important; color: rgb(0,0,0) !important; outline: 4px solid rgb(160,0,160) !important; }\n      ");document.body.appendChild(t)}}}])}();function ah(t){return ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ah(t)}function uh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sh(r.key),r)}}function sh(t){var e=function(t,e){if("object"!=ah(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ah(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ah(e)?e:e+""}var lh=function(){return function(t,e,n){return e&&uh(t.prototype,e),n&&uh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widget=e;this.dataLoader=n;this.cache=r},[{key:"loadPageData",value:function(){var e=this,n=this.widget.getEncodedLocation(),r=this.cache.get(n);return r?t.Promise.resolve(r):this.dataLoader.loadPageData().then(function(t){e.cache.insert(n,t);return t})}}])}();function ch(t){return ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ch(t)}function fh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ph(r.key),r)}}function ph(t){var e=function(t,e){if("object"!=ch(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ch(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ch(e)?e:e+""}var dh=function(){return function(t,e,n){return e&&fh(t.prototype,e),n&&fh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r,o,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.liveEditorSettings=e;this.widgetPreview=n;this.widgetSessionManager=r;this.normalPageDataLoader=o;this.previewPageDataLoader=i;this.liveEditPageDataLoader=a},[{key:"loadPageData",value:function(){var t=this,e=this.widgetSessionManager.isLoggedIn;return this.liveEditorSettings.isEnabledV1&&e?this.liveEditPageDataLoader.loadPageData():this.widgetPreview.getSignature()&&e?this.previewPageDataLoader.loadPageData()["catch"](function(){return t.normalPageDataLoader.loadPageData()}):this.normalPageDataLoader.loadPageData()}}])}();function hh(t){return hh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hh(t)}function yh(t){return function(t){if(Array.isArray(t))return gh(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return gh(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gh(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function vh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mh(r.key),r)}}function mh(t){var e=function(t,e){if("object"!=hh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hh(e)?e:e+""}var bh=function(){return function(t,e,n){return e&&vh(t.prototype,e),n&&vh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r,o,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widgetDataController=e;this.domainOptionsSanitizer=n;this.widgetPreview=r;this.widgetSessionManager=o;this.location=i},[{key:"loadDomainOptions",value:function(){var t=this,e=this.widgetPreview.getSignature();return(e&&this.widgetSessionManager.isLoggedIn?this.widgetDataController.previewDomainOptions(e):this.widgetDataController.domainOptions()).then(function(e){return t.addCountryCodeToDomainOptions(e)}).then(function(e){return t.addCurrentHostToHostAliases(e)}).then(function(t){return t.body}).then(function(e){return t.domainOptionsSanitizer.sanitize(e)})}},{key:"addCountryCodeToDomainOptions",value:function(t){var e=t.headers,n=e["Country-Code"]||e["country-code"];n&&(t.body.countryCode=n);return t}},{key:"addCurrentHostToHostAliases",value:function(t){var e=t.body["host_aliases"]||[];if(Object.keys(t.body).length>0){var n=this.hostToRegexStr(this.location.host);vt.includes(e,n)||(e=[].concat(yh(e),[n]));t.body["host_aliases"]=e}return t}},{key:"hostToRegexStr",value:function(t){return"^".concat(t.replace(/\./g,"\\."),"$")}}])}();function wh(t){return wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wh(t)}function Sh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kh(r.key),r)}}function kh(t){var e=function(t,e){if("object"!=wh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wh(e)?e:e+""}var Th=function(){return function(t,e,n){return e&&Sh(t.prototype,e),n&&Sh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=kh(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"cache",[]);this.cacheSize=e},[{key:"clear",value:function(){this.cache=[]}},{key:"insert",value:function(t,e){this.cache.unshift({key:t,data:e});this.cache.length>this.cacheSize&&this.cache.pop()}},{key:"get",value:function(t){var e=vt.find(this.cache,function(e){return e.key==t});return e?e.data:null}}])}();function Ch(t){return Ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(t)}function Oh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Eh(r.key),r)}}function Eh(t){var e=function(t,e){if("object"!=Ch(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ch(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ch(e)?e:e+""}var Ph=function(){return function(t,e,n){return e&&Oh(t.prototype,e),n&&Oh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.liveEditorController=e},[{key:"loadPageData",value:function(){return this.liveEditorController.liveEditorSavedJsonData().then(function(t){return t.body})["catch"](function(e){return t.Promise.reject(e)})}}])}();function _h(t){return _h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_h(t)}function Ah(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xh(r.key),r)}}function xh(t){var e=function(t,e){if("object"!=_h(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_h(e)?e:e+""}var jh=function(){return function(t,e,n){return e&&Ah(t.prototype,e),n&&Ah(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.snippetSettings=e;this.staticLanguages=n},[{key:"sanitizedLangAliases",value:function(t){for(var e=[],n=0,r=Object.keys(t.langCodeAliases);n<r.length;n++){var o=r[n],i=t.langCodeAliases[o],a=this.staticLanguages.find(o);""!==i&&null!=a&&e.push({originalLanguage:a,langCodeAlias:i})}return e}},{key:"langAliases",get:function(){return this._langAliases||(this._langAliases=this.sanitizedLangAliases(this.snippetSettings))}},{key:"findAlias",value:function(t){if(!t)return null;t=t.toLowerCase();return vt.find(this.langAliases,function(e){return e.originalLanguage.code.toLowerCase()===t})}},{key:"findFromAlias",value:function(t){if(!t)return null;t=t.toLowerCase();return vt.find(this.langAliases,function(e){return e.langCodeAlias.toLowerCase()===t})}}])}();function Lh(t){return Lh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(t)}function Ih(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dh(r.key),r)}}function Dh(t){var e=function(t,e){if("object"!=Lh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Lh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Lh(e)?e:e+""}var Nh=function(){return function(t,e,n){return e&&Ih(t.prototype,e),n&&Ih(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.languageInfo=e;this.alias=n},[{key:"displayLanguage",get:function(){return this.alias?this.alias.langCodeAlias:this.languageInfo.code}}])}();function Rh(t){return Rh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rh(t)}function Uh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vh(r.key),r)}}function Vh(t){var e=function(t,e){if("object"!=Rh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Rh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rh(e)?e:e+""}var Hh=function(){return function(t,e,n){return e&&Uh(t.prototype,e),n&&Uh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.staticLanguages=e;this.languageAliases=n},[{key:"find",value:function(t){if(!t)return null;t=t.toLowerCase();var e=this.staticLanguages.find(t),n=this.languageAliases.findAlias(t)||this.languageAliases.findFromAlias(t);return n?new Nh(n.originalLanguage,n):e?new Nh(e,n):null}}])}();function Mh(t){return Mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(t)}function Bh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fh(r.key),r)}}function Fh(t){var e=function(t,e){if("object"!=Mh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Mh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Mh(e)?e:e+""}var Wh=JSON.parse('{"ar":{"name":"","tag":{"language":"ar"},"code":"ar","en":"Arabic","use_word_boundary":true,"script_direction":"rtl","unit_type":"word","candidates":["ar"]},"eu":{"name":"Euskara","tag":{"language":"eu"},"code":"eu","en":"Basque","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["eu"]},"bn":{"name":" ","tag":{"language":"bn"},"code":"bn","en":"Bengali","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["bn"]},"bg":{"name":"","tag":{"language":"bg"},"code":"bg","en":"Bulgarian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["bg"]},"my":{"name":"","tag":{"language":"my"},"code":"my","en":"Burmese","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["my"]},"ca":{"name":"Catal","tag":{"language":"ca"},"code":"ca","en":"Catalan","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["ca"]},"zh-CHS":{"name":"","tag":{"language":"zh"},"code":"zh-CHS","en":"Chinese (Simplified)","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["zh-Hans","zh-CHS","zh"]},"zh-CN":{"name":"","tag":{"language":"zh","region":"CN"},"code":"zh-CN","en":"Chinese (Simplified, China)","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["zh-CN","zh","zh-CHS"]},"zh-CHT":{"name":"","tag":{"language":"zh","script":"Hant"},"code":"zh-CHT","en":"Chinese (Traditional)","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["zh-CHT","zh-Hant"]},"zh-Hant-HK":{"name":"","tag":{"language":"zh","region":"HK","script":"Hant"},"code":"zh-Hant-HK","en":"Chinese (Traditional, Hong Kong)","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["zh-Hant-HK","zh-HK","zh-Hant","zh-CHT"]},"zh-Hant-TW":{"name":"","tag":{"language":"zh","region":"TW","script":"Hant"},"code":"zh-Hant-TW","en":"Chinese (Traditional, Taiwan)","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["zh-Hant-TW","zh-TW","zh-Hant","zh-CHT"]},"da":{"name":"Dansk","tag":{"language":"da"},"code":"da","en":"Danish","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["da"]},"nl":{"name":"Nederlands","tag":{"language":"nl"},"code":"nl","en":"Dutch","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["nl"]},"en":{"name":"English","tag":{"language":"en"},"code":"en","en":"English","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en"]},"en-AU":{"name":"English (Australia)","tag":{"language":"en","region":"AU"},"code":"en-AU","en":"English (Australia)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-AU","en"]},"en-CA":{"name":"English (Canada)","tag":{"language":"en","region":"CA"},"code":"en-CA","en":"English (Canada)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-CA","en"]},"en-IN":{"name":"English (India)","tag":{"language":"en","region":"IN"},"code":"en-IN","en":"English (India)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-IN","en"]},"en-NZ":{"name":"English (New Zealand)","tag":{"language":"en","region":"NZ"},"code":"en-NZ","en":"English (New Zealand)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-NZ","en"]},"en-SG":{"name":"English (Singapore)","tag":{"language":"en","region":"SG"},"code":"en-SG","en":"English (Singapore)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-SG","en"]},"en-ZA":{"name":"English (South Africa)","tag":{"language":"en","region":"ZA"},"code":"en-ZA","en":"English (South Africa)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-ZA","en"]},"en-GB":{"name":"English (United Kingdom)","tag":{"language":"en","region":"GB"},"code":"en-GB","en":"English (United Kingdom)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-GB","en"]},"en-US":{"name":"English (United States)","tag":{"language":"en","region":"US"},"code":"en-US","en":"English (United States)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["en-US","en"]},"fi":{"name":"Suomi","tag":{"language":"fi"},"code":"fi","en":"Finnish","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["fi"]},"fr":{"name":"Franais","tag":{"language":"fr"},"code":"fr","en":"French","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["fr"]},"fr-CA":{"name":"Franais (Canada)","tag":{"language":"fr","region":"CA"},"code":"fr-CA","en":"French (Canada)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["fr-CA","fr"]},"fr-FR":{"name":"Franais (France)","tag":{"language":"fr","region":"FR"},"code":"fr-FR","en":"French (France)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["fr-FR","fr"]},"fr-CH":{"name":"Franais (Suisse)","tag":{"language":"fr","region":"CH"},"code":"fr-CH","en":"French (Switzerland)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["fr-CH","fr"]},"gl":{"name":"Galego","tag":{"language":"gl"},"code":"gl","en":"Galician","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["gl"]},"de":{"name":"Deutsch","tag":{"language":"de"},"code":"de","en":"German","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["de"]},"de-AT":{"name":"Deutsch (sterreich)","tag":{"language":"de","region":"AT"},"code":"de-AT","en":"German (Austria)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["de-AT","de"]},"de-DE":{"name":"Deutsch (Deutschland)","tag":{"language":"de","region":"DE"},"code":"de-DE","en":"German (Germany)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["de-DE","de"]},"de-LI":{"name":"Deutsch (Liechtenstein)","tag":{"language":"de","region":"LI"},"code":"de-LI","en":"German (Liechtenstein)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["de-LI","de"]},"de-CH":{"name":"Deutsch (Schweiz)","tag":{"language":"de","region":"CH"},"code":"de-CH","en":"German (Switzerland)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["de-CH","de"]},"el":{"name":"","tag":{"language":"el"},"code":"el","en":"Greek","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["el"]},"he":{"name":"","tag":{"language":"he"},"code":"he","en":"Hebrew","use_word_boundary":true,"script_direction":"rtl","unit_type":"word","candidates":["iw","he"]},"hi":{"name":"","tag":{"language":"hi"},"code":"hi","en":"Hindi","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["hi"]},"hu":{"name":"Magyar","tag":{"language":"hu"},"code":"hu","en":"Hungarian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["hu"]},"id":{"name":"Bahasa Indonesia","tag":{"language":"id"},"code":"id","en":"Indonesian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["id"]},"it":{"name":"Italiano","tag":{"language":"it"},"code":"it","en":"Italian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["it"]},"it-IT":{"name":"Italiano (Italia)","tag":{"language":"it","region":"IT"},"code":"it-IT","en":"Italian (Italy)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["it-IT","it"]},"it-CH":{"name":"Italiano (Svizzera)","tag":{"language":"it","region":"CH"},"code":"it-CH","en":"Italian (Switzerland)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["it-CH","it"]},"ja":{"name":"","tag":{"language":"ja"},"code":"ja","en":"Japanese","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["ja"]},"kn":{"name":"Kannada","tag":{"language":"kn"},"code":"kn","en":"Kannada","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["kn"]},"km":{"name":"","tag":{"language":"km"},"code":"km","en":"Khmer","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["km"]},"ko":{"name":"","tag":{"language":"ko"},"code":"ko","en":"Korean","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["ko"]},"lv":{"name":"Latvieu","tag":{"language":"lv"},"code":"lv","en":"Latvian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["lv"]},"ms":{"name":"Bahasa Melayu","tag":{"language":"ms"},"code":"ms","en":"Malay","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["ms"]},"mn":{"name":"","tag":{"language":"mn"},"code":"mn","en":"Mongolian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["mn"]},"ne":{"name":" ","tag":{"language":"ne"},"code":"ne","en":"Nepali","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["ne"]},"no":{"name":"Norsk","tag":{"language":"no"},"code":"no","en":"Norwegian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["no"]},"fa":{"name":"_","tag":{"language":"fa"},"code":"fa","en":"Persian","use_word_boundary":true,"script_direction":"rtl","unit_type":"word","candidates":["fa"]},"pl":{"name":"Polski","tag":{"language":"pl"},"code":"pl","en":"Polish","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["pl"]},"pt":{"name":"Portugus","tag":{"language":"pt"},"code":"pt","en":"Portuguese","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["pt"]},"pt-BR":{"name":"Portugus (Brasil)","tag":{"language":"pt","region":"BR"},"code":"pt-BR","en":"Portuguese (Brazil)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["pt-BR","pt"]},"pt-PT":{"name":"Portugus (Portugal)","tag":{"language":"pt","region":"PT"},"code":"pt-PT","en":"Portuguese (Portugal)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["pt-PT","pt"]},"ru":{"name":"","tag":{"language":"ru"},"code":"ru","en":"Russian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["ru"]},"si":{"name":"","tag":{"language":"si"},"code":"si","en":"Sinhala","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["si"]},"es":{"name":"Espaol","tag":{"language":"es"},"code":"es","en":"Spanish","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es"]},"es-AR":{"name":"Espaol (Argentina)","tag":{"language":"es","region":"AR"},"code":"es-AR","en":"Spanish (Argentina)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-AR","es"]},"es-CL":{"name":"Espaol (Chile)","tag":{"language":"es","region":"CL"},"code":"es-CL","en":"Spanish (Chile)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-CL","es"]},"es-CO":{"name":"Espaol (Colombia)","tag":{"language":"es","region":"CO"},"code":"es-CO","en":"Spanish (Colombia)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-CO","es"]},"es-CR":{"name":"Espaol (Costa Rica)","tag":{"language":"es","region":"CR"},"code":"es-CR","en":"Spanish (Costa Rica)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-CR","es"]},"es-HN":{"name":"Espaol (Honduras)","tag":{"language":"es","region":"HN"},"code":"es-HN","en":"Spanish (Honduras)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-HN","es"]},"es-419":{"name":"Espaol (Latinoamrica)","tag":{"language":"es","region":"419"},"code":"es-419","en":"Spanish (Latin America)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-419","es"]},"es-MX":{"name":"Espaol (Mxico)","tag":{"language":"es","region":"MX"},"code":"es-MX","en":"Spanish (Mexico)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-MX","es"]},"es-PE":{"name":"Espaol (Per)","tag":{"language":"es","region":"PE"},"code":"es-PE","en":"Spanish (Peru)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-PE","es"]},"es-ES":{"name":"Espaol (Espaa)","tag":{"language":"es","region":"ES"},"code":"es-ES","en":"Spanish (Spain)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-ES","es"]},"es-US":{"name":"Espaol (Estados Unidos)","tag":{"language":"es","region":"US"},"code":"es-US","en":"Spanish (United States)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-US","es"]},"es-UY":{"name":"Espaol (Uruguay)","tag":{"language":"es","region":"UY"},"code":"es-UY","en":"Spanish (Uruguay)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-UY","es"]},"es-VE":{"name":"Espaol (Venezuela)","tag":{"language":"es","region":"VE"},"code":"es-VE","en":"Spanish (Venezuela)","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["es-VE","es"]},"sw":{"name":"Kiswahili","tag":{"language":"sw"},"code":"sw","en":"Swahili","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["sw"]},"sv":{"name":"Svensk","tag":{"language":"sv"},"code":"sv","en":"Swedish","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["sv"]},"tl":{"name":"Tagalog","tag":{"language":"tl"},"code":"tl","en":"Tagalog","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["tl"]},"ta":{"name":"","tag":{"language":"ta"},"code":"ta","en":"Tamil","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["ta"]},"th":{"name":"","tag":{"language":"th"},"code":"th","en":"Thai","use_word_boundary":false,"script_direction":"ltr","unit_type":"character","candidates":["th"]},"tr":{"name":"Trke","tag":{"language":"tr"},"code":"tr","en":"Turkish","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["tr"]},"uk":{"name":"","tag":{"language":"uk"},"code":"uk","en":"Ukrainian","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["uk"]},"ur":{"name":"","tag":{"language":"ur"},"code":"ur","en":"Urdu","use_word_boundary":true,"script_direction":"rtl","unit_type":"word","candidates":["ur"]},"uz":{"name":"Ozbekcha","tag":{"language":"uz"},"code":"uz","en":"Uzbek","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["uz"]},"vi":{"name":"Ting Vit","tag":{"language":"vi"},"code":"vi","en":"Vietnamese","use_word_boundary":true,"script_direction":"ltr","unit_type":"word","candidates":["vi"]}}'),qh=function(){return function(t,e,n){return e&&Bh(t.prototype,e),n&&Bh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.all=lt.values(e)},[{key:"find",value:function(t){return vt.find(this.all,function(e){return function(t,e){return(e=e.toLowerCase())===t.name.toLowerCase()||e===t.code.toLowerCase()||e===t.en.toLowerCase()}(e,t)})}}])}(),zh=new qh(Wh);var Gh=function(t){t["MODAL_CLOSED"]="wovnMachineTranslatedModalClosed";return t}({});function Jh(t){return Jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jh(t)}function $h(t){return function(t){if(Array.isArray(t))return Zh(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Xh(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kh(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||Xh(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xh(t,e){if(t){if("string"==typeof t)return Zh(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zh(t,e):void 0}}function Zh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Yh(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ty(r.key),r)}}function Qh(t,e,n){return(e=ty(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ty(t){var e=function(t,e){if("object"!=Jh(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jh(e)?e:e+""}var ey=function(t){t["INIT_COMPLETED"]="wovnInitCompleted";t["INIT_TRANSLATION_DATA_LOAD_FAILED"]="wovnInitTranslationDataLoadFailure";t["PAGE_DATA_LOAD_FAILED"]="wovnPageDataLoadFailure";t["PAGE_DATA_LOAD_SUCCESS"]="wovnPageDataLoadSuccess";return t}({});function ny(t,e,n){var r=document.createElement("link"),o=t.isVersioned?"".concat(t.cdnCacheHost,"widget/").concat(e,"/css/").concat(n,"?v=").concat(d.BUILD_HASH):"".concat(t.jHost,"css/").concat(n,"?v=").concat(d.BUILD_HASH);if(!document.querySelector('link[href="'.concat(o,'"]'))){r.href=o;r.rel="stylesheet";(document.head||document.body).appendChild(r)}}var ry=function(){return function(t,e,n){return e&&Yh(t.prototype,e),n&&Yh(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r,o,i,a,u,s,l,c,f,p,d,h,y,g,v,m,b,w,S,k,T,C,O,E,P,_){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Qh(this,"hasInitialized",!1);Qh(this,"machineTranslatedModal",null);Qh(this,"langChangedEventCount",0);this.widget=e;this.data=n;this.lang=r;this.tagCustomization=o;this.performanceMonitor=i;this.apiStatus=a;this.wovnWaitAuditListener=u;this.auditTrigger=s;this.singlePageApp=l;this.externalComponentLoader=c;this.widgetSessionManager=f;this.wapInstaller=p;this.liveEditorInstaller=d;this.url=h;this.dataLoader=y;this.widgetPreview=g;this.pageDataCache=v;this.liveEditorSettings=m;this.widgetInterface=b;this.swapIntercom=w;this.cookieStore=S;this.wovnContext=k;this.snippetSettings=T;this.debugSettings=C;this.reportHelper=O;this.domAuditor=E;this.onDemandTranslator=P;this.pageMetadataManager=_},[{key:"start",value:function(t){var e=this;this.hasInitialized=!1;Fu();this.pageDataCache.clear();this.auditTrigger.setAuditor(function(t,n){return e.domAuditor.audit(t,n)});this.insertWidgetStylesheet();this.widgetPreview.loadSignatureFromUrl();this.dataLoader.loadInitialPageAndDomainData().then(function(){return e.onInitialPageDataLoaded()})["catch"](function(){Ot(ey.INIT_TRANSLATION_DATA_LOAD_FAILED)})["finally"](function(){e.data.domainOptions.hasFeature("widget_kill_switch")||e.singlePageApp.listen(function(){return e.reload()});t&&t()})}},{key:"restart",value:function(){var e=this;return this.hasInitialized?t.Promise.resolve():new t.Promise(function(t){e.start(t)})}},{key:"onInitialPageDataLoaded",value:function(){var t=this;if(!this.data.domainOptions.hasFeature("widget_kill_switch")){this.cookieStore.initializeCookiePolicy();this.widgetPreview.removeSignatureFromUrl();this.data.domainOptions.hasFeature("immediate_widget")||this.reportHelper.mustEnsureOneReport()?lt.onDomReady(function(){return t.onDocumentLoaded()}):lt.onLoadingComplete(function(){return t.onDocumentLoaded()});this.data.domainOptions.hasFeature("force_insecure_cookies")&&this.cookieStore.forceConvertAllToInsecure()}}},{key:"insertWidgetStylesheet",value:function(){ny(this.wovnContext,this.snippetSettings.token,"widget")}},{key:"onDocumentLoaded",value:function(){this.hasInitialized||this.initialize()}},{key:"initialize",value:function(){var t=this;this.wapInstaller.installIfNeeded();window.Turbolinks&&lt.onEvent(window.document,"turbolinks:load",function(){return t.widgetInterface.build()});lt.onEvent(window.document,Mt.LANG_CHANGED,function(e){return t.onLangChanged(e)});this.performanceMonitor.mark(Kr.FirstSwapStart);this.data.domainOptions.hasFeature("final_fv_project")&&this.lang.getDocLang()!==this.lang.getDefaultCodeIfExists()&&this.reportHelper.haltReporting();this.insertHreflangLinks();(!this.data.domainOptions.hasFeature("widget_manual_start")||this.debugSettings.forceStart||this.snippetSettings.isCrawlerScrapingEnabled)&&this.startSwapping();this.apiStatus.makeReady();0===this.langChangedEventCount&&this.tagCustomization.load();this.data.domainOptions.useMachineTranslatedModal()&&this.externalComponentLoader.loadExternalComponents(["MachineTranslatedModal"]).then(function(e){var n=Kh(e,1)[0];t.machineTranslatedModal=n;t.machineTranslatedModal.start(!1)});this.performanceMonitor.mark(Kr.FirstSwapEnd);this.widgetSessionManager.startAndAuthenticate().then(function(e){e?t.checkLiveEditorAndPreview():t.liveEditorSettings.isEnabled&&t.liveEditorSettings.removeSettingsFromBrowserUrlState()});this.widgetInterface.listenForDynamicallyAddedCustomWidget();this.swapIntercom.start();this.hasInitialized=!0;Ot(ey.INIT_COMPLETED)}},{key:"checkLiveEditorAndPreview",value:function(){var t=this;this.liveEditorSettings.isEnabled?this.loadLiveEditor():this.widgetPreview.isEnabled?this.widgetInterface.addPreviewModeButton():this.widgetSessionManager.startAndAuthenticate().then(function(e){e&&t.widgetInterface.addSessionTools(t)})}},{key:"startSwapping",value:function(){this.widgetInterface.build();this.wovnWaitAuditListener.listen();this.lang.setDocLang();this.pageMetadataManager.executePageMetadataScripts();this.auditTrigger.start()}},{key:"stopWidget",value:function(){this.domAuditor.stop();this.auditTrigger.stop();this.lang.ignoreBackendLang();this.pageMetadataManager.clear();this.data.pageData.clearPageData()}},{key:"onLangChanged",value:function(t){var e,n=this,r=++this.langChangedEventCount;this.onDemandTranslator.clearOdtResults();this.machineTranslatedModal&&this.machineTranslatedModal.start(t.langChangeReason===Bt.WidgetLangSwitch);var o=this.widget.c("ParcelForwarding");o&&o.updateBannerLanguage();this.tagCustomization.load();null!==(e=this.machineTranslatedModal)&&void 0!==e&&e.isOpen()?At(Gh.MODAL_CLOSED,function(){r===n.langChangedEventCount&&n.url.changeUrlIfNeeded(t.newLangCode)}):this.url.changeUrlIfNeeded(t.newLangCode)}},{key:"reload",value:function(){var t=this;this.stopWidget();return this.dataLoader.loadPageData().then(function(){t.hasInitialized||t.initialize();t.lang.clearDocLang();var e=t.lang.getDocLang();t.url.changeUrlIfNeeded(e);t.widget.c("TranslationManager").clear();t.tagCustomization.load();t.pageMetadataManager.executePageMetadataScripts();t.auditTrigger.restart();Ot(ey.PAGE_DATA_LOAD_SUCCESS)})["catch"](function(){if(!t.widget.cancellationToken.isCancelRequested){t.domAuditor.supervisedSwapVals(t.lang.getDefaultCodeIfExists());Ot(ey.PAGE_DATA_LOAD_FAILED)}})["finally"](function(){t.widget.cancellationToken.isCancelRequested||t.widgetInterface.reload()})}},{key:"destroy",value:function(){this.stopWidget()}},{key:"insertHreflangLinks",value:function(){var t=this.data.domainOptions.getLangPath();if(!this.widget.isBackend()&&"query"===t){var e=this.lang.getDefaultCodeIfExists(),n=[].concat($h(this.data.pageData.getPublishedLangs()),[e]),r=document.getElementsByTagName("head").length>0?document.getElementsByTagName("head")[0]:null;if(r)for(var o=0;o<n.length;o++)if(n[o]){var i=this.url.getUrl(n[o],document.location.href),a=document.createElement("link");a.rel="alternate";a.hreflang=this.lang.iso6391Normalization(n[o]);a.href=i;r.appendChild(a)}}}},{key:"loadLiveEditor",value:function(){this.liveEditorInstaller.installIfNeeded()}}])}();function oy(t){return oy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oy(t)}function iy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ay(r.key),r)}}function ay(t){var e=function(t,e){if("object"!=oy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=oy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==oy(e)?e:e+""}var uy=function(){return function(t,e,n){return e&&iy(t.prototype,e),n&&iy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.textNormalizer=e;this.unifiedValueComments=n},[{key:"addEmptyTextNodes",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.fragments;if(n.length>0)for(var r=n.length-1;r>=-1;--r){var o=-1===r?null:n[r],i=!o||!o.isText,a=r===n.length-1?null:n[r+1],u=!a||!a.isText;if(i&&u){var s=e?document.createTextNode(""):null;e&&(a?a.node.parentNode.insertBefore(s,a.node):o.node.parentNode.appendChild(s));t.fragments.splice(r+1,0,new Yi("",s,"",[s],[],0,!1,this.textNormalizer,this.unifiedValueComments,ir.None))}}return t}}])}();function sy(t){return sy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(t)}function ly(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cy(r.key),r)}}function cy(t){var e=function(t,e){if("object"!=sy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=sy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==sy(e)?e:e+""}var fy=function(){return function(t,e,n){return e&&ly(t.prototype,e),n&&ly(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.pageDataSanitizer=e;this.widgetDataController=n},[{key:"loadPageData",value:function(){var t=this;return this.fetchPageData().then(function(e){return t.pageDataSanitizer.sanitize(e)})}},{key:"fetchPageData",value:function(){return this.widgetDataController.pageData().then(function(t){return t.body})}}])}();function py(t){return py="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},py(t)}function dy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,hy(r.key),r)}}function hy(t){var e=function(t,e){if("object"!=py(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=py(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==py(e)?e:e+""}var yy=function(){return function(t,e,n){return e&&dy(t.prototype,e),n&&dy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.dataLoader=e;this.performanceMonitor=n},[{key:"loadInitialPageAndDomainData",value:function(){var t=this;this.performanceMonitor.mark(Kr.DataLoadStart);return this.dataLoader.loadInitialPageAndDomainData().then(function(){return t.performanceMonitor.mark(Kr.DataLoadEnd)})}},{key:"loadPageData",value:function(){var t=this;this.performanceMonitor.mark(Kr.PageDataLoadStart);return this.dataLoader.loadPageData().then(function(){return t.performanceMonitor.mark(Kr.PageDataLoadEnd)})}}])}();function gy(t){return gy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gy(t)}function vy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,my(r.key),r)}}function my(t){var e=function(t,e){if("object"!=gy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gy(e)?e:e+""}var by=function(){return function(t,e,n){return e&&vy(t.prototype,e),n&&vy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=my(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"nextReloadRequestId",0);this.pageDataLoader=e},[{key:"loadPageData",value:function(){var e=this,n=this.nextReloadRequestId++;return this.pageDataLoader.loadPageData().then(function(r){return e.nextReloadRequestId-1!==n?t.Promise.reject("request was cancelled"):r})}}])}();function wy(t){return wy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wy(t)}function Sy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ky(r.key),r)}}function ky(t){var e=function(t,e){if("object"!=wy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=wy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==wy(e)?e:e+""}function Ty(t,e,n){return e=Oy(e),function(t,e){if(e&&("object"==wy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Cy()?Reflect.construct(e,n||[],Oy(t).constructor):e.apply(t,n))}function Cy(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Cy=function(){return!!t})()}function Oy(t){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Oy(t)}function Ey(t,e){return Ey=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Ey(t,e)}var Py=function(t){function e(t,n,r,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(i=Ty(this,e,[t])).widgetPreview=n;i.location=r;i.translatePageController=o;return i}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ey(t,e)}(e,t);return function(t,e,n){return e&&Sy(t.prototype,e),n&&Sy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"buildHtmlElement",value:function(){var t=this,e=document.createElement("span");e.className="wovn-additional-button wovn-preview-mode-button";e.id="wovn-preview-mode-button";e.setAttribute("wovn","");e.setAttribute("wovn-ignore","");if(this.widgetPreview.isEnabled){e.onclick=function(){t.widgetPreview.exit();t.location.reload()};be(e,"wovn-preview-mode-button--active");e.innerText="Exit Preview"}else{e.onclick=function(){try{e.innerText="Loading";var n=t.location.search||"";return t.translatePageController.getPreviewSignature().then(function(t){var r="wovn_preview_signature=".concat(t.body["signature"]);n=""===n?"?".concat(r):"".concat(n,"&").concat(r);window.open("about:blank","_blank").location=n;e.innerText="Preview Mode"})}catch(t){console.error(t);window.alert("A server error occurred, please retry momentarily.")}};e.innerText="Preview Mode"}return e}}])}(oe);function _y(t){return _y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_y(t)}function Ay(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xy(r.key),r)}}function xy(t){var e=function(t,e){if("object"!=_y(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_y(e)?e:e+""}function jy(t,e,n){return e=Iy(e),function(t,e){if(e&&("object"==_y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ly()?Reflect.construct(e,n||[],Iy(t).constructor):e.apply(t,n))}function Ly(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ly=function(){return!!t})()}function Iy(t){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Iy(t)}function Dy(t,e){return Dy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Dy(t,e)}var Ny=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);return jy(this,e,arguments)}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Dy(t,e)}(e,t);return function(t,e,n){return e&&Ay(t.prototype,e),n&&Ay(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"buildHtmlElement",value:function(){var t=document.createElement("div");t.id="wovn-preview-mode-border";return t}}])}(oe);function Ry(t){return Ry="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ry(t)}function Uy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vy(r.key),r)}}function Vy(t){var e=function(t,e){if("object"!=Ry(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ry(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ry(e)?e:e+""}function Hy(t,e,n){return e=By(e),function(t,e){if(e&&("object"==Ry(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,My()?Reflect.construct(e,n||[],By(t).constructor):e.apply(t,n))}function My(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(My=function(){return!!t})()}function By(t){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},By(t)}function Fy(t,e){return Fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Fy(t,e)}var Wy=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(r=Hy(this,e)).widgetPreview=t;r.serverControllerFactory=n;return r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Fy(t,e)}(e,t);return function(t,e,n){return e&&Uy(t.prototype,e),n&&Uy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"build",value:function(){return[new Py(this.buildDomInsertStrategy(),this.widgetPreview,window.location,this.serverControllerFactory.translatePage),new Ny(this.buildDomInsertStrategy())]}}])}(Re),qy=Wy,zy=/^(\w+)(-?|$)/i;function Gy(t){return Gy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gy(t)}function Jy(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function $y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jy(Object(n),!0).forEach(function(e){Ky(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Jy(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Ky(t,e,n){return(e=Zy(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xy(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zy(r.key),r)}}function Zy(t){var e=function(t,e){if("object"!=Gy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Gy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Gy(e)?e:e+""}var Yy=function(){return function(t,e,n){return e&&Xy(t.prototype,e),n&&Xy(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.data=e;this.navigator=n},[{key:"getLanguage",value:function(){var t=this,e=this.sortedProjectLanguages,n=this.nativeBrowserLanguages().map(function(n){return t.findSupportedProjectLanguage(e,n)}),r=n.filter(function(t){return null!=t})[0];return r?$y($y({},r),{},{isFirstUserPreference:0===n.indexOf(r)}):null}},{key:"findSupportedProjectLanguage",value:function(t,e){var n=this.fallbackLanguageCode(e);return this.findProjectLanguage(t,e)||n&&this.findProjectLanguage(t,n)||this.findProjectLanguageWithSameGenericLanguage(t,e)}},{key:"sortedProjectLanguages",get:function(){return this.data.getTranslatableLangsAsLangInfo().slice().sort(function(t,e){return e.code.length-t.code.length})}},{key:"findProjectLanguage",value:function(t,e){return this.findProjectLanguageExactMatch(t,e)||this.findProjectLanguageByCandidates(t,e)}},{key:"findProjectLanguageExactMatch",value:function(t,e){return vt.find(t,function(t){return function(t,e){return e.toLowerCase()===t.code.toLowerCase()}(t,e)})}},{key:"findProjectLanguageByCandidates",value:function(t,e){return vt.find(t,function(t){return(t.candidates||[]).some(function(t){return t.toLowerCase()===e.toLowerCase()})})}},{key:"findProjectLanguageWithSameGenericLanguage",value:function(t,e){var n,r,o=(n=e,(r=zy.exec(n))&&r[1]);return o?this.findProjectLanguage(t,o):null}},{key:"nativeBrowserLanguages",value:function(){if(this.navigator.languages&&this.navigator.languages.length>0)return this.navigator.languages;var t=this.navigator.language||this.navigator["userLanguage"]||this.navigator["browserLanguage"];return t?[t]:[]}},{key:"fallbackLanguageCode",value:function(t){if(o(t=t.toLowerCase(),"zh-hant"))return"zh-CHT";if(o(t,"zh-hans"))return"zh-CHS";switch(t.toLowerCase()){case"zh-tw":case"zh-hk":return"zh-CHT";case"zh-cn":case"zh-sg":case"zh":return"zh-CHS";case"iw":return"he";default:return null}}}])}();function Qy(t){return Qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qy(t)}function tg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eg(r.key),r)}}function eg(t){var e=function(t,e){if("object"!=Qy(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qy(e)?e:e+""}var ng=function(){return function(t,e,n){return e&&tg(t.prototype,e),n&&tg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.nodeTypeTable=e;this.customBlockClassRegex=n.length>0?ke(n):null},[{key:"getType",value:function(t,e){return this.isCustomBlockClass(e)?Da.BLOCK:this.nodeTypeTable[t]||Da.BLOCK}},{key:"isCustomBlockClass",value:function(t){return t&&this.customBlockClassRegex&&this.customBlockClassRegex.test(t)}}])}();function rg(t){return rg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(t)}function og(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ig(r.key),r)}}function ig(t){var e=function(t,e){if("object"!=rg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=rg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==rg(e)?e:e+""}var ag=function(){return function(t,e,n){return e&&og(t.prototype,e),n&&og(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widgetData=e},[{key:"create",value:function(){var t=this.buildNodeTypeTable();return new ng(t,this.widgetData.domainOptions.getCustomBlockClasses())}},{key:"buildNodeTypeTable",value:function(){var t=this,e=this.widgetData.domainOptions.getCustomBlockTags(),n={"#comment":Da.IGNORE,"#text":Da.TEXT};Nu.skipElements.forEach(function(t){n[t]=Da.IGNORE});Nu.skipElementsWithoutAttributes.forEach(function(t){n[t]=Da.TAG});Nu.emptyElements.forEach(function(r){t.isCustomBlockTag(r,e)||(n[r]=Da.INLINE)});Nu.inlineElements.forEach(function(r){t.isCustomBlockTag(r,e)||(n[r]=Da.INLINE)});Nu.inlineIgnoredElements.forEach(function(t){n[t]=Da.INLINE_IGNORED});this.widgetData.domainOptions.hasFeature("option_tag_as_block")&&delete n["option"];return n}},{key:"isCustomBlockTag",value:function(t,e){return vt.includes(e,t)}}])}();function ug(t){return ug="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ug(t)}function sg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lg(r.key),r)}}function lg(t){var e=function(t,e){if("object"!=ug(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ug(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ug(e)?e:e+""}var cg=function(){return function(t,e,n){return e&&sg(t.prototype,e),n&&sg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widgetInit=e;this.lang=n;this.shopifyLanguageConverter=r},[{key:"start",value:function(t){var e=this;window.addEventListener("wovnLangChanged",function(){return e.setShopifyCartLocale(e.shopifyLanguageConverter)});this.widgetInit.start(t)}},{key:"startSwapping",value:function(){this.widgetInit.startSwapping()}},{key:"reload",value:function(){this.widgetInit.reload()}},{key:"setShopifyCartLocale",value:function(t){var e=zh.find(this.lang.getDocLang());if(e){var n=t.getShopifyCompatibleLangCode(e);if(n)for(var r=document.querySelectorAll("form[action^='/cart']"),o=0;o<r.length;++o){var i=new(Qn())(r[o].getAttribute("action"),!0);i.query.locale=n;r[o].setAttribute("action",i.toString().replace(i.origin,""))}}}}])}();function fg(t){return fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fg(t)}function pg(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return dg(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dg(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function dg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function hg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yg(r.key),r)}}function yg(t){var e=function(t,e){if("object"!=fg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=fg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==fg(e)?e:e+""}var gg=function(){return function(t,e,n){return e&&hg(t.prototype,e),n&&hg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=yg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"shopifyLangCodes",["pt-BR","da","nl","en","fi","fr","de","hi","it","ja","ko","nb","zh-CN","es","sv","th","zh-TW"])},[{key:"getShopifyCompatibleLangCode",value:function(t){var e=t.code;if("zh-CHT"===e)return"zh-TW";if("zh-CHS"===e)return"zh-CN";if("no"===e)return"nb";var n,r=pg(this.shopifyLangCodes);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(e===o||vt.includes(t.candidates,o))return o}}catch(t){r.e(t)}finally{r.f()}return null}}])}();function vg(t){return vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vg(t)}function mg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function bg(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mg(Object(n),!0).forEach(function(e){wg(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mg(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function wg(t,e,n){return(e=kg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,kg(r.key),r)}}function kg(t){var e=function(t,e){if("object"!=vg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vg(e)?e:e+""}var Tg=function(){return function(t,e,n){return e&&Sg(t.prototype,e),n&&Sg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)},[{key:"sanitize",value:function(t){return bg(bg({},t),{},{link_translations:td(t.link_translations)})}}])}();function Cg(t){return Cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cg(t)}function Og(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Eg(r.key),r)}}function Eg(t){var e=function(t,e){if("object"!=Cg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Cg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Cg(e)?e:e+""}var Pg=function(){return function(t,e,n){return e&&Og(t.prototype,e),n&&Og(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.textNormalizer=e;this.unifiedValueComments=n},[{key:"createValuesStackFromText",value:function(t){return new Tp("",1,[this.createDummyUVText(t)])}},{key:"createValuesStackFromHtml",value:function(t){var e=t.split(/(<\/?[0-9a-zA-Z\-]+.*?>)/);if(1==e.length&&""==e[0])return this.createValuesStackFromText(e[0]);for(var n=[],r=0;r<e.length;++r){var o=e[r];if(""!=o)if(this.isOpenTag(o)){var i=o.toLowerCase(),a=ir.None;-1!==i.indexOf("wovn-ignore-content")&&(a|=ir.TagContent);-1!==i.indexOf("wovn-ignore-attrs")&&(a|=ir.Attributes);i.match(/wovn-ignore[^-]/)&&(a|=ir.All);n.push(new yp(i,null,!0,!1,a,this.textNormalizer))}else if(this.isCloseTag(o)){var u=o.toLowerCase();n.push(new yp(u,null,!1,!0,ir.None,this.textNormalizer))}else n.push(this.createDummyUVText(o))}return new Tp("",1,n)}},{key:"isOpenTag",value:function(t){return"<"==t[0]&&"/"!=t[1]&&">"==t[t.length-1]}},{key:"isCloseTag",value:function(t){return"<"==t[0]&&"/"==t[1]&&">"==t[t.length-1]}},{key:"createDummyUVText",value:function(t){return new Yi(t,null,t,null,null,0,!0,this.textNormalizer,this.unifiedValueComments,ir.None)}}])}();function _g(t){return _g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_g(t)}function Ag(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xg(r.key),r)}}function xg(t){var e=function(t,e){if("object"!=_g(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=_g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_g(e)?e:e+""}var jg=function(){return function(t,e,n){return e&&Ag(t.prototype,e),n&&Ag(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=xg(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"length",0)},[{key:"clear",value:function(){}},{key:"getItem",value:function(t){return null}},{key:"key",value:function(t){return null}},{key:"removeItem",value:function(t){}},{key:"setItem",value:function(t,e){}}])}();function Lg(){try{if(window.localStorage)return window.localStorage}catch(t){return new jg}return new jg}function Ig(){try{if(window.sessionStorage)return window.sessionStorage}catch(t){return new jg}return new jg}function Dg(t){return Dg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dg(t)}function Ng(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rg(r.key),r)}}function Rg(t){var e=function(t,e){if("object"!=Dg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Dg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Dg(e)?e:e+""}var Ug=function(){return function(t,e,n){return e&&Ng(t.prototype,e),n&&Ng(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.data=e;this.wovnElementFilter=n;this._isSupervisedPage=null},[{key:"getSupervisedNodes",value:function(){var t=this.data.getIncludedContent().map(function(t){return t.selector}),e=Ce(["[wovn-enable]","[data-wovn-enable]"].concat(t).join(", "));return function(t){var e=[];t.forEach(function(n){t.forEach(function(t){n!==t&&n.contains(t)&&e.push(t)})});return t.filter(function(t){return!vt.includes(e,t)})}(this.wovnElementFilter.filterOutWovnElements(e))}},{key:"isSupervisedPage",value:function(){null===this._isSupervisedPage&&(this._isSupervisedPage=this.data.domainOptions.hasSupervisedDomainFeature()||Pe(document.documentElement,"wovn-supervised"));return this._isSupervisedPage}}])}();function Vg(t){return Vg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vg(t)}function Hg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Mg(r.key),r)}}function Mg(t){var e=function(t,e){if("object"!=Vg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Vg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Vg(e)?e:e+""}var Bg=function(){return function(t,e,n){return e&&Hg(t.prototype,e),n&&Hg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widget=e;this.urlFormatterFactory=n;this.linkTranslationsRepository=r},[{key:"findTranslation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"href",r=this.isPreviouslyTranslated(t);try{var o=r?t.getAttribute("data-wovn-link-src-href"):t.getAttribute(n),i=this.urlFormatterFactory.createFromUrl(o).getNormalizedPageUrl(this.widget.isBackend(),this.widget.getBackendUrlPattern()),a=P(i);return this.linkTranslationsRepository.lookupTranslation(a,e)}catch(t){return null}}},{key:"isPreviouslyTranslated",value:function(t){return!!t.getAttribute("data-wovn-link-src-href")}},{key:"applyTranslation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"href";if(e.isDisabled){t.setAttribute(n,"javascript:void(0)");t.setAttribute("disabled","disabled")}else{t.getAttribute(n)!==e.translatedHref&&t.setAttribute(n,e.translatedHref);t.removeAttribute("disabled")}t.setAttribute("data-wovn-link-src-href",e.srcAbsoluteHref)}},{key:"removeTranslation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"href",n=t.getAttribute("data-wovn-link-src-href");if(n){t.setAttribute(e,n);t.removeAttribute("data-wovn-link-src-href");t.removeAttribute("disabled")}}}])}();function Fg(t){return Fg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fg(t)}function Wg(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return qg(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qg(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function qg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function zg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gg(r.key),r)}}function Gg(t){var e=function(t,e){if("object"!=Fg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fg(e)?e:e+""}var Jg=function(){return function(t,e,n){return e&&zg(t.prototype,e),n&&zg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widgetData=e;this.hostAliasMatcher=n},[{key:"lookupTranslation",value:function(t,e){var n=this.normalizeAbsoluteHref(t.href);return this.absoluteUrlLookup(t,n,e)||this.internalDomainAbsolutePathLookup(t,n,e)}},{key:"normalizeAbsoluteHref",value:function(t){try{return decodeURIComponent(t)}catch(e){return t}}},{key:"internalDomainAbsolutePathLookup",value:function(t,e,n){if(this.hostAliasMatcher.isMatch(e)){var r=(function(t){var e=O(t),n=k(t),r=C(e),o=function(t){var e=t.match(/(\#[^?]*)/);return e&&e[1]?e[1]:null}(e),i=n;r&&(i=(null!==i?i:"")+r);o&&(i=(null!==i?i:"")+o);return i}(e)+"-lang=").toLowerCase()+n,o=this.widgetData.getLinkTranslations()[r];if(o)return this.createLinkTranslationResult(t,o,n)}return null}},{key:"absoluteUrlLookup",value:function(t,e,n){var r,o="http:"===t.protocol||"https:"===t.protocol,i=Wg(this.getTranslationKeyCandidates(e,t,o,t.protocol));try{for(i.s();!(r=i.n()).done;){var a=(r.value+"-lang=").toLowerCase()+n,u=this.widgetData.getLinkTranslations()[a];if(u)return this.createLinkTranslationResult(t,u,n,o)}}catch(t){i.e(t)}finally{i.f()}}},{key:"getTranslationKeyCandidates",value:function(t,e,n,r){var o=[t];if(!n)return o;var i=e.pathname,a=P(e.href);"/"==i[i.length-1]?a.pathname=i.slice(0,i.length-1):a.pathname=i+"/";o.push(this.extractUrlNormalized(a));for(var u=[],s=0,l=o;s<l.length;s++){var c=l[s];u.push(c);u.push(S(c,"http:"===r?"https":"http"));u.push(S(c,""))}return u}},{key:"extractUrlNormalized",value:function(t){var e=t.protocol+"//"+t.host+t.pathname+t.search+t.hash;return this.normalizeAbsoluteHref(e)}},{key:"createLinkTranslationResult",value:function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o="disabled"===e;return{srcAbsoluteHref:t.href,isDisabled:o,translatedHref:o?"":r?this.createTranslatedHref(t,e):e,targetLang:n}}},{key:"createTranslatedHref",value:function(t,e){if(x(e))return e;var n=t.href,r=t.pathname+t.search+t.hash;return n.replace(r,e)}}])}();function $g(t){return $g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$g(t)}function Kg(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xg(r.key),r)}}function Xg(t){var e=function(t,e){if("object"!=$g(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$g(e)?e:e+""}var Zg=function(){return function(t,e,n){return e&&Kg(t.prototype,e),n&&Kg(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.workingOnPromise=!1;this.isStopped=!1;this.queue=[]},[{key:"enqueue",value:function(e){var n=this;return new t.Promise(function(t,r){if(!n.isStopped){n.queue.push({promiseFunc:e,resolve:t,reject:r});n.dequeue()}})}},{key:"dequeue",value:function(){var t=this;if(this.workingOnPromise)return!1;var e=this.queue.shift();if(!e)return!1;try{this.workingOnPromise=!0;e.promiseFunc().then(function(){t.workingOnPromise=!1;e.resolve();t.dequeue()})["catch"](function(n){t.workingOnPromise=!1;e.reject(n);t.dequeue()})}catch(t){this.workingOnPromise=!1;e.reject(t);this.dequeue()}return!0}},{key:"clear",value:function(){this.queue=[]}},{key:"length",value:function(){return this.queue.length}},{key:"stop",value:function(){this.isStopped=!0}},{key:"restart",value:function(){this.isStopped=!1}}])}();function Yg(t){return Yg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yg(t)}function Qg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return tv(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tv(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function ev(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uv(r.key),r)}}function nv(t,e,n){return e=ov(e),function(t,e){if(e&&("object"==Yg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,rv()?Reflect.construct(e,n||[],ov(t).constructor):e.apply(t,n))}function rv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(rv=function(){return!!t})()}function ov(t){return ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ov(t)}function iv(t,e){return iv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},iv(t,e)}function av(t,e,n){return(e=uv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uv(t){var e=function(t,e){if("object"!=Yg(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Yg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Yg(e)?e:e+""}var sv=function(e){function n(t,e,r,o,i){var a;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n);av(a=nv(this,n,[e]),"statusUpdateRenderDelay",1e3);av(a,"buttonTemplates",{loading:{html:"Sending report...",className:"wovn-report-values-button__status--loading"},success:{html:"Report sent".concat(ge),className:"wovn-report-values-button__status--success"},error:{html:"Error. Try again ".concat(ye),className:"wovn-report-values-button__status--error"}});a.internalApi=t;a.externalComponentLoader=r;a.autoTriggerReportCookie=o;a.reportStatusMonitor=i;a.queuedPromises=new Zg;a.subscribedReport=function(t){return a.onReportStatusUpdated(t)};a.hasAutoTriggerReportCookie()&&a.reportStatusMonitor.subscribe(a.subscribedReport);return a}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iv(t,e)}(n,e);return function(t,e,n){return e&&ev(t.prototype,e),n&&ev(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(n,[{key:"buildHtmlElement",value:function(){var t=this;this.buttonElement=document.createElement("div");var e=document.createElement("span");e.classList.add("wovn-report-values-button__label");e.innerText="Custom Report";this.actionButtonElement=document.createElement("span");this.actionButtonElement.classList.add("wovn-report-values-button__status");this.resetButtonLabel();this.buttonElement.className=this.hasAutoTriggerReportCookie()?"wovn-additional-button wovn-report-values-button wovn-report-values-button--auto":"wovn-additional-button wovn-report-values-button wovn-report-values-button--manual";this.buttonElement.setAttribute("wovn","");this.buttonElement.setAttribute("wovn-ignore","");this.buttonElement.appendChild(e);this.buttonElement.appendChild(this.actionButtonElement);this.buttonElement.onclick=function(){t.externalComponentLoader.loadExternalComponents(["WidgetVue"]).then(function(e){Qg(e,1)[0].start(t)})};return this.buttonElement}},{key:"setToAutomatic",value:function(){var t=this;this.queuedPromises.clear();this.queuedPromises.restart();this.reportStatusMonitor.subscribe(this.subscribedReport);this.queueStatusUpdateRender(function(){t.resetButtonStatus();t.actionButtonElement.innerHTML="Automatic";t.buttonElement.classList.remove("wovn-report-values-button--manual");t.buttonElement.classList.add("wovn-report-values-button--auto")})}},{key:"setToManual",value:function(){var t=this;this.queuedPromises.clear();this.reportStatusMonitor.unsubscribe(this.subscribedReport);this.queueStatusUpdateRender(function(){t.resetButtonStatus();t.buttonElement.classList.remove("wovn-report-values-button--auto");t.buttonElement.classList.add("wovn-report-values-button--manual");t.actionButtonElement.innerHTML="Manual";t.queuedPromises.stop()})}},{key:"triggerReport",value:function(t){var e=this;this.queuedPromises.restart();this.reportStatusMonitor.subscribe(this.subscribedReport);return this.internalApi.customReport(t)["finally"](function(){e.reportStatusMonitor.unsubscribe(e.subscribedReport)})}},{key:"onReportStatusUpdated",value:function(t){var e=this;switch(t){case Wl.Idle:this.queueStatusUpdateRender(function(){e.resetButtonLabel();e.resetButtonStatus()});break;case Wl.Sending:this.queueStatusUpdateRender(function(){return e.showLoadingStatus()});break;case Wl.Success:this.queueStatusUpdateRender(function(){return e.showSuccessStatus()});break;case Wl.Failed:this.queueStatusUpdateRender(function(){return e.showFailedStatus()})}}},{key:"queueStatusUpdateRender",value:function(e){var n=this;this.queuedPromises.enqueue(function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new t.Promise(function(t){return setTimeout(t,e)})}(n.statusUpdateRenderDelay).then(function(){return e()})})}},{key:"resetButtonLabel",value:function(){this.actionButtonElement.innerHTML=this.hasAutoTriggerReportCookie()?"Automatic":"Manual"}},{key:"resetButtonStatus",value:function(){this.actionButtonElement.classList.remove(this.buttonTemplates.loading.className);this.actionButtonElement.classList.remove(this.buttonTemplates.success.className);this.actionButtonElement.classList.remove(this.buttonTemplates.error.className)}},{key:"showLoadingStatus",value:function(){this.actionButtonElement.classList.add(this.buttonTemplates.loading.className);this.actionButtonElement.innerHTML=this.buttonTemplates.loading.html}},{key:"showSuccessStatus",value:function(){this.actionButtonElement.classList.add(this.buttonTemplates.success.className);this.actionButtonElement.innerHTML=this.buttonTemplates.success.html}},{key:"showFailedStatus",value:function(){this.actionButtonElement.classList.add(this.buttonTemplates.error.className);this.actionButtonElement.innerHTML=this.buttonTemplates.error.html}},{key:"hasAutoTriggerReportCookie",value:function(){return!!this.autoTriggerReportCookie.get()}}])}(oe);function lv(t){return lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(t)}function cv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fv(r.key),r)}}function fv(t){var e=function(t,e){if("object"!=lv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lv(e)?e:e+""}function pv(t,e,n){return e=hv(e),function(t,e){if(e&&("object"==lv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,dv()?Reflect.construct(e,n||[],hv(t).constructor):e.apply(t,n))}function dv(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(dv=function(){return!!t})()}function hv(t){return hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hv(t)}function yv(t,e){return yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},yv(t,e)}var gv=function(t){function e(t,n,r,o){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(i=pv(this,e)).internalApi=t;i.externalComponentLoader=n;i.autoTriggerReportCookie=r;i.reportStatusMonitor=o;return i}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yv(t,e)}(e,t);return function(t,e,n){return e&&cv(t.prototype,e),n&&cv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"build",value:function(){return[new sv(this.internalApi,this.buildDomInsertStrategy(),this.externalComponentLoader,this.autoTriggerReportCookie,this.reportStatusMonitor)]}}])}(Re);function vv(t){return vv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(t)}function mv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bv(r.key),r)}}function bv(t){var e=function(t,e){if("object"!=vv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=vv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==vv(e)?e:e+""}var wv=function(){return function(t,e,n){return e&&mv(t.prototype,e),n&&mv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=bv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"nodeFilters",[])},[{key:"addFilter",value:function(t){this.nodeFilters.push(t)}},{key:"isNodeFilteredOut",value:function(t){return this.nodeFilters.some(function(e){return e(t)})}}])}();function Sv(t){return Sv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(t)}function kv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tv(r.key),r)}}function Tv(t){var e=function(t,e){if("object"!=Sv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sv(e)?e:e+""}var Cv=function(){return function(t,e,n){return e&&kv(t.prototype,e),n&&kv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.sessionProxy=e},[{key:"get",value:function(e,n,r){var o=this;return new t.Promise(function(t,i){o.sessionProxy.sendRequest("GET",e,n,r,function(e,n,r){return t({body:e,headers:r})},function(t,e,n){return i({body:t,status:e,headers:n})})})}},{key:"post",value:function(e,n,r){var o=this;return new t.Promise(function(t,i){o.sessionProxy.sendRequest("POST",e,n,r,function(e,n,r){return t({body:e,headers:r})},function(t,e,n){return i({body:t,status:e,headers:n})})})}},{key:"put",value:function(e,n,r){var o=this;return new t.Promise(function(t,i){o.sessionProxy.sendRequest("PUT",e,n,r,function(e,n,r){return t({body:e,headers:r})},function(t,e,n){return i({body:t,status:e,headers:n})})})}}])}();function Ov(t){return Ov="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ov(t)}function Ev(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pv(r.key),r)}}function Pv(t){var e=function(t,e){if("object"!=Ov(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ov(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ov(e)?e:e+""}var _v=function(){return function(t,e,n){return e&&Ev(t.prototype,e),n&&Ev(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=Pv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"rootElementProviders",[])},[{key:"registerWovnElement",value:function(t){this.rootElementProviders.push(t)}},{key:"filterOutWovnElements",value:function(t){var e=this,n=this.getRootElements();return t.filter(function(t){return!e.isInsideWovnElementInternal(t,n)})}},{key:"isInsideWovnElement",value:function(t){return 0===this.filterOutWovnElements([t]).length}},{key:"isInsideWovnElementInternal",value:function(t,e){return e.some(function(e){return e.contains(t)})}},{key:"getAllWovnElementsSelector",value:function(){return vt.flatMap(this.getRootElements(),function(t){var e=[];t.id&&e.push("#".concat(t.id));if(t.className){var n=lt.toArrayFromDomList(t.classList),r=vt.reduce(n,function(t,e){return"".concat(t,".").concat(e)},"");e.push(r)}return e}).join(", ")}},{key:"getRootElements",value:function(){return vt.flatMap(this.rootElementProviders,function(t){return t()}).filter(function(t){return null!==t})}}])}();function Av(t){return Av="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Av(t)}function xv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jv(r.key),r)}}function jv(t){var e=function(t,e){if("object"!=Av(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Av(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Av(e)?e:e+""}var Lv=Pr.AUTO_TRIGGER_REPORT,Iv=function(){return function(t,e,n){return e&&xv(t.prototype,e),n&&xv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.cookieStore=e},[{key:"set",value:function(t){var e=t.toString();this.cookieStore.set(Lv,e)}},{key:"get",value:function(){return"true"===this.cookieStore.get(Lv)}},{key:"erase",value:function(){this.cookieStore.erase(Lv)}},{key:"destroy",value:function(){this.erase()}}])}();function Dv(t,e,n){return function(t,e){var n=function(t){return function(e){return vt.includes(t,e)||vt.includes(t,wa.unescape(e))}}(e);return t.filter(function(t){return!n(t["src"])})}(t,e.filterLanguages(n).allTextTranslations())}function Nv(t,e){return!!(t&e)}function Rv(t){return Rv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rv(t)}function Uv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hv(r.key),r)}}function Vv(t,e,n){return(e=Hv(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hv(t){var e=function(t,e){if("object"!=Rv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Rv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Rv(e)?e:e+""}var Mv=function(t){t[t["None"]=0]="None";t[t["Text"]=1]="Text";t[t["Links"]=2]="Links";t[t["All"]=3]="All";return t}(Mv||{}),Bv=function(){function e(t,n,r,o,i,a,u,s,l,c,f,p,d,h){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);Vv(this,"reportLotResult",void 0);Vv(this,"reportCount",0);Vv(this,"reportTimerResetCount",0);Vv(this,"_hasReportedOnce",!1);Vv(this,"scrapeNumber",0);Vv(this,"_reportRequestCount",0);Vv(this,"_reportSuccessCount",0);Vv(this,"shouldHaltReporting",!1);Vv(this,"_lastReportedValues",null);Vv(this,"hasNewMissedSrc",!1);Vv(this,"links",{});this.data=t;this.debugSettings=n;this.lang=r;this.autoTriggerReportCookie=o;this.snippetSettings=i;this.agent=a;this.utils=u;this.webServices=s;this.supervisedContent=l;this.liveEditorSettings=c;this.wovnContext=f;this.url=p;this.reportingEnabledCookie=d;this.pageMetadataManager=h;this.reset();this.shouldHaltReporting=this.agent.mutatesTextNodeData()}return function(t,e,n){return e&&Uv(t.prototype,e),n&&Uv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"getLastReportedValues",value:function(){return this._lastReportedValues}},{key:"getReportStats",value:function(){return{reportCount:this.reportCount,auditCount:this.scrapeNumber,reportRequestCount:this._reportRequestCount,reportSuccessCount:this._reportSuccessCount,linksCount:Object.keys(this.links).length,srcsCount:Object.keys(this.srcs).length,newSrcsCount:Object.keys(this.newSrcs).length}}},{key:"getReportCandidates",value:function(){return this.srcs}},{key:"triggerReportIfNecessary",value:function(){var t=this.needsReport(this.hasNewSrc(),this.getHasNewMissedSrc(),this.getReportSource());if(t.shouldReport){this.triggerReport(t);this._hasReportedOnce=!0}}},{key:"incrementReportCount",value:function(){this.reportCount+=1}},{key:"resetReportCount",value:function(){this.reportCount=0;clearTimeout(this.reportTimer)}},{key:"getReportCount",value:function(){return this.reportCount}},{key:"incrementReportTimerResetCount",value:function(){this.reportTimerResetCount+=1}},{key:"resetReportTimerResetCount",value:function(){this.reportTimerResetCount=0}},{key:"setReportTime",value:function(t){this._reportTime=t}},{key:"reportTime",get:function(){return this._reportTime||(this._reportTime=this.calculateReportTime())}},{key:"calculateReportTime",value:function(){return!this.wovnContext.isProductionLike()||this.getReportSource()==zl.AutomaticCustom||this.url.hasFlag("instantReport")||this.mustEnsureOneReport()?1e3:5e3}},{key:"reset",value:function(){this.srcs={};this.newSrcs={};this.links={};this.hasNewMissedSrc=!1;clearTimeout(this.reportTimer);this.reportTimer=void 0;this.resetReportTimerResetCount();this.resetReportCount();this._reportRequestCount=0;this._reportSuccessCount=0}},{key:"markHasNewMissedSrcIfFirstSeen",value:function(t){this.srcs.hasOwnProperty(t)||(this.hasNewMissedSrc=!0)}},{key:"removeNewSrcs",value:function(){for(var t in this.newSrcs)this.srcs.hasOwnProperty(t)&&delete this.srcs[t];this.newSrcs={};this.hasNewMissedSrc=!1}},{key:"addLink",value:function(t){t in this.links||(this.links[t]=!1)}},{key:"addSrc",value:function(t,n,r,o){var i=this.lang.getDefaultCodeIfExists();if((!function(t){var e=t.replace(/iframe\[[^\]]*\]/g,"");return"custom-image"==e||/img(\[\d+\])?$/.test(e)||/\[@(background-image|image|srcset|src)\]$/.test(e)}(n)||!du(t)&&L(t,location))&&(this.lang.getActualLang()===i||this.data.domainOptions.hasFeature("report_from_all_languages"))){var a=this.createDataObject(t,n,r,o);this.hasSrcEntry(t)||this.hasNewSrcEntry(t)&&!e.needsUpdate(this.getNewSrc(t))||this.setNewSrc(t,a);this.hasSrcEntry(t)&&!e.needsUpdate(this.getSrc(t))||this.setSrc(t,a)}}},{key:"triggerReport",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e=null!=e?e:this.reportTime;return this.resetReportTimer(e,t,n)}},{key:"haltReporting",value:function(){this.shouldHaltReporting=!0}},{key:"onAuditComplete",value:function(){this.scrapeNumber+=1}},{key:"getReportSuccessCount",value:function(){return this._reportSuccessCount}},{key:"getReportSource",value:function(){return this.autoTriggerReportCookie.get()?zl.AutomaticCustom:zl.Audit}},{key:"needsReport",value:function(t,e,n){var r={shouldReport:!1,reportSource:n,reportableValueCategory:Mv.All};if(this.shouldForceReport()){r.shouldReport=!0;return r}if(n===zl.Audit){if(!this.data.isReportingEnabled(this.reportingEnabledCookie)){r.shouldReport=!1;return r}if(!this.isSelectedForReport()){r.shouldReport=!1;return r}this.hasMissingLangs()&&(r.shouldReport=!0);var o=this.data.domainOptions.getReportSendLimit();if(this.reportCount>=o||this.reportTimerResetCount>=o){r.shouldReport=!1;return r}}var i,a,u=t&&e;u||(r.reportableValueCategory=(i=r.reportableValueCategory,a=Mv.Text,i&~a));r.shouldReport=this.data.domainOptions.isReportLinksEnabled()&&this.hasNewLinks()||u;return r}},{key:"hasNewLinks",value:function(){for(var t=0,e=Object.keys(this.links);t<e.length;t++){var n=e[t];if(!this.links[n])return!0}return!1}},{key:"setAllLinksAsReported",value:function(){for(var t=0,e=Object.keys(this.links);t<e.length;t++){var n=e[t];this.links[n]=!0}}},{key:"createDataObject",value:function(t,e,n,r){var o={src:t,xpath:e,unified:Boolean(n),exists:!0,scrape_number:this.scrapeNumber};r&&(o["original_html"]=r);return o}},{key:"mustEnsureOneReport",value:function(){return!!this.data.domainOptions.hasFeature("fast_report_new_pages")&&(this.lang.missingAutoTranslateLangs()||this.lang.missingAutoPublishLangs())}},{key:"postSrcs",value:function(e,n){var r=this;if(0==e.length&&0==Object.keys(this.links).length)return t.Promise.resolve();if(!this.utils.isValidURI(location.href))return t.Promise.resolve();var o=this.webServices.report,i=this.supervisedContent.isSupervisedPage(),a=this.mustEnsureOneReport(),u=this.canReportText(n.reportableValueCategory)?e:[],s=this.canReportLinks(n.reportableValueCategory)?Object.keys(this.links).filter(function(t){return!r.links[t]}).filter(function(t){return!E(t)}):[],l=this.pageMetadataManager.get();this._reportRequestCount++;return o.reportValues(u,s,a,this.getReportCount(),i,n.reportSource,l).then(function(){r._reportSuccessCount++;r.snippetSettings.isCrawlerScrapingEnabled&&(r._lastReportedValues=e);r.setAllLinksAsReported()})}},{key:"canReportText",value:function(t){return Nv(t,Mv.Text)}},{key:"canReportLinks",value:function(t){return Nv(t,Mv.Links)}},{key:"immediateReportVals",value:function(t,e){return this.reportValsInternal({shouldReport:!0,reportableValueCategory:Mv.All,reportSource:t},e)}},{key:"reportValsInternal",value:function(e,n){if(this.debugSettings.haltReporting||this.liveEditorSettings.isEnabledV1||this.shouldHaltReporting)return t.Promise.resolve();this.incrementReportCount();return this.postSrcs(n,e)}},{key:"buildSrcValues",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.mergeNewSrcs();var e=this.getReportValueList();t&&(e=Dv(e,this.data.pageData.getTranslationData(),this.data.pageData.getPublishedLangs()));return e}},{key:"resetReportTimer",value:function(e,n,r){var o=this;if(!this.isReportable())return t.Promise.resolve();this.incrementReportTimerResetCount();clearTimeout(this.reportTimer);return new t.Promise(function(t,i){o.mergeNewSrcs();o.reportTimer=setTimeout(function(){o.resetReportTimerResetCount();o.reportValsInternal(n,o.buildSrcValues(r)).then(t,i)},e)})}},{key:"shouldForceReport",value:function(){return!this._hasReportedOnce&&!(!this.debugSettings.forceReporting&&!this.snippetSettings.isCrawlerScrapingEnabled)}},{key:"isSelectedForReport",value:function(){if(void 0===this.reportLotResult){var t=this.data.domainOptions.reportLotRatio();this.reportLotResult=t>Math.random()}return this.reportLotResult}},{key:"hasMissingLangs",value:function(){return!this._hasReportedOnce&&!(!this.lang.missingAutoTranslateLangs()&&!this.lang.missingAutoPublishLangs())}},{key:"hasNewSrcEntry",value:function(t){return this.newSrcs.hasOwnProperty(t)}},{key:"hasNewSrc",value:function(){for(var t in this.newSrcs)if(this.newSrcs.hasOwnProperty(t))return!0;return!1}},{key:"getNewSrc",value:function(t){return this.newSrcs[t]}},{key:"setNewSrc",value:function(t,e){this.newSrcs[t]=e}},{key:"hasSrcEntry",value:function(t){return this.srcs.hasOwnProperty(t)}},{key:"setSrc",value:function(t,e){this.srcs[t]=e}},{key:"getSrc",value:function(t){return this.srcs[t]}},{key:"getHasNewMissedSrc",value:function(){return this.hasNewMissedSrc}},{key:"getReportValueList",value:function(){var t=this;return Object.keys(this.srcs).map(function(e){return t.srcs[e]})}},{key:"mergeNewSrcs",value:function(){for(var t in this.newSrcs)if(this.newSrcs.hasOwnProperty(t)){var e=this.srcs[t];this.srcs.hasOwnProperty(t)&&!/meta/.test(e.xpath)||(this.srcs[t]=this.newSrcs[t])}this.newSrcs={};this.hasNewMissedSrc=!1}},{key:"isReportable",value:function(){var t=this.lang.getDocLang();if(!t)return!1;if(this.liveEditorSettings.isEnabled)return!1;var e=this.lang.getDefaultCodeIfExists(),n=this.snippetSettings.isBackend&&t!==e;return this.data.domainOptions.hasFeature("report_from_all_languages")||!n}}],[{key:"needsUpdate",value:function(t){return/meta/.test(t.xpath)}}])}();function Fv(t){return Fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(t)}function Wv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qv(r.key),r)}}function qv(t){var e=function(t,e){if("object"!=Fv(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Fv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Fv(e)?e:e+""}var zv=Pr.WAP_ENABLED,Gv=Pr.LEGACY_OPTED_OUT_WAP,Jv=function(){return function(t,e,n){return e&&Wv(t.prototype,e),n&&Wv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.cookieStore=e},[{key:"set",value:function(t){var e=t.toString();this.cookieStore.set(zv,e)}},{key:"get",value:function(){this.migrateOldCookie();var t=this.cookieStore.get(zv);return null==t?null:"true"===t}},{key:"erase",value:function(){this.cookieStore.erase(zv)}},{key:"destroy",value:function(){this.erase()}},{key:"migrateOldCookie",value:function(){var t=this.cookieStore.get(Gv);if(t){this.cookieStore.erase(Gv);this.set("0"===t)}}}])}();function $v(t){return $v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(t)}function Kv(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xv(r.key),r)}}function Xv(t){var e=function(t,e){if("object"!=$v(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$v(e)?e:e+""}var Zv=Pr.REPORTING_ENABLED,Yv=Pr.LEGACY_OPTED_OUT_REPORTING,Qv=function(){return function(t,e,n){return e&&Kv(t.prototype,e),n&&Kv(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.cookieStore=e},[{key:"set",value:function(t){var e=t.toString();this.cookieStore.set(Zv,e)}},{key:"get",value:function(){this.migrateOldCookie();var t=this.cookieStore.get(Zv);return null==t?null:"true"===t}},{key:"erase",value:function(){this.cookieStore.erase(Zv)}},{key:"destroy",value:function(){this.erase()}},{key:"migrateOldCookie",value:function(){var t=this.cookieStore.get(Yv);if(t){this.cookieStore.erase(Yv);this.set("0"===t)}}}])}();function tm(t){return tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(t)}function em(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nm(r.key),r)}}function nm(t){var e=function(t,e){if("object"!=tm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=tm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==tm(e)?e:e+""}var rm=Pr.DYNAMIC_LOADING_ENABLED,om=Pr.LEGACY_OPTED_OUT_DYNAMIC_LOADING,im=function(){return function(t,e,n){return e&&em(t.prototype,e),n&&em(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.cookieStore=e},[{key:"set",value:function(t){var e=t.toString();this.cookieStore.set(rm,e)}},{key:"get",value:function(){this.migrateOldCookie();var t=this.cookieStore.get(rm);return null==t?null:"true"===t}},{key:"erase",value:function(){this.cookieStore.erase(rm)}},{key:"destroy",value:function(){this.erase()}},{key:"migrateOldCookie",value:function(){var t=this.cookieStore.get(om);if(t){this.cookieStore.erase(om);this.set("0"===t)}}}])}();function am(t){return am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(t)}function um(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,sm(r.key),r)}}function sm(t){var e=function(t,e){if("object"!=am(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=am(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==am(e)?e:e+""}var lm=function(){return function(t,e,n){return e&&um(t.prototype,e),n&&um(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.pageDataSanitizer=e;this.widgetPreview=n;this.widgetDataController=r},[{key:"loadPageData",value:function(){var t=this;return this.widgetDataController.previewData(this.widgetPreview.getSignature()).then(function(e){return t.pageDataSanitizer.sanitize(e.body)})}}])}();function cm(t){return cm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(t)}function fm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pm(r.key),r)}}function pm(t){var e=function(t,e){if("object"!=cm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=cm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==cm(e)?e:e+""}var dm=function(){return function(t,e,n){return e&&fm(t.prototype,e),n&&fm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=pm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"pageData",null)},[{key:"set",value:function(t){this.pageData=t}},{key:"clearPageData",value:function(){this.pageData=null}},{key:"getConvertedLangs",value:function(){return this.get()["convert_langs"]||[]}},{key:"getValuesInfo",value:function(){return this.get()["values_info"]||{}}},{key:"getLinkTranslations",value:function(){return this.get()["link_translations"]||{}}},{key:"get",value:function(){return this.pageData||{}}},{key:"getLang",value:function(){return this.get()["language"]}},{key:"getPageCss",value:function(){return this.get()["page_css"]}},{key:"getPageCssHash",value:function(){return this.get()["page_css_hash"]}},{key:"getPageJs",value:function(){return this.get()["page_js"]}},{key:"getPageId",value:function(){return this.get()["id"]}},{key:"getManualPublishedDate",value:function(){var t=this.get()["manual_published_time"];return t?new Date(1e3*t):null}},{key:"getTranslationData",value:function(){var t=this.getTextValues(),e=this.getImageValues(),n=this.getHTMLTextValues(),r=this.getPageTextValues(),o=this.getManualPublishedDate();return new Ou(t,e,n,r,{creationTime:Date.now(),manualPublishedDate:o})}},{key:"getTextValues",value:function(){return this.get()["text_vals"]||{}}},{key:"getHTMLTextValues",value:function(){return this.get()["html_text_vals"]||{}}},{key:"getPageTextValues",value:function(){return this.get()["page_text_vals"]||{}}},{key:"getImageValues",value:function(){return this.get()["img_vals"]||{}}},{key:"getRemovedTextValues",value:function(){return this.get()["removed_text_vals"]||[]}},{key:"getRemovedTextValuesHash",value:function(){return this.get()["removed_text_vals_hash"]||{}}},{key:"getUntranslatedValues",value:function(){return this.get()["untranslated_values"]||{}}},{key:"getPublishedLangs",value:function(){return this.get()["published_langs"]||[]}},{key:"isPublished",value:function(t){return-1!==this.getPublishedLangs().indexOf(t)}},{key:"hasPublishedLang",value:function(){return this.getPublishedLangs().length>0}},{key:"isExceedMachineTranslationLimit",value:function(){return!!this.get()["is_exceed_machine_translation_limit"]}},{key:"getPropertyValues",value:function(){return this.get()["prop_vals"]||{}}},{key:"getDomainLanguageMax",value:function(){return this.get()["language_max"]}},{key:"getDomainPublishedPagesMax",value:function(){return this.get()["published_pages_max"]}},{key:"getDomainPublishedPagesNum",value:function(){return this.get()["published_pages_num"]}},{key:"getSourceLangs",value:function(){return this.get()["source_langs"]||[]}},{key:"getPageReportingEnabled",value:function(){var t=this.get()["dynamic_values"];return null!=t?t:null}},{key:"getPageExcludedContentRules",value:function(){return this.get()["excluded_content_rules"]||[]}},{key:"getPageExcludedContent",value:function(){return(this.get()["excluded_content"]||[]).map(function(t){return ar(t)})}},{key:"getPageIncludedContent",value:function(){return this.get()["included_content"]||[]}},{key:"availableTargetLangs",value:function(){var t=this.getLang();return zh.all.filter(function(e){return e.code!==t},this)}}])}();function hm(t){return hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(t)}function ym(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vm(r.key),r)}}function gm(t,e,n){return(e=vm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vm(t){var e=function(t,e){if("object"!=hm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=hm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==hm(e)?e:e+""}var mm=function(){return function(t,e,n){return e&&ym(t.prototype,e),n&&ym(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);gm(this,"parsedTextVals",{});gm(this,"parsedHtmlTextVals",{});gm(this,"parsedPageTextVals",{});this.valuesStackGenerator=e;n.subscribeToChanges(function(t){return r.parseTranslationData(t)})},[{key:"isEmpty",get:function(){return 0==Object.keys(this.parsedTextVals).length&&0==Object.keys(this.parsedHtmlTextVals).length&&0==Object.keys(this.parsedPageTextVals).length}},{key:"parseTranslationData",value:function(t){var e=this;this.parsedTextVals=this.mapServerTranslationHash(t.textVals,function(t){var n=e.valuesStackGenerator.createValuesStackFromText(t);n.is_html=!1;n.is_page_translation=!1;return n});this.parsedHtmlTextVals=this.mapServerTranslationHash(t.htmlTextVals,function(t){var n=e.valuesStackGenerator.createValuesStackFromHtml(t);n.is_html=!0;n.is_page_translation=!1;return n});this.parsedPageTextVals=this.mapServerTranslationHash(t.pageTextVals,function(t){var n=e.valuesStackGenerator.createValuesStackFromHtml(t);n.is_html=!0;n.is_page_translation=!0;return n})}},{key:"findTranslation",value:function(t,e){var n=function(t,e){return e[t]||{}};return n(e,this.parsedPageTextVals)[t]||n(e,this.parsedHtmlTextVals)[t]||n(e,this.parsedTextVals)[t]}},{key:"hasTranslation",value:function(t,e){return void 0!==this.findTranslation(t,e)}},{key:"mapServerTranslationHash",value:function(t,e){var n={};for(var r in t){var o=t[r];for(var i in o){n[i]=n[i]||{};var a=o[i][0],u=e(a.data||"");u.created_at=a.created_at;u.published_dst=a.published_dst;n[i][r]=u}}return n}}])}();function bm(t){return bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(t)}function wm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Sm(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sm(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function km(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cm(r.key),r)}}function Tm(t,e,n){return(e=Cm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cm(t){var e=function(t,e){if("object"!=bm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=bm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==bm(e)?e:e+""}var Om=function(){return function(t,e,n){return e&&km(t.prototype,e),n&&km(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Tm(this,"externalImages",{});Tm(this,"internalImages",{});this.hostAliasMatcher=e;n.subscribeToChanges(function(t){return r.parseTranslationData(t)})},[{key:"isEmpty",get:function(){return 0==Object.keys(this.externalImages).length&&0==Object.keys(this.internalImages).length}},{key:"parseTranslationData",value:function(t){var e=wm(this.buildImageTranslationMap(t.imgVals),2),n=e[0],r=e[1];this.externalImages=n;this.internalImages=r}},{key:"find",value:function(t,e){return this.findInternal(t,e)||this.findInternal(b(t),e)}},{key:"findInternal",value:function(t,e){var n=O(t),r=this.externalImages[n];if(r)return r[e]||null;if(!this.hostAliasMatcher.isMatch(t))return null;var o=T(t),i=this.internalImages[o];return i&&i[e]||null}},{key:"buildImageTranslationMap",value:function(t){var e={},n={};for(var r in t)if(this.hostAliasMatcher.isMatch(r)){n[T(r)]=this.convertTranslations(t[r],r)}else{e[O(r)]=this.convertTranslations(t[r],r)}return[e,n]}},{key:"convertTranslations",value:function(t,e){var n={};for(var r in t)n[r]={backend_src:e,dst_url:t[r][0].data,created_at:t[r][0].created_at};return n}}])}();function Em(t){return Em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(t)}function Pm(t,e,n){return(e=jm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _m(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Am(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Am(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n["return"]||n["return"]()}finally{if(u)throw i}}}}function Am(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function xm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jm(r.key),r)}}function jm(t){var e=function(t,e){if("object"!=Em(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Em(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Em(e)?e:e+""}var Lm=function(){return function(t,e,n){return e&&xm(t.prototype,e),n&&xm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.data=e},[{key:"run",value:function(t,e){var n=this.markUserIgnoredElements(t),r=this.data.domainOptions.canTranslateCssBackgroundImages(),o=[];r&&(o=this.markBackgroundImageElements(t));var i=null;try{i=e()}finally{this.unmarkUserIgnoredElements(n);r&&this.unmarkBackgroundImageElements(o)}return i}},{key:"markUserIgnoredElements",value:function(t){var e=this.data.getExcludedContent(),n=this.queryExcludedSelectors(e,t);return this.addWovnIgnores(n)}},{key:"markBackgroundImageElements",value:function(t){var e,n=this.data.domainOptions.getCssBackgroundImagesScope(),r=[],o=_m(vt.flatMap(n,function(e){return Ce(e,t)}));try{for(o.s();!(e=o.n()).done;){var i=e.value;if(!Pe(i,"wovn-bg-img")){i.setAttribute("wovn-bg-img","");r.push(i)}}}catch(t){o.e(t)}finally{o.f()}return r}},{key:"queryExcludedSelectors",value:function(t,e){var n=vt.flatMap(t.filter(function(t){return t.target==ir.TagContent}),function(t){return Ce(t.selector,e)}),r=vt.flatMap(t.filter(function(t){return t.target==ir.Attributes}),function(t){return Ce(t.selector,e)}),o=vt.flatMap(t.filter(function(t){return t.target==ir.All}),function(t){return Ce(t.selector,e)});return Pm(Pm(Pm(Pm({},ir.TagContent,n),ir.Attributes,r),ir.All,o),ir.None,[])}},{key:"addWovnIgnores",value:function(t){var e=Pm(Pm(Pm(Pm({},ir.TagContent,[]),ir.Attributes,[]),ir.All,[]),ir.None,[]);for(var n in t)for(var r=t[n],o=parseInt(n)===ir.All?"wovn-ignore":parseInt(n)===ir.TagContent?"wovn-ignore-content":"wovn-ignore-attrs",i=0;i<r.length;i++)if(!Pe(r[i],"wovn-ignore")&&!Pe(r[i],o)){r[i].setAttribute(o,"");e[n].push(r[i])}return e}},{key:"unmarkUserIgnoredElements",value:function(t){for(var e in t){_e(t[e],parseInt(e)===ir.All?"wovn-ignore":parseInt(e)===ir.TagContent?"wovn-ignore-content":"wovn-ignore-attrs")}}},{key:"unmarkBackgroundImageElements",value:function(t){_e(t,"wovn-bg-img")}}])}();function Im(t){return Im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(t)}function Dm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nm(r.key),r)}}function Nm(t){var e=function(t,e){if("object"!=Im(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Im(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Im(e)?e:e+""}var Rm=function(){return function(t,e,n){return e&&Dm(t.prototype,e),n&&Dm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.widget=e;this.data=n;this.instantTranslationController=r;this.apiStatus=o},[{key:"ruleBaseTranslation",value:function(t,e,n){return this.ruleBaseTranslationReady()?this.ruleBaseTranslationComponent.translate(t,e,n):null}},{key:"ruleBaseTranslationComponent",get:function(){return this.widget.c("RuleBaseTranslation")}},{key:"instantTranslate",value:function(t,e,n,r){this.instantTranslationController.translate(e,t).then(function(t){return n(t.body,t.headers)},r)}},{key:"ruleBaseTranslationReady",value:function(){if(!this.apiStatus.isApiReady())return!1;var t=null!=this.ruleBaseTranslationComponent,e=this.data.pageData.hasPublishedLang();return t&&e}}])}();function Um(t){return Um="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(t)}function Vm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hm(r.key),r)}}function Hm(t){var e=function(t,e){if("object"!=Um(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Um(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Um(e)?e:e+""}var Mm=function(){return function(t,e,n){return e&&Vm(t.prototype,e),n&&Vm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=Hm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"onTranslationsUpdatedListeners",[]);this.translationDataStorage=e;this.setEmptyState()},[{key:"setEmptyState",value:function(){this.localStorageTranslations=new Ou;this.serverTranslations=new Ou;this.instantTranslations=new Ou;this.dynamicLoadingTranslations=new Ou;this.liveEditorTranslations=new Ou}},{key:"allTranslations",get:function(){return[this.localStorageTranslations,this.serverTranslations,this.instantTranslations,this.dynamicLoadingTranslations,this.liveEditorTranslations]}},{key:"persistableTranslations",get:function(){var t=this;return this.allTranslations.filter(function(e){return e!==t.liveEditorTranslations})}},{key:"clear",value:function(){this.setEmptyState();this.notifySubscribers()}},{key:"subscribeToChanges",value:function(t){this.onTranslationsUpdatedListeners.push(t)}},{key:"getTranslations",value:function(){return vt.reduce(this.allTranslations,function(t,e){return t.merge(e)})}},{key:"setInitialState",value:function(t,e,n){this.localStorageTranslations=this.localStorageTranslations.merge(t);this.serverTranslations=this.serverTranslations.merge(e);this.dynamicLoadingTranslations=this.dynamicLoadingTranslations.merge(n);this.instantTranslations=new Ou;this.liveEditorTranslations=new Ou;this.save();this.notifySubscribers()}},{key:"addInstantTranslation",value:function(t,e,n){vu(this.instantTranslations.htmlTextVals,t,e,n);this.save();this.notifySubscribers()}},{key:"addLiveEditorTranslation",value:function(t,e,n,r,o){vu(this.liveEditorTranslations.getTranslationHash(r),t,e,n,o);this.notifySubscribers()}},{key:"removeSourceKey",value:function(t){this.allTranslations.map(function(e){return e.removeSourceKey(t)});this.save();this.notifySubscribers()}},{key:"hasTranslation",value:function(t,e){return this.allTranslations.some(function(n){return n.getTranslationHash(e)[t]})}},{key:"removeTranslation",value:function(t,e,n){this.allTranslations.forEach(function(r){!function(t,e,n){var r=t[e];r&&delete r[n]}(r.getTranslationHash(n),t,e)});this.save();this.notifySubscribers()}},{key:"updateLiveEditorTranslations",value:function(t){this.liveEditorTranslations=this.liveEditorTranslations.merge(t);this.notifySubscribers()}},{key:"updateDynamicLoadingTranslations",value:function(t){this.dynamicLoadingTranslations=this.dynamicLoadingTranslations.merge(t);this.save();this.notifySubscribers()}},{key:"save",value:function(){var t=this.persistableTranslations.reduce(function(t,e){return t.merge(e)});this.translationDataStorage.save(t)}},{key:"notifySubscribers",value:function(){var t=this.getTranslations();this.onTranslationsUpdatedListeners.forEach(function(e){return e(t)})}}])}();function Bm(t){return Bm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(t)}function Fm(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Wm(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wm(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wm(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function qm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zm(r.key),r)}}function zm(t){var e=function(t,e){if("object"!=Bm(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bm(e)?e:e+""}var Gm="TranslationStore",Jm=function(){return function(t,e,n){return e&&qm(t.prototype,e),n&&qm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.wovnStorage=e;this.pageData=n;this.domainOptions=r},[{key:"save",value:function(t){var e={text_vals:t.textVals,html_text_vals:t.htmlTextVals,img_vals:t.imgVals};this.wovnStorage.setValue(Gm,e,Date.now())}},{key:"load",value:function(){var t=this.loadFromStorage();if(null==t||t.isEmpty)return null;if(this.domainOptions.hasFeature("no_automatic_redirection")){var e=this.pageData.getPublishedLangs();return t.filterLanguages(e)}return t}},{key:"loadFromStorage",value:function(){var t,e=Date.now()-36e5,n=this.pageData.getManualPublishedDate(),r=(null===(t=this.pageData.getManualPublishedDate())||void 0===t?void 0:t.getTime())||e;r<e&&(r=e);var o=this.wovnStorage.getValue(Gm,r);if(!o)return null;var i=Fm(o,2),a=i[0],u=i[1];return new Ou(u["text_vals"]||{},u["img_vals"]||{},u["html_text_vals"]||{},{},{creationTime:a,manualPublishedDate:n})}},{key:"delete",value:function(){this.wovnStorage.removeValue(Gm)}}])}();function $m(t){return $m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(t)}function Km(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function Xm(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Km(Object(n),!0).forEach(function(e){Ym(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Km(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function Zm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qm(r.key),r)}}function Ym(t,e,n){return(e=Qm(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qm(t){var e=function(t,e){if("object"!=$m(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=$m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==$m(e)?e:e+""}var tb=function(){return function(t,e,n){return e&&Zm(t.prototype,e),n&&Zm(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r,o,i,a,u,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Ym(this,"_lastModifiedSrcKey",null);this.api=e;this.widget=n;this.lang=r;this.data=o;this.wovnContext=i;this.snippetSettings=a;this.liveEditorSettings=u;this.serverControllerFactory=s},[{key:"authenticatedWebServiceController",get:function(){return this.serverControllerFactory.authenticatedLiveEditorController}},{key:"removeSettingsFromUrl",value:function(t){return this.liveEditorSettings.removeSettingsFromUrl(t)}},{key:"quitLiveEditor",value:function(){var t=this.removeSettingsFromUrl(location.href);this.navigateToUrl(t)}},{key:"navigateToUrl",value:function(t){window.location.replace(t)}},{key:"insertStylesheet",value:function(){ny(this.wovnContext,this.snippetSettings.token,"le")}},{key:"getDefaultCode",value:function(){return this.lang.getDefaultCodeIfExists()}},{key:"lastModifiedSrcKey",get:function(){return this._lastModifiedSrcKey}},{key:"getAllowedAddLanguagesList",value:function(){var t=this.data.domainOptions.hasFeature("region_code"),e=this.getAllTargetLanguages(),n=this.data.pageData.availableTargetLangs().filter(function(t){return!e.includes(t.code)});return t?n:n.filter(function(t){return!t.tag.region})}},{key:"getNodeValueId",value:function(){return this.liveEditorSettings.nodeValueId}},{key:"getTargetLanguageCode",value:function(){return this.liveEditorSettings.targetLangCode}},{key:"getAllTargetLanguages",value:function(){return this.data.domainOptions.getDomainLangs()}},{key:"changeLang",value:function(t){return this.lang.setDocLangAllowUnpublished(t)}},{key:"getCurrentLang",value:function(){return this.lang.getDocLang()}},{key:"getDomainId",value:function(){return this.data.domainOptions.getDomainId()}},{key:"getDomainToken",value:function(){return this.snippetSettings.token}},{key:"getPageId",value:function(){return this.data.pageData.getPageId()}},{key:"addTranslation",value:function(t,e,n,r){this.translationManager.addLiveEditorTranslation(t,e,n,r);if(r===gu.PlainText){var o=wa.escape(t);!!this.translationManager.hasTranslation(o,gu.Html)&&this.translationManager.addLiveEditorTranslation(o,wa.escape(e),n,gu.Html)}this._lastModifiedSrcKey=t;this.refreshWidget()}},{key:"clearTranslation",value:function(t,e,n){this.translationManager.removeTranslation(t,e,n);n!==gu.Image&&n!==gu.PageSpecificHtml&&this.translationManager.addLiveEditorTranslation(t,t,e,n);this._lastModifiedSrcKey=t;this.refreshWidget()}},{key:"removeSourceKey",value:function(t){this.translationManager.removeSourceKey(t);this._lastModifiedSrcKey=t;this.refreshWidget()}},{key:"updateTranslations",value:function(t){this.translationManager.updateLiveEditorTranslations(t);this.refreshWidget()}},{key:"refreshWidget",value:function(){this.api.triggerAudit()}},{key:"getTranslationInfo",value:function(t){var e,n=this.domAuditor.getMostRecentTraversalResult(),r=this.getAllTargetLanguages();"PICTURE"===(null===(e=t.parentElement)||void 0===e?void 0:e.tagName)&&(t=t.parentElement);var o=Oe(t)?t:t.parentElement;return n?{images:this.findTranslatedImages(o,n,r),attributes:this.findTranslatedAttributes(o,n,r),textValues:this.findTopLevelUnifiedValues(t,n,r)}:null}},{key:"getTextTranslationInfo",value:function(t){var e=this.domAuditor.getMostRecentTraversalResult(),n=this.getAllTargetLanguages();return e?this.findTopLevelUnifiedValues(t,e,n):[]}},{key:"getValuesInfo",value:function(t){return this.data.pageData.getValuesInfo()[t]}},{key:"findTranslatedImages",value:function(t,e,n){var r=this;return e.images.filter(function(e){return e.element===t||t.contains(e.element)}).map(function(t){return r.createImageTranslationInfo(t,t.element,n)})}},{key:"findTranslatedAttributes",value:function(t,e,n){var r=this;return e.attributes.filter(function(e){return e.element===t}).map(function(t){return r.createAttributeTranslationInfo(t,t.element,n)})}},{key:"findTopLevelUnifiedValues",value:function(t,e,n){var r=this,o=function(t){return e.valuesStacks.filter(function(e){return e.fragments.some(function(e){return e.node===t})})[0]},i=[],a=o(t);if(a)i.push(this.createTextTranslationInfo(a,n));else if(Oe(t)){var u=lt.toArrayFromDomList(t.childNodes).filter(Ee).map(function(t){var e=o(t);return e?r.createTextTranslationInfo(e,n):null}).filter(function(t){return null!=t});u.length>0&&(i=i.concat(u))}return vt.distinctBy(i,function(t){return t.sourceKey})}},{key:"createTextTranslationInfo",value:function(t,e){var n=this;return Xm(Xm({},this.createCommonTranslationInfo(t.translationDataSrcKey,t.path,function(){return n.enumerateTextTranslations(t.translationDataSrcKey,e)})),{},{unifiedValue:t})}},{key:"createAttributeTranslationInfo",value:function(t,e,n){var r=this;return Xm(Xm({},this.createCommonTranslationInfo(t.sourceKey,t.xpath,function(){return r.enumerateTextTranslations(t.sourceKey,n)})),{},{element:e,attributeName:t.attributeName})}},{key:"createImageTranslationInfo",value:function(t,e,n){var r=this,o=function(){return r.enumerateImageTranslations(t.sourceKey,n)},i=o();return{sourceKey:i.backend_src||t.sourceKey,xpath:t.xpath,translations:i.tranlationsByLanguage,element:e,attributeName:t.attributeName,refreshTranslations:function(){this.translations=o().tranlationsByLanguage}}}},{key:"createCommonTranslationInfo",value:function(t,e,n){return{sourceKey:t,xpath:e,translations:n(),refreshTranslations:function(){this.translations=n()}}}},{key:"enumerateImageTranslations",value:function(t,e){var n,r=this,o=e.map(function(e){return{lang:e,translation:r.imageTranslationLookup.find(t,e)}});return{backend_src:null===(n=o[0])||void 0===n||null===(n=n.translation)||void 0===n?void 0:n.backend_src,tranlationsByLanguage:vt.toObject(o,function(t){return t.lang},function(t){var e;return null===(e=t.translation)||void 0===e?void 0:e.dst_url})}}},{key:"enumerateTextTranslations",value:function(t,e){var n=this,r=e.map(function(e){return{lang:e,translation:n.unifiedValueTranslationLookup.findTranslation(t,e)}});return vt.toObject(r,function(t){return t.lang},function(t){var e;return null===(e=t.translation)||void 0===e?void 0:e.label})}},{key:"getPublishedLangs",value:function(){return this.data.pageData.getPublishedLangs()}},{key:"getAllTranslationsOnPage",value:function(){var t=this,e=this.domAuditor.getMostRecentTraversalResult(),n=this.getAllTargetLanguages(),r={attributes:[],images:[],textValues:[]};if(e){r.attributes=e.attributes.map(function(e){return t.createAttributeTranslationInfo(e,e.element,n)});r.images=e.images.map(function(e){return t.createImageTranslationInfo(e,e.element,n)});r.textValues=e.valuesStacks.map(function(e){return t.createTextTranslationInfo(e,n)})}return r}},{key:"hasFeature",value:function(t){return this.data.domainOptions.hasFeature(t)}},{key:"getHost",value:function(){return this.wovnContext.wovnHost}},{key:"buildPropertyValue",value:function(t,e){for(var n=this.srcChildTextContentExtractor.extract(t),r=[],o=t.parentNode,i=0;i<2;i++){r.push({tag_name:o.nodeName,position:Ae(o),classes:lt.toArrayFromDomList(o.classList),element_id:o.id});if(!(o=o.parentElement))break}var a={language:this.getCurrentLang(),shared:!1,selectors:r,style:e.style};return{src_tag_name:t.tagName,src_property:{childTextContent:n},dst:a}}},{key:"updatePropertyValueIndex",value:function(t,e){var n=this.buildPropertyValue(e,t),r=this.getCurrentLang();this.propertyValueTranslationRepository.updatePropertyValueIndex(r,e,n);return n}},{key:"getFontSizeTargetElement",value:function(t){var e,n="#text"===t.nodeName?t.parentElement:t;return null!==(e=this.getTranslationInfo(t).textValues)&&void 0!==e&&e.length?n:null}},{key:"updateFontSize",value:function(t,e){var n=this.getFontSizeTargetElement(e);if(n&&t!==n.style.fontSize){var r={style:{fontSize:t}};Rs(r,n);var o=this.updatePropertyValueIndex(r,n);this.propertyValueTranslationRepository.setChangedPropertyValues(n,o)}}},{key:"revertFontSize",value:function(t){var e,n=this.getFontSizeTargetElement(t);if(n){var r={style:{fontSize:null}},o=this.buildPropertyValue(n,r);this.propertyValueTranslationRepository.setChangedPropertyValues(n,o);var i=Ds(n);if(void 0!==(null==i||null===(e=i.style)||void 0===e?void 0:e.fontSize)){Rs(r={style:{fontSize:i.style.fontSize}},n);this.updatePropertyValueIndex(r,n)}}}},{key:"updateSavedPropertyValues",value:function(t){this.propertyValueTranslationRepository.updateSavedPropertyValues(t)}},{key:"getChangedPropertyValues",value:function(){return this.propertyValueTranslationRepository.getChangedPropertyValues()}},{key:"resetChangedPropertyValues",value:function(){this.propertyValueTranslationRepository.resetChangedPropertyValues()}},{key:"domAuditor",get:function(){return this.widget.c("DomAuditor")}},{key:"unifiedValueTranslationLookup",get:function(){return this.widget.c("UnifiedValueTranslationLookup")}},{key:"imageTranslationLookup",get:function(){return this.widget.c("ImageTranslationLookup")}},{key:"translationManager",get:function(){return this.widget.c("TranslationManager")}},{key:"propertyValueTranslationRepository",get:function(){return this.widget.c("PropertyValueTranslationRepository")}},{key:"srcChildTextContentExtractor",get:function(){return this.widget.c("SrcChildTextContentExtractor")}}])}();function eb(t){return eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eb(t)}function nb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rb(r.key),r)}}function rb(t){var e=function(t,e){if("object"!=eb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=eb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==eb(e)?e:e+""}var ob=function(){return function(t,e,n){return e&&nb(t.prototype,e),n&&nb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=rb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"_isEnabled",!1)},[{key:"isEnabled",get:function(){return this._isEnabled}},{key:"toggleTranslationFeedbackMode",value:function(){this._isEnabled=!this._isEnabled}}])}();function ib(t){return ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ib(t)}function ab(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ub(r.key),r)}}function ub(t){var e=function(t,e){if("object"!=ib(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=ib(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==ib(e)?e:e+""}var sb=function(){return function(t,e,n){return e&&ab(t.prototype,e),n&&ab(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.inner=e;this.performanceMonitor=n},[{key:"loadDomainOptions",value:function(){var t=this;this.performanceMonitor.mark(Kr.DomainOptionsLoadStart);return this.inner.loadDomainOptions().then(function(e){t.performanceMonitor.mark(Kr.DomainOptionsLoadEnd);return e})}}])}();function lb(t){return lb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lb(t)}function cb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fb(r.key),r)}}function fb(t){var e=function(t,e){if("object"!=lb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=lb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==lb(e)?e:e+""}var pb="wovn-page-metadata-getter",db=function(){return function(t,e,n){return e&&cb(t.prototype,e),n&&cb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=fb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"pageMetadataList",{});this.data=e},[{key:"add",value:function(t,e){if(e&&!(e.toString().length<=0)&&t&&this.isSupportedMetadataName(t)){this.pageMetadataList[t]||(this.pageMetadataList[t]=[]);this.pageMetadataList[t].push(e.toString().trim())}}},{key:"clear",value:function(){this.pageMetadataList={};this.removePageMetadataScripts()}},{key:"get",value:function(){var t=this,e={};Object.keys(this.pageMetadataList).forEach(function(n){e[n]=vt.distinctBy(t.pageMetadataList[n],function(t){return t})});return e}},{key:"isSupportedMetadataName",value:function(t){return this.data.domainOptions.getPageMetaDefinitions().some(function(e){return e.name===t})}},{key:"executePageMetadataScripts",value:function(){var t=this.data.domainOptions.getPageMetaDefinitions();t.length<=0||this.addScript(this.generateSourceCode(t))}},{key:"removePageMetadataScripts",value:function(){document.querySelectorAll("script[".concat(pb,"]")).forEach(function(t){return t.remove()})}},{key:"addScript",value:function(t){if(!document.querySelector("script[".concat(pb,"]"))){var e=document.createElement("script");e.innerHTML=t;e.setAttribute(pb,"true");document.head.appendChild(e);return e}}},{key:"generateSourceCode",value:function(t){var e=t.map(function(t){return"try {\n      WOVN.io.internal.addPageMetadata('".concat(t.name,"', (function() { ").concat(t.javascript," })());\n    } catch (e) {};")}).join("\n");return"(function() {\n      ".concat(e,"\n    })();")}}])}();function hb(t,e,n,r,o,i,a,u,s,l,c){0;o["CustomDomainUrlHandler"]=function(){var t=function(t){t=t||{};var e=Object.keys(t).map(function(e){var n=t[e],r=new(Qn())("http://".concat(e));return new bd(r.hostname,r.pathname,n)});return new yd(e)}(a.customDomainLangs);return new fd(t,F)};o["HistoryApiListener"]={captureHistoryStateChanges:Fu};o["Utils"]=lt;o["Agent"]=$;o["NodeContainer"]=Qt;o["WovnContext"]=i;o["SnippetSettings"]=a;var f=new dm;o["PageData"]=f;var p=new hr(n);o["DomainOptions"]=p;var d=new kr(f,p);o["Data"]=d;var h=function(t,e,n,r){var o=new Pd(e,n,t),i=new Ld(r),a=new Vd([o,i]);return new _r(a,t)}(p,e,n,c);0;o["Cookie"]=h;var y=new Dr(h);o["LangCookie"]=y;var g=new Wd(h),v=new Iv(h),m=new Qv(h),b=new Jv(h),w=new im(h);o["AutoTriggerReportCookie"]=v;var S=new Gf(t,a.traceId),k=new np(p);o["TextNormalizer"]=k;var T=new ud,C=new jh(a,zh),O=new Hh(zh,C),E=new up(Ig()),P=new th(E,n,a,r),_=new Xe,A=new Qo(t,i,a);o["ExternalComponentLoader"]=A;var x=new ho(l,p);o["LiveEditorSettings"]=x;var j=new ls(x);o["ApiStatus"]=j;var L=new di(A,x),I=new Hn(e.documentElement,L,s,_,p);o["AuditTrigger"]=I;var D=new zo(a,i);o["SessionProxy"]=D;var N=new Xr(h,s);o["PerformanceMonitor"]=N;var R=new Ju(t,a,O,s,d,x,n,r);o["Url"]=R;var U=new Eo(R,a,t);o["UrlFormatter"]=U;var V=new Lo(U),H=new ag(d),M=new Yu(t,R);o["SPA"]=M;var B=new Yy(d,window.navigator),F=new Ft(y,a,O,C,B,d,p,t,j);o["Lang"]=F;var W=new Zn(d),q=new ii(i,p,b);o["WapInstaller"]=q;var z=new Cv(D),G=new ql,J=new Hf(d,a.token,i,S,R,u,t,g,F,a,x,z,G,n,window.performance);o["ServerControllerFactory"]=J;var K=new Lp(J.api,a);o["WidgetErrorLogger"]=K;var X=new qr(J.pageNotFound);o["PageChecker"]=X;var Z=new Vr(J.inSiteSearch),Y=new Ko(d,J,D,a);o["WidgetSessionManager"]=Y;var Q=new Th,tt=new fy(T,J.widgetData),et=new Ph(J.liveEditor),nt=new lm(T,P,J.widgetData),rt=new dh(x,P,Y,tt,nt,et),ot=new by(rt),it=new lh(t,ot,Q),at=new sb(new bh(J.widgetData,new Tg,P,Y,n),N),ut=new yy(new Jd(d,it,at,Y,P,x,s),N),st=new js;o["CustomDomAccessor"]=st;var ct=new _v;o["WovnElementFilter"]=ct;var ft=new Ug(d,ct);o["SupervisedContent"]=ft;var pt=new db(d);o["PageMetadataManager"]=pt;var dt=new Bv(d,s,F,v,a,$,lt,J,ft,x,i,R,m,pt);o["ReportHelper"]=dt;var ht=new rs(t,d,k,Z,I,F,h,O,j);o["Api"]=ht;var yt=new Rm(t,d,J.instantTranslation,j),gt=new ih(d,ht,t,i,ft,dt,h,F,y,a,pt,R),vt=new tb(ht,t,F,d,i,a,x,J);yb(t,ht,yt,gt,vt);var mt=new qe(F,x,Y),bt=new ob;o["TranslationFeedbackState"]=bt;var wt=new En(bt,A,I),St=new gv(gt,A,v,G),kt=new qy(P,J),Tt=new Ts(d,F,$,N,A,X,R,x,mt,wt,kt,B,St,ct,gt,P);o["Interface"]=Tt;var Ct=new Lm(d);o["ExcludedContentScope"]=Ct;var Ot=new Ci(t,I,dt,N,Tt,w,p,ft,Ct,x,bt);o["DomAuditor"]=Ot;var Et=new Di(t,F),Pt=new Ia(p,J.onDemandTranslation,t),_t=new bi(e.documentElement,I,_),At=new ry(t,d,F,W,N,j,_t,I,M,A,Y,q,L,R,ut,P,Q,x,Tt,Et,h,i,a,s,dt,Ot,Pt,pt),xt=a.isShopify?new cg(At,F,new gg):At;o["WidgetInit"]=xt;var jt=new wv;o["DomTraversalParsableNodeFilterProvider"]=jt;o["ValuesStackBalancer"]=function(){return new uy(k,t.c("UnifiedValueComments"))};o["ValuesStackGenerator"]=function(){return new Pg(k,t.c("UnifiedValueComments"))};o["UnifiedValueComments"]=function(){return p.hasFeature("all_text_translation_into_text_vals")?new da:new fa};o["DomTraversalFactory"]=function(){return new Bp(k,H,t.c("UnifiedValueComments"),jt,Pt,K,Ct,Tt,p)};o["UnifiedValueTranslationLookup"]=function(){return new mm(t.c("ValuesStackGenerator"),t.c("TranslationManager"))};o["ImageTranslationLookup"]=function(){return new Om(t.c("HostAliasMatcher"),t.c("TranslationManager"))};o["UnifiedValue"]=function(){var e=new pu(p),n=t.c("TranslationManager"),r=t.c("UnifiedValueTranslationLookup"),o=new Qp(r,vt);return new Bu(t,d,V,e,k,J.instantTranslation,a,t.c("ValuesStackBalancer"),t.c("DomTraversalFactory"),t.c("UnifiedValueComments"),t.c("ValuesStackGenerator"),dt,F,o,U,t.c("TranslationDataStorage"),R,x,r,t.c("ImageTranslationLookup"),n,t.c("DynamicLoadingManager"),u,P)};o["Storage"]=function(){if(p.hasFeature("disable_storage_for_translation_data")){Ig().removeItem("__wovn__.TranslationStore");c.removeItem("__wovn__.TranslationStore");return new up(new jg)}Lg().removeItem("__wovn__.TranslationStore");return E};o["TranslationDataStorage"]=function(){return new Jm(t.c("Storage"),f,p)};o["TranslationManager"]=function(){return new Mm(t.c("TranslationDataStorage"))};o["DomTraversal"]=function(){return t.c("DomTraversalFactory").create()};o["HostAliasMatcher"]=function(){return new Jp(p.getHostAliases())};o["DynamicLoadingManager"]=function(){return new Ps(J.dynamicLoading,d,_t,t.c("TranslationManager"),x)};o["LinkTranslationsManager"]=function(){var e=new Jg(d,t.c("HostAliasMatcher"));return new Bg(t,U,e)};o["SrcChildTextContentExtractor"]=function(){return new Js(st,t.c("UnifiedValueComments"))};o["PropertyValueTranslationRepository"]=function(){return new ul(f.getPropertyValues(),new Qs(st,t.c("SrcChildTextContentExtractor"),k))};o["PropertyValueSwapper"]=function(){return new Bs(t.c("PropertyValueTranslationRepository"))}}function yb(t,e,n,r,o){var i,a,u=this,s=window;s.WOVN={io:(i=e,a=n,{changeLang:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.changeLang.apply(i,e)},getCurrentLang:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.getCurrentLang.apply(i,e)},getWovnUrl:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.getWovnUrl.apply(i,e)},swap:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.swap.apply(i,e)},manualStart:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.manualStart.apply(i,e)},optInCookies:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.optInCookies.apply(i,e)},optOut:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.optOut.apply(i,e)},getSourceText:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.getSourceText.apply(i,e)},getSourceAttribute:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.getSourceAttribute.apply(i,e)},getTextTranslation:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.getTextTranslation.apply(i,e)},overrideDomainOptions:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.overrideDomainOptions.apply(i,e)},translateTexts:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.translateTexts.apply(i,e)},isPublished:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.isPublished.apply(i,e)},search:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.search.apply(i,e)},isApiReady:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.isApiReady.apply(i,e)},triggerAudit:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.triggerAudit.apply(i,e)},version:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.version.apply(i,e)},stop:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.stop.apply(i,e)},restartInit:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.restartInit.apply(i,e)},reloadPageData:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.reloadPageData.apply(i,e)},restart:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return i.restart.apply(i,e)},ruleBaseTranslation:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a.ruleBaseTranslation.apply(a,e)},instantTranslate:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a.instantTranslate.apply(a,e)},ruleBaseTranslationReady:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return a.ruleBaseTranslationReady.apply(a,e)}})};s.WOVN.io._private={widget:t,isApiReady:function(){return u.apiStatus.isApiReady()}};s.WOVN.io.internal=r;s.WOVN.io.liveEditor=o;s.Wovnio=s.WOVN.io;document.WOVNIO.api=s.WOVN.io}function gb(t){return gb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gb(t)}function vb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bb(r.key),r)}}function mb(t,e,n){return e&&vb(t.prototype,e),n&&vb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bb(t){var e=function(t,e){if("object"!=gb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=gb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==gb(e)?e:e+""}var wb=mb(function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);!function(t,e,n){(e=bb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"isCancelRequested",!1)});function Sb(t){return Sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sb(t)}function kb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cb(r.key),r)}}function Tb(t,e,n){return(e=Cb(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cb(t){var e=function(t,e){if("object"!=Sb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sb(e)?e:e+""}var Ob=function(){return function(t,e,n){return e&&kb(t.prototype,e),n&&kb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);Tb(this,"cancellationToken",new wb);Tb(this,"installedComponents",{});this.components=e;this.snippetSettings=n},[{key:"exposeComponentApi",value:function(){var t=this;document.WOVNIO={registerComponent:function(e,n,r){if(!t.components[e]||!r){t.components[e]=n;delete t.installedComponents[e];var o=document.createEvent("Event"),i=e+"Loaded";o.initEvent(i,!0,!0);document.dispatchEvent(o)}},components:this.components,api:null}}},{key:"isBackend",value:function(){return this.snippetSettings.isBackend}},{key:"getComponent",value:function(t){var e=this.installedComponents[t];if(e)return e;if(this.components[t]){this.installComponent(t);return this.installedComponents[t]}return null}},{key:"installComponent",value:function(t){if(!this.installedComponents[t]&&void 0!==this.components[t])if("function"==typeof this.components[t]){var e=this.components[t];this.installedComponents[t]=e(this)}else this.installedComponents[t]=this.components[t]}},{key:"c",value:function(t){return this.getComponent(t)}},{key:"isComponentLoaded",value:function(t){return this.installedComponents.hasOwnProperty(t)||this.components.hasOwnProperty(t)}},{key:"destroyComponent",value:function(t){if(this.installedComponents[t]&&"function"==typeof this.installedComponents[t].destroy){this.installedComponents[t].destroy();delete this.installedComponents[t]}}},{key:"destroy",value:function(){this.cancellationToken.isCancelRequested=!0;for(var t in this.installedComponents)this.installedComponents.hasOwnProperty(t)&&this.destroyComponent(t);for(var e in this.components){var n=this.components[e];"object"===Sb(n)&&"function"==typeof n.destroy&&n.destroy()}}},{key:"reinstallComponent",value:function(t){this.destroyComponent(t);this.installComponent(t)}},{key:"getBackendDefaultLang",value:function(){return this.snippetSettings.defaultLang}},{key:"getBackendUrlPattern",value:function(){return null==this.snippetSettings.urlPattern?null:this.snippetSettings.urlPattern==qa.CustomDomain?"custom_domain":qa[this.snippetSettings.urlPattern].toLowerCase()}},{key:"getEncodedLocation",value:function(t){return encodeURIComponent(this.getLocation(t))}},{key:"getLocation",value:function(t){t||(t=location);if("string"!=typeof t){var e=y().toASCII(t.host);t=t.protocol+"//"+e+t.pathname+t.search+t.hash}return this.c("UrlFormatter").createFromUrl(t).getNormalizedPageUrl(this.isBackend(),this.getBackendUrlPattern())}},{key:"widgetGetOriginalUrl",value:function(){var t=this.c("UrlFormatter"),e=this.c("Url"),n=t.create(location.protocol,location.host,location.pathname,location.search,location.hash).getOriginalUrl();if(this.isBackend()){var r=this.getBackendDefaultLang();n=e.getUrl(r,n)}return e.getEncodedLocation(n)}}])}();var Eb="data-wovnio",Pb="data-wovnio-type";function _b(t,e){return new Ja(t.getAttribute(Eb),t.getAttribute(Pb),e)}function Ab(t){return Ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ab(t)}function xb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jb(r.key),r)}}function jb(t){var e=function(t,e){if("object"!=Ab(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ab(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ab(e)?e:e+""}var Lb=function(){return function(t,e,n){return e&&xb(t.prototype,e),n&&xb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.shopifyController=e},[{key:"getToken",value:function(e){var n=this.getShopName(e);return n?this.shopifyController.token(n).then(function(t){return t.body["token"]})["catch"](function(t){throw new Error(t.body)}):t.Promise.reject(new Error("Shop name not found in snippet source"))}},{key:"getShopName",value:function(t){return t.query["shop"]}}])}();function Ib(t){return Ib="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ib(t)}function Db(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nb(r.key),r)}}function Nb(t){var e=function(t,e){if("object"!=Ib(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Ib(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Ib(e)?e:e+""}function Rb(t,e,n){return e=Vb(e),function(t,e){if(e&&("object"==Ib(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,Ub()?Reflect.construct(e,n||[],Vb(t).constructor):e.apply(t,n))}function Ub(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(Ub=function(){return!!t})()}function Vb(t){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Vb(t)}function Hb(t,e){return Hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},Hb(t,e)}var Mb=function(t){function e(t,n){var r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);(r=Rb(this,e,[n])).wovnContext=t;return r}!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Hb(t,e)}(e,t);return function(t,e,n){return e&&Db(t.prototype,e),n&&Db(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(e,[{key:"token",value:function(t){var e={shop:t};return this.getAndParseJson(this.wovnContext.cdnOriginHost,"/shopify/token",e,Do.FormUrlEncoded)}}])}(hl);function Bb(t){return Bb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bb(t)}function Fb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wb(r.key),r)}}function Wb(t){var e=function(t,e){if("object"!=Bb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Bb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Bb(e)?e:e+""}var qb=function(){return function(t,e,n){return e&&Fb(t.prototype,e),n&&Fb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.loc=e;this.protocol="http:";this.host=n;this.location=e},[{key:"path",get:function(){if("localhost"===this.location.host)return this.location.pathname;var t=new RegExp("^.*?/www(/.*)$","i"),e=this.location.pathname.match(t);if(e&&e[1])return e[1];throw new Error("Location Error: Could not parse Cordova resource path")}},{key:"query",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"href",get:function(){return"".concat(this.protocol,"//").concat(this.host).concat(this.path).concat(this.query).concat(this.hash)}}])}(),zb=n(3503),Gb=n.n(zb);function Jb(t){return Jb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jb(t)}function $b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kb(r.key),r)}}function Kb(t){var e=function(t,e){if("object"!=Jb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Jb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Jb(e)?e:e+""}var Xb=function(){return function(t,e,n){return e&&$b(t.prototype,e),n&&$b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.protocol="http:";this.host=n;this.path=this.computePath(e,r);this.query=e.search;this.hash=e.hash;this.href=this.protocol+"//"+this.host+this.path+this.query+this.hash},[{key:"generateHashPath",value:function(t){var e=Gb()(t).slice(0,8);return"/data-".concat(e)}},{key:"computePath",value:function(t,e){if("data:"===t.protocol)return this.generateHashPath(t.href);var n=new RegExp("((?:/[^/]+){0,".concat(e-1,"}/[^/]+)$"),"i"),r=t.pathname.match(n);return r&&r[1]?r[1]:"/undefined"}}])}();function Zb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,u=[],s=!0,l=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(u.push(r.value),u.length!==e);s=!0);}catch(t){l=!0,o=t}finally{try{if(!s&&null!=n["return"]&&(a=n["return"](),Object(a)!==a))return}finally{if(l)throw o}}return u}}(t,e)||function(t,e){if(t){if("string"==typeof t)return Yb(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yb(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function Qb(t){return Qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qb(t)}function tw(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ew(r.key),r)}}function ew(t){var e=function(t,e){if("object"!=Qb(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Qb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Qb(e)?e:e+""}var nw=function(){return function(t,e,n){return e&&tw(t.prototype,e),n&&tw(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);this.override=e},[{key:"host",get:function(){return this.override.host}},{key:"href",get:function(){return this.override.href}},{key:"hostWithoutLangCode",get:function(){return this.override.host}},{key:"hrefWithoutLangCode",get:function(){return this.override.href}}])}();function rw(t,e){var n=e.getAttribute("data-domain-override");if(n){var r=function(t,e){var n=Zb(e.split("="),2),r=n[0],o=n[1];if(!r||!o)throw new Error("Invalid format for data-domain-override attribute in Wovn script tag");var i=r.toLowerCase();if("cordova"==i)return new qb(t,o);if(i.startsWith("path_suffix_")){var a=parseInt(r.split("path_suffix_")[1]);if(Number.isNaN(a)||a<1)throw new Error("Location Error: Invalid segment count in override type");return new Xb(t,o,a)}throw new Error("Unrecognized domain override type: "+r)}(t,n);return new nw(r)}return null}function ow(e,n,r){var o={},i=n.href,a=new ro(n);if(a.disableWidget)return t.Promise.resolve();var u=Qu(e.documentElement);if(!u)return t.Promise.reject("WovnWidgetError - Snippet not found");if(null!=r&&r.getItem){var s=r.getItem("wovn-snippet-src-override");if(s&&!u.hasAttribute("wovn-src-override")){var l=e.createElement("script");l.async=!0;l.setAttribute("wovn-src-override",u.src);l.setAttribute("data-wovnio",u.getAttribute("data-wovnio"));l.src=s;u.parentNode.insertBefore(l,u);return t.Promise.resolve()}}var c=M(u),f=new Lb(new Mb(c,new Gf({cancellationToken:new wb}))),p=rw(n,u);return function(e,n,r){if(e.hasAttribute(Eb))return t.Promise.resolve(_b(e,r));var o=new(Qn())(e.src,!0),i=o.query["token"];if(i){e.setAttribute(Eb,"key=".concat(i));return t.Promise.resolve(_b(e,r))}return n.getToken(o).then(function(t){e.setAttribute(Eb,"key=".concat(t,"&shopify=true"));return _b(e,r)})}(u,f,p).then(function(t){if(a.useCreeper&&!t.isCreeper){iw();throw new Error("Wovn Creeper Active - Aborting non-creeper widget (token: "+t.token+")")}if(t.topWindowOnly&&window.self!==window.top){iw();throw new Error("Aborting widget inside iframe")}if(!($.isCrawler()||$.isWovnCrawler()&&!t.isCrawlerScrapingEnabled)){var s=function(t,e,n,r,o,i,a,u,s){var l=M(r),c=new Ob(t,o);c.exposeComponentApi();hb(c,i,a,history,t,l,o,s,e,n,u);c.tag={html:r,getAttribute:function(t){t="string"==typeof t?t:"";if(r.hasAttribute?r.hasAttribute(t):void 0!==r[t])return r.getAttribute(t);var e=new RegExp(t+"=([^&]*)","i"),n=(r.getAttribute("data-wovnio")||"").match(e);return n?"false"!==n[1]&&n[1]:""}};return c}(o,a,i,u,t,e,n,r,p);return aw(s).then(function(){})}iw()})}function iw(){window.WOVN=null;window.Wovnio=null;document.WOVNIO=null}function aw(e){return new t.Promise(function(t){var n=document.getElementsByTagName("html")[0];if(n&&Pe(n,"wovn-ignore"))t(e);else{e.c("WidgetInit").start(function(){return t(e)})}})}0;if(window._wovnIsQUnitTest){null}else if(!document.WOVNIO){document.WOVNIO={init:!0};ow(document,location,Lg())}}()}();